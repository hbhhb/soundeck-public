function Db(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function ha(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jl(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Ch={exports:{}},il={},Th={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function kE(){if(py)return Ct;py=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function g(v){return v===null||typeof v!="object"?null:(v=h&&v[h]||v["@@iterator"],typeof v=="function"?v:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,b={};function S(v,_,x){this.props=v,this.context=_,this.refs=b,this.updater=x||w}S.prototype.isReactComponent={},S.prototype.setState=function(v,_){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,_,"setState")},S.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function E(){}E.prototype=S.prototype;function P(v,_,x){this.props=v,this.context=_,this.refs=b,this.updater=x||w}var y=P.prototype=new E;y.constructor=P,R(y,S.prototype),y.isPureReactComponent=!0;var j=Array.isArray,L=Object.prototype.hasOwnProperty,G={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function $(v,_,x){var O,F={},Q=null,X=null;if(_!=null)for(O in _.ref!==void 0&&(X=_.ref),_.key!==void 0&&(Q=""+_.key),_)L.call(_,O)&&!U.hasOwnProperty(O)&&(F[O]=_[O]);var W=arguments.length-2;if(W===1)F.children=x;else if(1<W){for(var se=Array(W),le=0;le<W;le++)se[le]=arguments[le+2];F.children=se}if(v&&v.defaultProps)for(O in W=v.defaultProps,W)F[O]===void 0&&(F[O]=W[O]);return{$$typeof:t,type:v,key:Q,ref:X,props:F,_owner:G.current}}function ee(v,_){return{$$typeof:t,type:v.type,key:_,ref:v.ref,props:v.props,_owner:v._owner}}function ie(v){return typeof v=="object"&&v!==null&&v.$$typeof===t}function re(v){var _={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(x){return _[x]})}var z=/\/+/g;function ve(v,_){return typeof v=="object"&&v!==null&&v.key!=null?re(""+v.key):_.toString(36)}function K(v,_,x,O,F){var Q=typeof v;(Q==="undefined"||Q==="boolean")&&(v=null);var X=!1;if(v===null)X=!0;else switch(Q){case"string":case"number":X=!0;break;case"object":switch(v.$$typeof){case t:case e:X=!0}}if(X)return X=v,F=F(X),v=O===""?"."+ve(X,0):O,j(F)?(x="",v!=null&&(x=v.replace(z,"$&/")+"/"),K(F,_,x,"",function(le){return le})):F!=null&&(ie(F)&&(F=ee(F,x+(!F.key||X&&X.key===F.key?"":(""+F.key).replace(z,"$&/")+"/")+v)),_.push(F)),1;if(X=0,O=O===""?".":O+":",j(v))for(var W=0;W<v.length;W++){Q=v[W];var se=O+ve(Q,W);X+=K(Q,_,x,se,F)}else if(se=g(v),typeof se=="function")for(v=se.call(v),W=0;!(Q=v.next()).done;)Q=Q.value,se=O+ve(Q,W++),X+=K(Q,_,x,se,F);else if(Q==="object")throw _=String(v),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return X}function B(v,_,x){if(v==null)return v;var O=[],F=0;return K(v,O,"","",function(Q){return _.call(x,Q,F++)}),O}function k(v){if(v._status===-1){var _=v._result;_=_(),_.then(function(x){(v._status===0||v._status===-1)&&(v._status=1,v._result=x)},function(x){(v._status===0||v._status===-1)&&(v._status=2,v._result=x)}),v._status===-1&&(v._status=0,v._result=_)}if(v._status===1)return v._result.default;throw v._result}var I={current:null},M={transition:null},H={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:M,ReactCurrentOwner:G};function D(){throw Error("act(...) is not supported in production builds of React.")}return Ct.Children={map:B,forEach:function(v,_,x){B(v,function(){_.apply(this,arguments)},x)},count:function(v){var _=0;return B(v,function(){_++}),_},toArray:function(v){return B(v,function(_){return _})||[]},only:function(v){if(!ie(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},Ct.Component=S,Ct.Fragment=r,Ct.Profiler=s,Ct.PureComponent=P,Ct.StrictMode=n,Ct.Suspense=c,Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Ct.act=D,Ct.cloneElement=function(v,_,x){if(v==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+v+".");var O=R({},v.props),F=v.key,Q=v.ref,X=v._owner;if(_!=null){if(_.ref!==void 0&&(Q=_.ref,X=G.current),_.key!==void 0&&(F=""+_.key),v.type&&v.type.defaultProps)var W=v.type.defaultProps;for(se in _)L.call(_,se)&&!U.hasOwnProperty(se)&&(O[se]=_[se]===void 0&&W!==void 0?W[se]:_[se])}var se=arguments.length-2;if(se===1)O.children=x;else if(1<se){W=Array(se);for(var le=0;le<se;le++)W[le]=arguments[le+2];O.children=W}return{$$typeof:t,type:v.type,key:F,ref:Q,props:O,_owner:X}},Ct.createContext=function(v){return v={$$typeof:l,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},v.Provider={$$typeof:o,_context:v},v.Consumer=v},Ct.createElement=$,Ct.createFactory=function(v){var _=$.bind(null,v);return _.type=v,_},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(v){return{$$typeof:u,render:v}},Ct.isValidElement=ie,Ct.lazy=function(v){return{$$typeof:p,_payload:{_status:-1,_result:v},_init:k}},Ct.memo=function(v,_){return{$$typeof:f,type:v,compare:_===void 0?null:_}},Ct.startTransition=function(v){var _=M.transition;M.transition={};try{v()}finally{M.transition=_}},Ct.unstable_act=D,Ct.useCallback=function(v,_){return I.current.useCallback(v,_)},Ct.useContext=function(v){return I.current.useContext(v)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(v){return I.current.useDeferredValue(v)},Ct.useEffect=function(v,_){return I.current.useEffect(v,_)},Ct.useId=function(){return I.current.useId()},Ct.useImperativeHandle=function(v,_,x){return I.current.useImperativeHandle(v,_,x)},Ct.useInsertionEffect=function(v,_){return I.current.useInsertionEffect(v,_)},Ct.useLayoutEffect=function(v,_){return I.current.useLayoutEffect(v,_)},Ct.useMemo=function(v,_){return I.current.useMemo(v,_)},Ct.useReducer=function(v,_,x){return I.current.useReducer(v,_,x)},Ct.useRef=function(v){return I.current.useRef(v)},Ct.useState=function(v){return I.current.useState(v)},Ct.useSyncExternalStore=function(v,_,x){return I.current.useSyncExternalStore(v,_,x)},Ct.useTransition=function(){return I.current.useTransition()},Ct.version="18.3.1",Ct}var my;function yd(){return my||(my=1,Th.exports=kE()),Th.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function AE(){if(gy)return il;gy=1;var t=yd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,f){var p,h={},g=null,w=null;f!==void 0&&(g=""+f),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(w=c.ref);for(p in c)n.call(c,p)&&!o.hasOwnProperty(p)&&(h[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)h[p]===void 0&&(h[p]=c[p]);return{$$typeof:e,type:u,key:g,ref:w,props:h,_owner:s.current}}return il.Fragment=r,il.jsx=l,il.jsxs=l,il}var vy;function OE(){return vy||(vy=1,Ch.exports=AE()),Ch.exports}var T=OE(),Yu={},Rh={exports:{}},rn={},kh={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function PE(){return yy||(yy=1,(function(t){function e(M,H){var D=M.length;M.push(H);e:for(;0<D;){var v=D-1>>>1,_=M[v];if(0<s(_,H))M[v]=H,M[D]=_,D=v;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var H=M[0],D=M.pop();if(D!==H){M[0]=D;e:for(var v=0,_=M.length,x=_>>>1;v<x;){var O=2*(v+1)-1,F=M[O],Q=O+1,X=M[Q];if(0>s(F,D))Q<_&&0>s(X,F)?(M[v]=X,M[Q]=D,v=Q):(M[v]=F,M[O]=D,v=O);else if(Q<_&&0>s(X,D))M[v]=X,M[Q]=D,v=Q;else break e}}return H}function s(M,H){var D=M.sortIndex-H.sortIndex;return D!==0?D:M.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],f=[],p=1,h=null,g=3,w=!1,R=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var H=r(f);H!==null;){if(H.callback===null)n(f);else if(H.startTime<=M)n(f),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(f)}}function j(M){if(b=!1,y(M),!R)if(r(c)!==null)R=!0,k(L);else{var H=r(f);H!==null&&I(j,H.startTime-M)}}function L(M,H){R=!1,b&&(b=!1,E($),$=-1),w=!0;var D=g;try{for(y(H),h=r(c);h!==null&&(!(h.expirationTime>H)||M&&!re());){var v=h.callback;if(typeof v=="function"){h.callback=null,g=h.priorityLevel;var _=v(h.expirationTime<=H);H=t.unstable_now(),typeof _=="function"?h.callback=_:h===r(c)&&n(c),y(H)}else n(c);h=r(c)}if(h!==null)var x=!0;else{var O=r(f);O!==null&&I(j,O.startTime-H),x=!1}return x}finally{h=null,g=D,w=!1}}var G=!1,U=null,$=-1,ee=5,ie=-1;function re(){return!(t.unstable_now()-ie<ee)}function z(){if(U!==null){var M=t.unstable_now();ie=M;var H=!0;try{H=U(!0,M)}finally{H?ve():(G=!1,U=null)}}else G=!1}var ve;if(typeof P=="function")ve=function(){P(z)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,B=K.port2;K.port1.onmessage=z,ve=function(){B.postMessage(null)}}else ve=function(){S(z,0)};function k(M){U=M,G||(G=!0,ve())}function I(M,H){$=S(function(){M(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){R||w||(R=!0,k(L))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(M){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var D=g;g=H;try{return M()}finally{g=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=g;g=M;try{return H()}finally{g=D}},t.unstable_scheduleCallback=function(M,H,D){var v=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?v+D:v):D=v,M){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=D+_,M={id:p++,callback:H,priorityLevel:M,startTime:D,expirationTime:_,sortIndex:-1},D>v?(M.sortIndex=D,e(f,M),r(c)===null&&M===r(f)&&(b?(E($),$=-1):b=!0,I(j,D-v))):(M.sortIndex=_,e(c,M),R||w||(R=!0,k(L))),M},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(M){var H=g;return function(){var D=g;g=H;try{return M.apply(this,arguments)}finally{g=D}}}})(Ah)),Ah}var _y;function NE(){return _y||(_y=1,kh.exports=PE()),kh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function ME(){if(wy)return rn;wy=1;var t=yd(),e=NE();function r(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)n.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(i){return c.call(h,i)?!0:c.call(p,i)?!1:f.test(i)?h[i]=!0:(p[i]=!0,!1)}function w(i,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,a,d,m){if(a===null||typeof a>"u"||w(i,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(i,a,d,m,C,N,q){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=C,this.mustUseProperty=d,this.propertyName=i,this.type=a,this.sanitizeURL=N,this.removeEmptyString=q}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];S[a]=new b(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function P(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(E,P);S[a]=new b(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(E,P);S[a]=new b(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(E,P);S[a]=new b(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function y(i,a,d,m){var C=S.hasOwnProperty(a)?S[a]:null;(C!==null?C.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(R(a,d,C,m)&&(d=null),m||C===null?g(a)&&(d===null?i.removeAttribute(a):i.setAttribute(a,""+d)):C.mustUseProperty?i[C.propertyName]=d===null?C.type===3?!1:"":d:(a=C.attributeName,m=C.attributeNamespace,d===null?i.removeAttribute(a):(C=C.type,d=C===3||C===4&&d===!0?"":""+d,m?i.setAttributeNS(m,a,d):i.setAttribute(a,d))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),G=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),re=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),M=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var D=Object.assign,v;function _(i){if(v===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);v=a&&a[1]||""}return`
`+v+i}var x=!1;function O(i,a){if(!i||x)return"";x=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(xe){var m=xe}Reflect.construct(i,[],a)}else{try{a.call()}catch(xe){m=xe}i.call(a.prototype)}else{try{throw Error()}catch(xe){m=xe}i()}}catch(xe){if(xe&&m&&typeof xe.stack=="string"){for(var C=xe.stack.split(`
`),N=m.stack.split(`
`),q=C.length-1,oe=N.length-1;1<=q&&0<=oe&&C[q]!==N[oe];)oe--;for(;1<=q&&0<=oe;q--,oe--)if(C[q]!==N[oe]){if(q!==1||oe!==1)do if(q--,oe--,0>oe||C[q]!==N[oe]){var ue=`
`+C[q].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=q&&0<=oe);break}}}finally{x=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?_(i):""}function F(i){switch(i.tag){case 5:return _(i.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return i=O(i.type,!1),i;case 11:return i=O(i.type.render,!1),i;case 1:return i=O(i.type,!0),i;default:return""}}function Q(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case G:return"Portal";case ee:return"Profiler";case $:return"StrictMode";case ve:return"Suspense";case K:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case re:return(i.displayName||"Context")+".Consumer";case ie:return(i._context.displayName||"Context")+".Provider";case z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return a=i.displayName||null,a!==null?a:Q(i.type)||"Memo";case k:a=i._payload,i=i._init;try{return Q(i(a))}catch{}}return null}function X(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(a);case 8:return a===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function W(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function se(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function le(i){var a=se(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var C=d.get,N=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return C.call(this)},set:function(q){m=""+q,N.call(this,q)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(q){m=""+q},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function be(i){i._valueTracker||(i._valueTracker=le(i))}function Ce(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return i&&(m=se(i)?i.checked?"true":"false":i.value),i=m,i!==d?(a.setValue(i),!0):!1}function Te(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function je(i,a){var d=a.checked;return D({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function Ue(i,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=W(a.value!=null?a.value:d),i._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function lt(i,a){a=a.checked,a!=null&&y(i,"checked",a,!1)}function Et(i,a){lt(i,a);var d=W(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Y(i,a.type,d):a.hasOwnProperty("defaultValue")&&Y(i,a.type,W(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function V(i,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,d||a===i.value||(i.value=a),i.defaultValue=a}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function Y(i,a,d){(a!=="number"||Te(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var Le=Array.isArray;function Be(i,a,d,m){if(i=i.options,a){a={};for(var C=0;C<d.length;C++)a["$"+d[C]]=!0;for(d=0;d<i.length;d++)C=a.hasOwnProperty("$"+i[d].value),i[d].selected!==C&&(i[d].selected=C),C&&m&&(i[d].defaultSelected=!0)}else{for(d=""+W(d),a=null,C=0;C<i.length;C++){if(i[C].value===d){i[C].selected=!0,m&&(i[C].defaultSelected=!0);return}a!==null||i[C].disabled||(a=i[C])}a!==null&&(a.selected=!0)}}function We(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return D({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ge(i,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(r(92));if(Le(d)){if(1<d.length)throw Error(r(93));d=d[0]}a=d}a==null&&(a=""),d=a}i._wrapperState={initialValue:W(d)}}function he(i,a){var d=W(a.value),m=W(a.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),a.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),m!=null&&(i.defaultValue=""+m)}function Ie(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function nt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qe(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?nt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ne,yt=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,C){MSApp.execUnsafeLocalFunction(function(){return i(a,d,m,C)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Ne=Ne||document.createElement("div"),Ne.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ne.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function xt(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},At=["Webkit","ms","Moz","O"];Object.keys(bt).forEach(function(i){At.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),bt[a]=bt[i]})});function Lt(i,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||bt.hasOwnProperty(i)&&bt[i]?(""+a).trim():a+"px"}function Nt(i,a){i=i.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,C=Lt(d,a[d],m);d==="float"&&(d="cssFloat"),m?i.setProperty(d,C):i[d]=C}}var Bt=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ur(i,a){if(a){if(Bt[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function rr(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mr=null;function or(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var kr=null,Kr=null,xr=null;function Nn(i){if(i=za(i)){if(typeof kr!="function")throw Error(r(280));var a=i.stateNode;a&&(a=cu(a),kr(i.stateNode,i.type,a))}}function ut(i){Kr?xr?xr.push(i):xr=[i]:Kr=i}function Z(){if(Kr){var i=Kr,a=xr;if(xr=Kr=null,Nn(i),a)for(i=0;i<a.length;i++)Nn(a[i])}}function J(i,a){return i(a)}function ne(){}var ae=!1;function de(i,a,d){if(ae)return i(a,d);ae=!0;try{return J(i,a,d)}finally{ae=!1,(Kr!==null||xr!==null)&&(ne(),Z())}}function te(i,a){var d=i.stateNode;if(d===null)return null;var m=cu(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,a,typeof d));return d}var fe=!1;if(u)try{var me={};Object.defineProperty(me,"passive",{get:function(){fe=!0}}),window.addEventListener("test",me,me),window.removeEventListener("test",me,me)}catch{fe=!1}function ce(i,a,d,m,C,N,q,oe,ue){var xe=Array.prototype.slice.call(arguments,3);try{a.apply(d,xe)}catch(Pe){this.onError(Pe)}}var Se=!1,ge=null,Ee=!1,Fe=null,st={onError:function(i){Se=!0,ge=i}};function ke(i,a,d,m,C,N,q,oe,ue){Se=!1,ge=null,ce.apply(st,arguments)}function Qe(i,a,d,m,C,N,q,oe,ue){if(ke.apply(this,arguments),Se){if(Se){var xe=ge;Se=!1,ge=null}else throw Error(r(198));Ee||(Ee=!0,Fe=xe)}}function we(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function He(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function mt(i){if(we(i)!==i)throw Error(r(188))}function Ae(i){var a=i.alternate;if(!a){if(a=we(i),a===null)throw Error(r(188));return a!==i?null:i}for(var d=i,m=a;;){var C=d.return;if(C===null)break;var N=C.alternate;if(N===null){if(m=C.return,m!==null){d=m;continue}break}if(C.child===N.child){for(N=C.child;N;){if(N===d)return mt(C),i;if(N===m)return mt(C),a;N=N.sibling}throw Error(r(188))}if(d.return!==m.return)d=C,m=N;else{for(var q=!1,oe=C.child;oe;){if(oe===d){q=!0,d=C,m=N;break}if(oe===m){q=!0,m=C,d=N;break}oe=oe.sibling}if(!q){for(oe=N.child;oe;){if(oe===d){q=!0,d=N,m=C;break}if(oe===m){q=!0,m=N,d=C;break}oe=oe.sibling}if(!q)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:a}function ze(i){return i=Ae(i),i!==null?Re(i):null}function Re(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Re(i);if(a!==null)return a;i=i.sibling}return null}var it=e.unstable_scheduleCallback,It=e.unstable_cancelCallback,$e=e.unstable_shouldYield,ft=e.unstable_requestPaint,Ze=e.unstable_now,Ft=e.unstable_getCurrentPriorityLevel,Ar=e.unstable_ImmediatePriority,qt=e.unstable_UserBlockingPriority,Mt=e.unstable_NormalPriority,jr=e.unstable_LowPriority,Lr=e.unstable_IdlePriority,Sr=null,nr=null;function un(i){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Sr,i,void 0,(i.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:ka,yn=Math.log,Bs=Math.LN2;function ka(i){return i>>>=0,i===0?32:31-(yn(i)/Bs|0)|0}var _i=64,wi=4194304;function Fs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Dt(i,a){var d=i.pendingLanes;if(d===0)return 0;var m=0,C=i.suspendedLanes,N=i.pingedLanes,q=d&268435455;if(q!==0){var oe=q&~C;oe!==0?m=Fs(oe):(N&=q,N!==0&&(m=Fs(N)))}else q=d&~C,q!==0?m=Fs(q):N!==0&&(m=Fs(N));if(m===0)return 0;if(a!==0&&a!==m&&(a&C)===0&&(C=m&-m,N=a&-a,C>=N||C===16&&(N&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)d=31-jt(a),C=1<<d,m|=i[d],a&=~C;return m}function Kl(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(i,a){for(var d=i.suspendedLanes,m=i.pingedLanes,C=i.expirationTimes,N=i.pendingLanes;0<N;){var q=31-jt(N),oe=1<<q,ue=C[q];ue===-1?((oe&d)===0||(oe&m)!==0)&&(C[q]=Kl(oe,a)):ue<=a&&(i.expiredLanes|=oe),N&=~oe}}function bi(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function no(){var i=_i;return _i<<=1,(_i&4194240)===0&&(_i=64),i}function so(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function Mn(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-jt(a),i[a]=d}function Yd(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<d;){var C=31-jt(d),N=1<<C;a[C]=0,m[C]=-1,i[C]=-1,d&=~N}}function Qt(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var m=31-jt(d),C=1<<m;C&a|i[m]&a&&(i[m]|=a),d&=~C}}var Rt=0;function io(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var oo,Er,Vs,Qn,ao,In=!1,$s=[],Yr=null,Xr=null,cn=null,Zn=new Map,Aa=new Map,Us=[],X8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q1(i,a){switch(i){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":Zn.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(a.pointerId)}}function Oa(i,a,d,m,C,N){return i===null||i.nativeEvent!==N?(i={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:N,targetContainers:[C]},a!==null&&(a=za(a),a!==null&&Er(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,C!==null&&a.indexOf(C)===-1&&a.push(C),i)}function Q8(i,a,d,m,C){switch(a){case"focusin":return Yr=Oa(Yr,i,a,d,m,C),!0;case"dragenter":return Xr=Oa(Xr,i,a,d,m,C),!0;case"mouseover":return cn=Oa(cn,i,a,d,m,C),!0;case"pointerover":var N=C.pointerId;return Zn.set(N,Oa(Zn.get(N)||null,i,a,d,m,C)),!0;case"gotpointercapture":return N=C.pointerId,Aa.set(N,Oa(Aa.get(N)||null,i,a,d,m,C)),!0}return!1}function Z1(i){var a=xi(i.target);if(a!==null){var d=we(a);if(d!==null){if(a=d.tag,a===13){if(a=He(d),a!==null){i.blockedOn=a,ao(i.priority,function(){Vs(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xl(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=Qd(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var m=new d.constructor(d.type,d);mr=m,d.target.dispatchEvent(m),mr=null}else return a=za(d),a!==null&&Er(a),i.blockedOn=d,!1;a.shift()}return!0}function J1(i,a,d){Xl(i)&&d.delete(a)}function Z8(){In=!1,Yr!==null&&Xl(Yr)&&(Yr=null),Xr!==null&&Xl(Xr)&&(Xr=null),cn!==null&&Xl(cn)&&(cn=null),Zn.forEach(J1),Aa.forEach(J1)}function Pa(i,a){i.blockedOn===a&&(i.blockedOn=null,In||(In=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Z8)))}function Na(i){function a(C){return Pa(C,i)}if(0<$s.length){Pa($s[0],i);for(var d=1;d<$s.length;d++){var m=$s[d];m.blockedOn===i&&(m.blockedOn=null)}}for(Yr!==null&&Pa(Yr,i),Xr!==null&&Pa(Xr,i),cn!==null&&Pa(cn,i),Zn.forEach(a),Aa.forEach(a),d=0;d<Us.length;d++)m=Us[d],m.blockedOn===i&&(m.blockedOn=null);for(;0<Us.length&&(d=Us[0],d.blockedOn===null);)Z1(d),d.blockedOn===null&&Us.shift()}var lo=j.ReactCurrentBatchConfig,Ql=!0;function J8(i,a,d,m){var C=Rt,N=lo.transition;lo.transition=null;try{Rt=1,Xd(i,a,d,m)}finally{Rt=C,lo.transition=N}}function e6(i,a,d,m){var C=Rt,N=lo.transition;lo.transition=null;try{Rt=4,Xd(i,a,d,m)}finally{Rt=C,lo.transition=N}}function Xd(i,a,d,m){if(Ql){var C=Qd(i,a,d,m);if(C===null)mf(i,a,m,Zl,d),Q1(i,m);else if(Q8(C,i,a,d,m))m.stopPropagation();else if(Q1(i,m),a&4&&-1<X8.indexOf(i)){for(;C!==null;){var N=za(C);if(N!==null&&oo(N),N=Qd(i,a,d,m),N===null&&mf(i,a,m,Zl,d),N===C)break;C=N}C!==null&&m.stopPropagation()}else mf(i,a,m,null,d)}}var Zl=null;function Qd(i,a,d,m){if(Zl=null,i=or(m),i=xi(i),i!==null)if(a=we(i),a===null)i=null;else if(d=a.tag,d===13){if(i=He(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Zl=i,null}function eg(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ft()){case Ar:return 1;case qt:return 4;case Mt:case jr:return 16;case Lr:return 536870912;default:return 16}default:return 16}}var Hs=null,Zd=null,Jl=null;function tg(){if(Jl)return Jl;var i,a=Zd,d=a.length,m,C="value"in Hs?Hs.value:Hs.textContent,N=C.length;for(i=0;i<d&&a[i]===C[i];i++);var q=d-i;for(m=1;m<=q&&a[d-m]===C[N-m];m++);return Jl=C.slice(i,1<m?1-m:void 0)}function eu(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function tu(){return!0}function rg(){return!1}function dn(i){function a(d,m,C,N,q){this._reactName=d,this._targetInst=C,this.type=m,this.nativeEvent=N,this.target=q,this.currentTarget=null;for(var oe in i)i.hasOwnProperty(oe)&&(d=i[oe],this[oe]=d?d(N):N[oe]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?tu:rg,this.isPropagationStopped=rg,this}return D(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),a}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jd=dn(uo),Ma=D({},uo,{view:0,detail:0}),t6=dn(Ma),ef,tf,Ia,ru=D({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ia&&(Ia&&i.type==="mousemove"?(ef=i.screenX-Ia.screenX,tf=i.screenY-Ia.screenY):tf=ef=0,Ia=i),ef)},movementY:function(i){return"movementY"in i?i.movementY:tf}}),ng=dn(ru),r6=D({},ru,{dataTransfer:0}),n6=dn(r6),s6=D({},Ma,{relatedTarget:0}),rf=dn(s6),i6=D({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),o6=dn(i6),a6=D({},uo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),l6=dn(a6),u6=D({},uo,{data:0}),sg=dn(u6),c6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h6(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=f6[i])?!!a[i]:!1}function nf(){return h6}var p6=D({},Ma,{key:function(i){if(i.key){var a=c6[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=eu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?d6[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(i){return i.type==="keypress"?eu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?eu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),m6=dn(p6),g6=D({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ig=dn(g6),v6=D({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf}),y6=dn(v6),_6=D({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),w6=dn(_6),b6=D({},ru,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),x6=dn(b6),S6=[9,13,27,32],sf=u&&"CompositionEvent"in window,Da=null;u&&"documentMode"in document&&(Da=document.documentMode);var E6=u&&"TextEvent"in window&&!Da,og=u&&(!sf||Da&&8<Da&&11>=Da),ag=" ",lg=!1;function ug(i,a){switch(i){case"keyup":return S6.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var co=!1;function C6(i,a){switch(i){case"compositionend":return cg(a);case"keypress":return a.which!==32?null:(lg=!0,ag);case"textInput":return i=a.data,i===ag&&lg?null:i;default:return null}}function T6(i,a){if(co)return i==="compositionend"||!sf&&ug(i,a)?(i=tg(),Jl=Zd=Hs=null,co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return og&&a.locale!=="ko"?null:a.data;default:return null}}var R6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!R6[i.type]:a==="textarea"}function fg(i,a,d,m){ut(m),a=au(a,"onChange"),0<a.length&&(d=new Jd("onChange","change",null,d,m),i.push({event:d,listeners:a}))}var ja=null,La=null;function k6(i){Og(i,0)}function nu(i){var a=go(i);if(Ce(a))return i}function A6(i,a){if(i==="change")return a}var hg=!1;if(u){var of;if(u){var af="oninput"in document;if(!af){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),af=typeof pg.oninput=="function"}of=af}else of=!1;hg=of&&(!document.documentMode||9<document.documentMode)}function mg(){ja&&(ja.detachEvent("onpropertychange",gg),La=ja=null)}function gg(i){if(i.propertyName==="value"&&nu(La)){var a=[];fg(a,La,i,or(i)),de(k6,a)}}function O6(i,a,d){i==="focusin"?(mg(),ja=a,La=d,ja.attachEvent("onpropertychange",gg)):i==="focusout"&&mg()}function P6(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nu(La)}function N6(i,a){if(i==="click")return nu(a)}function M6(i,a){if(i==="input"||i==="change")return nu(a)}function I6(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Dn=typeof Object.is=="function"?Object.is:I6;function Ba(i,a){if(Dn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var C=d[m];if(!c.call(a,C)||!Dn(i[C],a[C]))return!1}return!0}function vg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yg(i,a){var d=vg(i);i=0;for(var m;d;){if(d.nodeType===3){if(m=i+d.textContent.length,i<=a&&m>=a)return{node:d,offset:a-i};i=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=vg(d)}}function _g(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?_g(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function wg(){for(var i=window,a=Te();a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=Te(i.document)}return a}function lf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function D6(i){var a=wg(),d=i.focusedElem,m=i.selectionRange;if(a!==d&&d&&d.ownerDocument&&_g(d.ownerDocument.documentElement,d)){if(m!==null&&lf(d)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(i,d.value.length);else if(i=(a=d.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var C=d.textContent.length,N=Math.min(m.start,C);m=m.end===void 0?N:Math.min(m.end,C),!i.extend&&N>m&&(C=m,m=N,N=C),C=yg(d,N);var q=yg(d,m);C&&q&&(i.rangeCount!==1||i.anchorNode!==C.node||i.anchorOffset!==C.offset||i.focusNode!==q.node||i.focusOffset!==q.offset)&&(a=a.createRange(),a.setStart(C.node,C.offset),i.removeAllRanges(),N>m?(i.addRange(a),i.extend(q.node,q.offset)):(a.setEnd(q.node,q.offset),i.addRange(a)))}}for(a=[],i=d;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)i=a[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var j6=u&&"documentMode"in document&&11>=document.documentMode,fo=null,uf=null,Fa=null,cf=!1;function bg(i,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;cf||fo==null||fo!==Te(m)||(m=fo,"selectionStart"in m&&lf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Fa&&Ba(Fa,m)||(Fa=m,m=au(uf,"onSelect"),0<m.length&&(a=new Jd("onSelect","select",null,a,d),i.push({event:a,listeners:m}),a.target=fo)))}function su(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var ho={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},df={},xg={};u&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function iu(i){if(df[i])return df[i];if(!ho[i])return i;var a=ho[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in xg)return df[i]=a[d];return i}var Sg=iu("animationend"),Eg=iu("animationiteration"),Cg=iu("animationstart"),Tg=iu("transitionend"),Rg=new Map,kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(i,a){Rg.set(i,a),o(a,[i])}for(var ff=0;ff<kg.length;ff++){var hf=kg[ff],L6=hf.toLowerCase(),B6=hf[0].toUpperCase()+hf.slice(1);zs(L6,"on"+B6)}zs(Sg,"onAnimationEnd"),zs(Eg,"onAnimationIteration"),zs(Cg,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(Tg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function Ag(i,a,d){var m=i.type||"unknown-event";i.currentTarget=d,Qe(m,a,void 0,i),i.currentTarget=null}function Og(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var m=i[d],C=m.event;m=m.listeners;e:{var N=void 0;if(a)for(var q=m.length-1;0<=q;q--){var oe=m[q],ue=oe.instance,xe=oe.currentTarget;if(oe=oe.listener,ue!==N&&C.isPropagationStopped())break e;Ag(C,oe,xe),N=ue}else for(q=0;q<m.length;q++){if(oe=m[q],ue=oe.instance,xe=oe.currentTarget,oe=oe.listener,ue!==N&&C.isPropagationStopped())break e;Ag(C,oe,xe),N=ue}}}if(Ee)throw i=Fe,Ee=!1,Fe=null,i}function zt(i,a){var d=a[bf];d===void 0&&(d=a[bf]=new Set);var m=i+"__bubble";d.has(m)||(Pg(a,i,2,!1),d.add(m))}function pf(i,a,d){var m=0;a&&(m|=4),Pg(d,i,m,a)}var ou="_reactListening"+Math.random().toString(36).slice(2);function $a(i){if(!i[ou]){i[ou]=!0,n.forEach(function(d){d!=="selectionchange"&&(F6.has(d)||pf(d,!1,i),pf(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[ou]||(a[ou]=!0,pf("selectionchange",!1,a))}}function Pg(i,a,d,m){switch(eg(a)){case 1:var C=J8;break;case 4:C=e6;break;default:C=Xd}d=C.bind(null,a,d,i),C=void 0,!fe||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(C=!0),m?C!==void 0?i.addEventListener(a,d,{capture:!0,passive:C}):i.addEventListener(a,d,!0):C!==void 0?i.addEventListener(a,d,{passive:C}):i.addEventListener(a,d,!1)}function mf(i,a,d,m,C){var N=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var q=m.tag;if(q===3||q===4){var oe=m.stateNode.containerInfo;if(oe===C||oe.nodeType===8&&oe.parentNode===C)break;if(q===4)for(q=m.return;q!==null;){var ue=q.tag;if((ue===3||ue===4)&&(ue=q.stateNode.containerInfo,ue===C||ue.nodeType===8&&ue.parentNode===C))return;q=q.return}for(;oe!==null;){if(q=xi(oe),q===null)return;if(ue=q.tag,ue===5||ue===6){m=N=q;continue e}oe=oe.parentNode}}m=m.return}de(function(){var xe=N,Pe=or(d),Me=[];e:{var Oe=Rg.get(i);if(Oe!==void 0){var Ke=Jd,Je=i;switch(i){case"keypress":if(eu(d)===0)break e;case"keydown":case"keyup":Ke=m6;break;case"focusin":Je="focus",Ke=rf;break;case"focusout":Je="blur",Ke=rf;break;case"beforeblur":case"afterblur":Ke=rf;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=n6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=y6;break;case Sg:case Eg:case Cg:Ke=o6;break;case Tg:Ke=w6;break;case"scroll":Ke=t6;break;case"wheel":Ke=x6;break;case"copy":case"cut":case"paste":Ke=l6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=ig}var rt=(a&4)!==0,ar=!rt&&i==="scroll",ye=rt?Oe!==null?Oe+"Capture":null:Oe;rt=[];for(var pe=xe,_e;pe!==null;){_e=pe;var Ve=_e.stateNode;if(_e.tag===5&&Ve!==null&&(_e=Ve,ye!==null&&(Ve=te(pe,ye),Ve!=null&&rt.push(Ua(pe,Ve,_e)))),ar)break;pe=pe.return}0<rt.length&&(Oe=new Ke(Oe,Je,null,d,Pe),Me.push({event:Oe,listeners:rt}))}}if((a&7)===0){e:{if(Oe=i==="mouseover"||i==="pointerover",Ke=i==="mouseout"||i==="pointerout",Oe&&d!==mr&&(Je=d.relatedTarget||d.fromElement)&&(xi(Je)||Je[hs]))break e;if((Ke||Oe)&&(Oe=Pe.window===Pe?Pe:(Oe=Pe.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Ke?(Je=d.relatedTarget||d.toElement,Ke=xe,Je=Je?xi(Je):null,Je!==null&&(ar=we(Je),Je!==ar||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(Ke=null,Je=xe),Ke!==Je)){if(rt=ng,Ve="onMouseLeave",ye="onMouseEnter",pe="mouse",(i==="pointerout"||i==="pointerover")&&(rt=ig,Ve="onPointerLeave",ye="onPointerEnter",pe="pointer"),ar=Ke==null?Oe:go(Ke),_e=Je==null?Oe:go(Je),Oe=new rt(Ve,pe+"leave",Ke,d,Pe),Oe.target=ar,Oe.relatedTarget=_e,Ve=null,xi(Pe)===xe&&(rt=new rt(ye,pe+"enter",Je,d,Pe),rt.target=_e,rt.relatedTarget=ar,Ve=rt),ar=Ve,Ke&&Je)t:{for(rt=Ke,ye=Je,pe=0,_e=rt;_e;_e=po(_e))pe++;for(_e=0,Ve=ye;Ve;Ve=po(Ve))_e++;for(;0<pe-_e;)rt=po(rt),pe--;for(;0<_e-pe;)ye=po(ye),_e--;for(;pe--;){if(rt===ye||ye!==null&&rt===ye.alternate)break t;rt=po(rt),ye=po(ye)}rt=null}else rt=null;Ke!==null&&Ng(Me,Oe,Ke,rt,!1),Je!==null&&ar!==null&&Ng(Me,ar,Je,rt,!0)}}e:{if(Oe=xe?go(xe):window,Ke=Oe.nodeName&&Oe.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&Oe.type==="file")var ot=A6;else if(dg(Oe))if(hg)ot=M6;else{ot=P6;var ct=O6}else(Ke=Oe.nodeName)&&Ke.toLowerCase()==="input"&&(Oe.type==="checkbox"||Oe.type==="radio")&&(ot=N6);if(ot&&(ot=ot(i,xe))){fg(Me,ot,d,Pe);break e}ct&&ct(i,Oe,xe),i==="focusout"&&(ct=Oe._wrapperState)&&ct.controlled&&Oe.type==="number"&&Y(Oe,"number",Oe.value)}switch(ct=xe?go(xe):window,i){case"focusin":(dg(ct)||ct.contentEditable==="true")&&(fo=ct,uf=xe,Fa=null);break;case"focusout":Fa=uf=fo=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,bg(Me,d,Pe);break;case"selectionchange":if(j6)break;case"keydown":case"keyup":bg(Me,d,Pe)}var dt;if(sf)e:{switch(i){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else co?ug(i,d)&&(gt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(gt="onCompositionStart");gt&&(og&&d.locale!=="ko"&&(co||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&co&&(dt=tg()):(Hs=Pe,Zd="value"in Hs?Hs.value:Hs.textContent,co=!0)),ct=au(xe,gt),0<ct.length&&(gt=new sg(gt,i,null,d,Pe),Me.push({event:gt,listeners:ct}),dt?gt.data=dt:(dt=cg(d),dt!==null&&(gt.data=dt)))),(dt=E6?C6(i,d):T6(i,d))&&(xe=au(xe,"onBeforeInput"),0<xe.length&&(Pe=new sg("onBeforeInput","beforeinput",null,d,Pe),Me.push({event:Pe,listeners:xe}),Pe.data=dt))}Og(Me,a)})}function Ua(i,a,d){return{instance:i,listener:a,currentTarget:d}}function au(i,a){for(var d=a+"Capture",m=[];i!==null;){var C=i,N=C.stateNode;C.tag===5&&N!==null&&(C=N,N=te(i,d),N!=null&&m.unshift(Ua(i,N,C)),N=te(i,a),N!=null&&m.push(Ua(i,N,C))),i=i.return}return m}function po(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ng(i,a,d,m,C){for(var N=a._reactName,q=[];d!==null&&d!==m;){var oe=d,ue=oe.alternate,xe=oe.stateNode;if(ue!==null&&ue===m)break;oe.tag===5&&xe!==null&&(oe=xe,C?(ue=te(d,N),ue!=null&&q.unshift(Ua(d,ue,oe))):C||(ue=te(d,N),ue!=null&&q.push(Ua(d,ue,oe)))),d=d.return}q.length!==0&&i.push({event:a,listeners:q})}var V6=/\r\n?/g,$6=/\u0000|\uFFFD/g;function Mg(i){return(typeof i=="string"?i:""+i).replace(V6,`
`).replace($6,"")}function lu(i,a,d){if(a=Mg(a),Mg(i)!==a&&d)throw Error(r(425))}function uu(){}var gf=null,vf=null;function yf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,U6=typeof clearTimeout=="function"?clearTimeout:void 0,Ig=typeof Promise=="function"?Promise:void 0,H6=typeof queueMicrotask=="function"?queueMicrotask:typeof Ig<"u"?function(i){return Ig.resolve(null).then(i).catch(z6)}:_f;function z6(i){setTimeout(function(){throw i})}function wf(i,a){var d=a,m=0;do{var C=d.nextSibling;if(i.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"){if(m===0){i.removeChild(C),Na(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=C}while(d);Na(a)}function Ws(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Dg(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return i;a--}else d==="/$"&&a++}i=i.previousSibling}return null}var mo=Math.random().toString(36).slice(2),Jn="__reactFiber$"+mo,Ha="__reactProps$"+mo,hs="__reactContainer$"+mo,bf="__reactEvents$"+mo,W6="__reactListeners$"+mo,q6="__reactHandles$"+mo;function xi(i){var a=i[Jn];if(a)return a;for(var d=i.parentNode;d;){if(a=d[hs]||d[Jn]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=Dg(i);i!==null;){if(d=i[Jn])return d;i=Dg(i)}return a}i=d,d=i.parentNode}return null}function za(i){return i=i[Jn]||i[hs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function go(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function cu(i){return i[Ha]||null}var xf=[],vo=-1;function qs(i){return{current:i}}function Wt(i){0>vo||(i.current=xf[vo],xf[vo]=null,vo--)}function Vt(i,a){vo++,xf[vo]=i.current,i.current=a}var Gs={},Br=qs(Gs),Qr=qs(!1),Si=Gs;function yo(i,a){var d=i.type.contextTypes;if(!d)return Gs;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var C={},N;for(N in d)C[N]=a[N];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=C),C}function Zr(i){return i=i.childContextTypes,i!=null}function du(){Wt(Qr),Wt(Br)}function jg(i,a,d){if(Br.current!==Gs)throw Error(r(168));Vt(Br,a),Vt(Qr,d)}function Lg(i,a,d){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var C in m)if(!(C in a))throw Error(r(108,X(i)||"Unknown",C));return D({},d,m)}function fu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Gs,Si=Br.current,Vt(Br,i),Vt(Qr,Qr.current),!0}function Bg(i,a,d){var m=i.stateNode;if(!m)throw Error(r(169));d?(i=Lg(i,a,Si),m.__reactInternalMemoizedMergedChildContext=i,Wt(Qr),Wt(Br),Vt(Br,i)):Wt(Qr),Vt(Qr,d)}var ps=null,hu=!1,Sf=!1;function Fg(i){ps===null?ps=[i]:ps.push(i)}function G6(i){hu=!0,Fg(i)}function Ks(){if(!Sf&&ps!==null){Sf=!0;var i=0,a=Rt;try{var d=ps;for(Rt=1;i<d.length;i++){var m=d[i];do m=m(!0);while(m!==null)}ps=null,hu=!1}catch(C){throw ps!==null&&(ps=ps.slice(i+1)),it(Ar,Ks),C}finally{Rt=a,Sf=!1}}return null}var _o=[],wo=0,pu=null,mu=0,_n=[],wn=0,Ei=null,ms=1,gs="";function Ci(i,a){_o[wo++]=mu,_o[wo++]=pu,pu=i,mu=a}function Vg(i,a,d){_n[wn++]=ms,_n[wn++]=gs,_n[wn++]=Ei,Ei=i;var m=ms;i=gs;var C=32-jt(m)-1;m&=~(1<<C),d+=1;var N=32-jt(a)+C;if(30<N){var q=C-C%5;N=(m&(1<<q)-1).toString(32),m>>=q,C-=q,ms=1<<32-jt(a)+C|d<<C|m,gs=N+i}else ms=1<<N|d<<C|m,gs=i}function Ef(i){i.return!==null&&(Ci(i,1),Vg(i,1,0))}function Cf(i){for(;i===pu;)pu=_o[--wo],_o[wo]=null,mu=_o[--wo],_o[wo]=null;for(;i===Ei;)Ei=_n[--wn],_n[wn]=null,gs=_n[--wn],_n[wn]=null,ms=_n[--wn],_n[wn]=null}var fn=null,hn=null,Gt=!1,jn=null;function $g(i,a){var d=En(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function Ug(i,a){switch(i.tag){case 5:var d=i.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,fn=i,hn=Ws(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,fn=i,hn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Ei!==null?{id:ms,overflow:gs}:null,i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=En(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,fn=i,hn=null,!0):!1;default:return!1}}function Tf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Rf(i){if(Gt){var a=hn;if(a){var d=a;if(!Ug(i,a)){if(Tf(i))throw Error(r(418));a=Ws(d.nextSibling);var m=fn;a&&Ug(i,a)?$g(m,d):(i.flags=i.flags&-4097|2,Gt=!1,fn=i)}}else{if(Tf(i))throw Error(r(418));i.flags=i.flags&-4097|2,Gt=!1,fn=i}}}function Hg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;fn=i}function gu(i){if(i!==fn)return!1;if(!Gt)return Hg(i),Gt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!yf(i.type,i.memoizedProps)),a&&(a=hn)){if(Tf(i))throw zg(),Error(r(418));for(;a;)$g(i,a),a=Ws(a.nextSibling)}if(Hg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(a===0){hn=Ws(i.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}i=i.nextSibling}hn=null}}else hn=fn?Ws(i.stateNode.nextSibling):null;return!0}function zg(){for(var i=hn;i;)i=Ws(i.nextSibling)}function bo(){hn=fn=null,Gt=!1}function kf(i){jn===null?jn=[i]:jn.push(i)}var K6=j.ReactCurrentBatchConfig;function Wa(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var m=d.stateNode}if(!m)throw Error(r(147,i));var C=m,N=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===N?a.ref:(a=function(q){var oe=C.refs;q===null?delete oe[N]:oe[N]=q},a._stringRef=N,a)}if(typeof i!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,i))}return i}function vu(i,a){throw i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Wg(i){var a=i._init;return a(i._payload)}function qg(i){function a(ye,pe){if(i){var _e=ye.deletions;_e===null?(ye.deletions=[pe],ye.flags|=16):_e.push(pe)}}function d(ye,pe){if(!i)return null;for(;pe!==null;)a(ye,pe),pe=pe.sibling;return null}function m(ye,pe){for(ye=new Map;pe!==null;)pe.key!==null?ye.set(pe.key,pe):ye.set(pe.index,pe),pe=pe.sibling;return ye}function C(ye,pe){return ye=ri(ye,pe),ye.index=0,ye.sibling=null,ye}function N(ye,pe,_e){return ye.index=_e,i?(_e=ye.alternate,_e!==null?(_e=_e.index,_e<pe?(ye.flags|=2,pe):_e):(ye.flags|=2,pe)):(ye.flags|=1048576,pe)}function q(ye){return i&&ye.alternate===null&&(ye.flags|=2),ye}function oe(ye,pe,_e,Ve){return pe===null||pe.tag!==6?(pe=_h(_e,ye.mode,Ve),pe.return=ye,pe):(pe=C(pe,_e),pe.return=ye,pe)}function ue(ye,pe,_e,Ve){var ot=_e.type;return ot===U?Pe(ye,pe,_e.props.children,Ve,_e.key):pe!==null&&(pe.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===k&&Wg(ot)===pe.type)?(Ve=C(pe,_e.props),Ve.ref=Wa(ye,pe,_e),Ve.return=ye,Ve):(Ve=$u(_e.type,_e.key,_e.props,null,ye.mode,Ve),Ve.ref=Wa(ye,pe,_e),Ve.return=ye,Ve)}function xe(ye,pe,_e,Ve){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==_e.containerInfo||pe.stateNode.implementation!==_e.implementation?(pe=wh(_e,ye.mode,Ve),pe.return=ye,pe):(pe=C(pe,_e.children||[]),pe.return=ye,pe)}function Pe(ye,pe,_e,Ve,ot){return pe===null||pe.tag!==7?(pe=Mi(_e,ye.mode,Ve,ot),pe.return=ye,pe):(pe=C(pe,_e),pe.return=ye,pe)}function Me(ye,pe,_e){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=_h(""+pe,ye.mode,_e),pe.return=ye,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case L:return _e=$u(pe.type,pe.key,pe.props,null,ye.mode,_e),_e.ref=Wa(ye,null,pe),_e.return=ye,_e;case G:return pe=wh(pe,ye.mode,_e),pe.return=ye,pe;case k:var Ve=pe._init;return Me(ye,Ve(pe._payload),_e)}if(Le(pe)||H(pe))return pe=Mi(pe,ye.mode,_e,null),pe.return=ye,pe;vu(ye,pe)}return null}function Oe(ye,pe,_e,Ve){var ot=pe!==null?pe.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return ot!==null?null:oe(ye,pe,""+_e,Ve);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case L:return _e.key===ot?ue(ye,pe,_e,Ve):null;case G:return _e.key===ot?xe(ye,pe,_e,Ve):null;case k:return ot=_e._init,Oe(ye,pe,ot(_e._payload),Ve)}if(Le(_e)||H(_e))return ot!==null?null:Pe(ye,pe,_e,Ve,null);vu(ye,_e)}return null}function Ke(ye,pe,_e,Ve,ot){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return ye=ye.get(_e)||null,oe(pe,ye,""+Ve,ot);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case L:return ye=ye.get(Ve.key===null?_e:Ve.key)||null,ue(pe,ye,Ve,ot);case G:return ye=ye.get(Ve.key===null?_e:Ve.key)||null,xe(pe,ye,Ve,ot);case k:var ct=Ve._init;return Ke(ye,pe,_e,ct(Ve._payload),ot)}if(Le(Ve)||H(Ve))return ye=ye.get(_e)||null,Pe(pe,ye,Ve,ot,null);vu(pe,Ve)}return null}function Je(ye,pe,_e,Ve){for(var ot=null,ct=null,dt=pe,gt=pe=0,Rr=null;dt!==null&&gt<_e.length;gt++){dt.index>gt?(Rr=dt,dt=null):Rr=dt.sibling;var Ot=Oe(ye,dt,_e[gt],Ve);if(Ot===null){dt===null&&(dt=Rr);break}i&&dt&&Ot.alternate===null&&a(ye,dt),pe=N(Ot,pe,gt),ct===null?ot=Ot:ct.sibling=Ot,ct=Ot,dt=Rr}if(gt===_e.length)return d(ye,dt),Gt&&Ci(ye,gt),ot;if(dt===null){for(;gt<_e.length;gt++)dt=Me(ye,_e[gt],Ve),dt!==null&&(pe=N(dt,pe,gt),ct===null?ot=dt:ct.sibling=dt,ct=dt);return Gt&&Ci(ye,gt),ot}for(dt=m(ye,dt);gt<_e.length;gt++)Rr=Ke(dt,ye,gt,_e[gt],Ve),Rr!==null&&(i&&Rr.alternate!==null&&dt.delete(Rr.key===null?gt:Rr.key),pe=N(Rr,pe,gt),ct===null?ot=Rr:ct.sibling=Rr,ct=Rr);return i&&dt.forEach(function(ni){return a(ye,ni)}),Gt&&Ci(ye,gt),ot}function rt(ye,pe,_e,Ve){var ot=H(_e);if(typeof ot!="function")throw Error(r(150));if(_e=ot.call(_e),_e==null)throw Error(r(151));for(var ct=ot=null,dt=pe,gt=pe=0,Rr=null,Ot=_e.next();dt!==null&&!Ot.done;gt++,Ot=_e.next()){dt.index>gt?(Rr=dt,dt=null):Rr=dt.sibling;var ni=Oe(ye,dt,Ot.value,Ve);if(ni===null){dt===null&&(dt=Rr);break}i&&dt&&ni.alternate===null&&a(ye,dt),pe=N(ni,pe,gt),ct===null?ot=ni:ct.sibling=ni,ct=ni,dt=Rr}if(Ot.done)return d(ye,dt),Gt&&Ci(ye,gt),ot;if(dt===null){for(;!Ot.done;gt++,Ot=_e.next())Ot=Me(ye,Ot.value,Ve),Ot!==null&&(pe=N(Ot,pe,gt),ct===null?ot=Ot:ct.sibling=Ot,ct=Ot);return Gt&&Ci(ye,gt),ot}for(dt=m(ye,dt);!Ot.done;gt++,Ot=_e.next())Ot=Ke(dt,ye,gt,Ot.value,Ve),Ot!==null&&(i&&Ot.alternate!==null&&dt.delete(Ot.key===null?gt:Ot.key),pe=N(Ot,pe,gt),ct===null?ot=Ot:ct.sibling=Ot,ct=Ot);return i&&dt.forEach(function(RE){return a(ye,RE)}),Gt&&Ci(ye,gt),ot}function ar(ye,pe,_e,Ve){if(typeof _e=="object"&&_e!==null&&_e.type===U&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case L:e:{for(var ot=_e.key,ct=pe;ct!==null;){if(ct.key===ot){if(ot=_e.type,ot===U){if(ct.tag===7){d(ye,ct.sibling),pe=C(ct,_e.props.children),pe.return=ye,ye=pe;break e}}else if(ct.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===k&&Wg(ot)===ct.type){d(ye,ct.sibling),pe=C(ct,_e.props),pe.ref=Wa(ye,ct,_e),pe.return=ye,ye=pe;break e}d(ye,ct);break}else a(ye,ct);ct=ct.sibling}_e.type===U?(pe=Mi(_e.props.children,ye.mode,Ve,_e.key),pe.return=ye,ye=pe):(Ve=$u(_e.type,_e.key,_e.props,null,ye.mode,Ve),Ve.ref=Wa(ye,pe,_e),Ve.return=ye,ye=Ve)}return q(ye);case G:e:{for(ct=_e.key;pe!==null;){if(pe.key===ct)if(pe.tag===4&&pe.stateNode.containerInfo===_e.containerInfo&&pe.stateNode.implementation===_e.implementation){d(ye,pe.sibling),pe=C(pe,_e.children||[]),pe.return=ye,ye=pe;break e}else{d(ye,pe);break}else a(ye,pe);pe=pe.sibling}pe=wh(_e,ye.mode,Ve),pe.return=ye,ye=pe}return q(ye);case k:return ct=_e._init,ar(ye,pe,ct(_e._payload),Ve)}if(Le(_e))return Je(ye,pe,_e,Ve);if(H(_e))return rt(ye,pe,_e,Ve);vu(ye,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,pe!==null&&pe.tag===6?(d(ye,pe.sibling),pe=C(pe,_e),pe.return=ye,ye=pe):(d(ye,pe),pe=_h(_e,ye.mode,Ve),pe.return=ye,ye=pe),q(ye)):d(ye,pe)}return ar}var xo=qg(!0),Gg=qg(!1),yu=qs(null),_u=null,So=null,Af=null;function Of(){Af=So=_u=null}function Pf(i){var a=yu.current;Wt(yu),i._currentValue=a}function Nf(i,a,d){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===d)break;i=i.return}}function Eo(i,a){_u=i,Af=So=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(Jr=!0),i.firstContext=null)}function bn(i){var a=i._currentValue;if(Af!==i)if(i={context:i,memoizedValue:a,next:null},So===null){if(_u===null)throw Error(r(308));So=i,_u.dependencies={lanes:0,firstContext:i}}else So=So.next=i;return a}var Ti=null;function Mf(i){Ti===null?Ti=[i]:Ti.push(i)}function Kg(i,a,d,m){var C=a.interleaved;return C===null?(d.next=d,Mf(a)):(d.next=C.next,C.next=d),a.interleaved=d,vs(i,m)}function vs(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var Ys=!1;function If(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yg(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ys(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Xs(i,a,d){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(kt&2)!==0){var C=m.pending;return C===null?a.next=a:(a.next=C.next,C.next=a),m.pending=a,vs(i,d)}return C=m.interleaved,C===null?(a.next=a,Mf(m)):(a.next=C.next,C.next=a),m.interleaved=a,vs(i,d)}function wu(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,d|=m,a.lanes=d,Qt(i,d)}}function Xg(i,a){var d=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var C=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var q={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};N===null?C=N=q:N=N.next=q,d=d.next}while(d!==null);N===null?C=N=a:N=N.next=a}else C=N=a;d={baseState:m.baseState,firstBaseUpdate:C,lastBaseUpdate:N,shared:m.shared,effects:m.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function bu(i,a,d,m){var C=i.updateQueue;Ys=!1;var N=C.firstBaseUpdate,q=C.lastBaseUpdate,oe=C.shared.pending;if(oe!==null){C.shared.pending=null;var ue=oe,xe=ue.next;ue.next=null,q===null?N=xe:q.next=xe,q=ue;var Pe=i.alternate;Pe!==null&&(Pe=Pe.updateQueue,oe=Pe.lastBaseUpdate,oe!==q&&(oe===null?Pe.firstBaseUpdate=xe:oe.next=xe,Pe.lastBaseUpdate=ue))}if(N!==null){var Me=C.baseState;q=0,Pe=xe=ue=null,oe=N;do{var Oe=oe.lane,Ke=oe.eventTime;if((m&Oe)===Oe){Pe!==null&&(Pe=Pe.next={eventTime:Ke,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var Je=i,rt=oe;switch(Oe=a,Ke=d,rt.tag){case 1:if(Je=rt.payload,typeof Je=="function"){Me=Je.call(Ke,Me,Oe);break e}Me=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=rt.payload,Oe=typeof Je=="function"?Je.call(Ke,Me,Oe):Je,Oe==null)break e;Me=D({},Me,Oe);break e;case 2:Ys=!0}}oe.callback!==null&&oe.lane!==0&&(i.flags|=64,Oe=C.effects,Oe===null?C.effects=[oe]:Oe.push(oe))}else Ke={eventTime:Ke,lane:Oe,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Pe===null?(xe=Pe=Ke,ue=Me):Pe=Pe.next=Ke,q|=Oe;if(oe=oe.next,oe===null){if(oe=C.shared.pending,oe===null)break;Oe=oe,oe=Oe.next,Oe.next=null,C.lastBaseUpdate=Oe,C.shared.pending=null}}while(!0);if(Pe===null&&(ue=Me),C.baseState=ue,C.firstBaseUpdate=xe,C.lastBaseUpdate=Pe,a=C.shared.interleaved,a!==null){C=a;do q|=C.lane,C=C.next;while(C!==a)}else N===null&&(C.shared.lanes=0);Ai|=q,i.lanes=q,i.memoizedState=Me}}function Qg(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],C=m.callback;if(C!==null){if(m.callback=null,m=d,typeof C!="function")throw Error(r(191,C));C.call(m)}}}var qa={},es=qs(qa),Ga=qs(qa),Ka=qs(qa);function Ri(i){if(i===qa)throw Error(r(174));return i}function Df(i,a){switch(Vt(Ka,a),Vt(Ga,i),Vt(es,qa),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:qe(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=qe(a,i)}Wt(es),Vt(es,a)}function Co(){Wt(es),Wt(Ga),Wt(Ka)}function Zg(i){Ri(Ka.current);var a=Ri(es.current),d=qe(a,i.type);a!==d&&(Vt(Ga,i),Vt(es,d))}function jf(i){Ga.current===i&&(Wt(es),Wt(Ga))}var Zt=qs(0);function xu(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Lf=[];function Bf(){for(var i=0;i<Lf.length;i++)Lf[i]._workInProgressVersionPrimary=null;Lf.length=0}var Su=j.ReactCurrentDispatcher,Ff=j.ReactCurrentBatchConfig,ki=0,Jt=null,gr=null,Cr=null,Eu=!1,Ya=!1,Xa=0,Y6=0;function Fr(){throw Error(r(321))}function Vf(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!Dn(i[d],a[d]))return!1;return!0}function $f(i,a,d,m,C,N){if(ki=N,Jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Su.current=i===null||i.memoizedState===null?J6:eE,i=d(m,C),Ya){N=0;do{if(Ya=!1,Xa=0,25<=N)throw Error(r(301));N+=1,Cr=gr=null,a.updateQueue=null,Su.current=tE,i=d(m,C)}while(Ya)}if(Su.current=Ru,a=gr!==null&&gr.next!==null,ki=0,Cr=gr=Jt=null,Eu=!1,a)throw Error(r(300));return i}function Uf(){var i=Xa!==0;return Xa=0,i}function ts(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Jt.memoizedState=Cr=i:Cr=Cr.next=i,Cr}function xn(){if(gr===null){var i=Jt.alternate;i=i!==null?i.memoizedState:null}else i=gr.next;var a=Cr===null?Jt.memoizedState:Cr.next;if(a!==null)Cr=a,gr=i;else{if(i===null)throw Error(r(310));gr=i,i={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Cr===null?Jt.memoizedState=Cr=i:Cr=Cr.next=i}return Cr}function Qa(i,a){return typeof a=="function"?a(i):a}function Hf(i){var a=xn(),d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var m=gr,C=m.baseQueue,N=d.pending;if(N!==null){if(C!==null){var q=C.next;C.next=N.next,N.next=q}m.baseQueue=C=N,d.pending=null}if(C!==null){N=C.next,m=m.baseState;var oe=q=null,ue=null,xe=N;do{var Pe=xe.lane;if((ki&Pe)===Pe)ue!==null&&(ue=ue.next={lane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),m=xe.hasEagerState?xe.eagerState:i(m,xe.action);else{var Me={lane:Pe,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null};ue===null?(oe=ue=Me,q=m):ue=ue.next=Me,Jt.lanes|=Pe,Ai|=Pe}xe=xe.next}while(xe!==null&&xe!==N);ue===null?q=m:ue.next=oe,Dn(m,a.memoizedState)||(Jr=!0),a.memoizedState=m,a.baseState=q,a.baseQueue=ue,d.lastRenderedState=m}if(i=d.interleaved,i!==null){C=i;do N=C.lane,Jt.lanes|=N,Ai|=N,C=C.next;while(C!==i)}else C===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function zf(i){var a=xn(),d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var m=d.dispatch,C=d.pending,N=a.memoizedState;if(C!==null){d.pending=null;var q=C=C.next;do N=i(N,q.action),q=q.next;while(q!==C);Dn(N,a.memoizedState)||(Jr=!0),a.memoizedState=N,a.baseQueue===null&&(a.baseState=N),d.lastRenderedState=N}return[N,m]}function Jg(){}function ev(i,a){var d=Jt,m=xn(),C=a(),N=!Dn(m.memoizedState,C);if(N&&(m.memoizedState=C,Jr=!0),m=m.queue,Wf(nv.bind(null,d,m,i),[i]),m.getSnapshot!==a||N||Cr!==null&&Cr.memoizedState.tag&1){if(d.flags|=2048,Za(9,rv.bind(null,d,m,C,a),void 0,null),Tr===null)throw Error(r(349));(ki&30)!==0||tv(d,a,C)}return C}function tv(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=Jt.updateQueue,a===null?(a={lastEffect:null,stores:null},Jt.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function rv(i,a,d,m){a.value=d,a.getSnapshot=m,sv(a)&&iv(i)}function nv(i,a,d){return d(function(){sv(a)&&iv(i)})}function sv(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!Dn(i,d)}catch{return!0}}function iv(i){var a=vs(i,1);a!==null&&Vn(a,i,1,-1)}function ov(i){var a=ts();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:i},a.queue=i,i=i.dispatch=Z6.bind(null,Jt,i),[a.memoizedState,i]}function Za(i,a,d,m){return i={tag:i,create:a,destroy:d,deps:m,next:null},a=Jt.updateQueue,a===null?(a={lastEffect:null,stores:null},Jt.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(m=d.next,d.next=i,i.next=m,a.lastEffect=i)),i}function av(){return xn().memoizedState}function Cu(i,a,d,m){var C=ts();Jt.flags|=i,C.memoizedState=Za(1|a,d,void 0,m===void 0?null:m)}function Tu(i,a,d,m){var C=xn();m=m===void 0?null:m;var N=void 0;if(gr!==null){var q=gr.memoizedState;if(N=q.destroy,m!==null&&Vf(m,q.deps)){C.memoizedState=Za(a,d,N,m);return}}Jt.flags|=i,C.memoizedState=Za(1|a,d,N,m)}function lv(i,a){return Cu(8390656,8,i,a)}function Wf(i,a){return Tu(2048,8,i,a)}function uv(i,a){return Tu(4,2,i,a)}function cv(i,a){return Tu(4,4,i,a)}function dv(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function fv(i,a,d){return d=d!=null?d.concat([i]):null,Tu(4,4,dv.bind(null,a,i),d)}function qf(){}function hv(i,a){var d=xn();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Vf(a,m[1])?m[0]:(d.memoizedState=[i,a],i)}function pv(i,a){var d=xn();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Vf(a,m[1])?m[0]:(i=i(),d.memoizedState=[i,a],i)}function mv(i,a,d){return(ki&21)===0?(i.baseState&&(i.baseState=!1,Jr=!0),i.memoizedState=d):(Dn(d,a)||(d=no(),Jt.lanes|=d,Ai|=d,i.baseState=!0),a)}function X6(i,a){var d=Rt;Rt=d!==0&&4>d?d:4,i(!0);var m=Ff.transition;Ff.transition={};try{i(!1),a()}finally{Rt=d,Ff.transition=m}}function gv(){return xn().memoizedState}function Q6(i,a,d){var m=ei(i);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},vv(i))yv(a,d);else if(d=Kg(i,a,d,m),d!==null){var C=qr();Vn(d,i,m,C),_v(d,a,m)}}function Z6(i,a,d){var m=ei(i),C={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(vv(i))yv(a,C);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=a.lastRenderedReducer,N!==null))try{var q=a.lastRenderedState,oe=N(q,d);if(C.hasEagerState=!0,C.eagerState=oe,Dn(oe,q)){var ue=a.interleaved;ue===null?(C.next=C,Mf(a)):(C.next=ue.next,ue.next=C),a.interleaved=C;return}}catch{}finally{}d=Kg(i,a,C,m),d!==null&&(C=qr(),Vn(d,i,m,C),_v(d,a,m))}}function vv(i){var a=i.alternate;return i===Jt||a!==null&&a===Jt}function yv(i,a){Ya=Eu=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function _v(i,a,d){if((d&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,d|=m,a.lanes=d,Qt(i,d)}}var Ru={readContext:bn,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},J6={readContext:bn,useCallback:function(i,a){return ts().memoizedState=[i,a===void 0?null:a],i},useContext:bn,useEffect:lv,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,Cu(4194308,4,dv.bind(null,a,i),d)},useLayoutEffect:function(i,a){return Cu(4194308,4,i,a)},useInsertionEffect:function(i,a){return Cu(4,2,i,a)},useMemo:function(i,a){var d=ts();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var m=ts();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=Q6.bind(null,Jt,i),[m.memoizedState,i]},useRef:function(i){var a=ts();return i={current:i},a.memoizedState=i},useState:ov,useDebugValue:qf,useDeferredValue:function(i){return ts().memoizedState=i},useTransition:function(){var i=ov(!1),a=i[0];return i=X6.bind(null,i[1]),ts().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var m=Jt,C=ts();if(Gt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=a(),Tr===null)throw Error(r(349));(ki&30)!==0||tv(m,a,d)}C.memoizedState=d;var N={value:d,getSnapshot:a};return C.queue=N,lv(nv.bind(null,m,N,i),[i]),m.flags|=2048,Za(9,rv.bind(null,m,N,d,a),void 0,null),d},useId:function(){var i=ts(),a=Tr.identifierPrefix;if(Gt){var d=gs,m=ms;d=(m&~(1<<32-jt(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=Xa++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=Y6++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},eE={readContext:bn,useCallback:hv,useContext:bn,useEffect:Wf,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:cv,useMemo:pv,useReducer:Hf,useRef:av,useState:function(){return Hf(Qa)},useDebugValue:qf,useDeferredValue:function(i){var a=xn();return mv(a,gr.memoizedState,i)},useTransition:function(){var i=Hf(Qa)[0],a=xn().memoizedState;return[i,a]},useMutableSource:Jg,useSyncExternalStore:ev,useId:gv,unstable_isNewReconciler:!1},tE={readContext:bn,useCallback:hv,useContext:bn,useEffect:Wf,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:cv,useMemo:pv,useReducer:zf,useRef:av,useState:function(){return zf(Qa)},useDebugValue:qf,useDeferredValue:function(i){var a=xn();return gr===null?a.memoizedState=i:mv(a,gr.memoizedState,i)},useTransition:function(){var i=zf(Qa)[0],a=xn().memoizedState;return[i,a]},useMutableSource:Jg,useSyncExternalStore:ev,useId:gv,unstable_isNewReconciler:!1};function Ln(i,a){if(i&&i.defaultProps){a=D({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}function Gf(i,a,d,m){a=i.memoizedState,d=d(m,a),d=d==null?a:D({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var ku={isMounted:function(i){return(i=i._reactInternals)?we(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var m=qr(),C=ei(i),N=ys(m,C);N.payload=a,d!=null&&(N.callback=d),a=Xs(i,N,C),a!==null&&(Vn(a,i,C,m),wu(a,i,C))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var m=qr(),C=ei(i),N=ys(m,C);N.tag=1,N.payload=a,d!=null&&(N.callback=d),a=Xs(i,N,C),a!==null&&(Vn(a,i,C,m),wu(a,i,C))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=qr(),m=ei(i),C=ys(d,m);C.tag=2,a!=null&&(C.callback=a),a=Xs(i,C,m),a!==null&&(Vn(a,i,m,d),wu(a,i,m))}};function wv(i,a,d,m,C,N,q){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,N,q):a.prototype&&a.prototype.isPureReactComponent?!Ba(d,m)||!Ba(C,N):!0}function bv(i,a,d){var m=!1,C=Gs,N=a.contextType;return typeof N=="object"&&N!==null?N=bn(N):(C=Zr(a)?Si:Br.current,m=a.contextTypes,N=(m=m!=null)?yo(i,C):Gs),a=new a(d,N),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ku,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=C,i.__reactInternalMemoizedMaskedChildContext=N),a}function xv(i,a,d,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==i&&ku.enqueueReplaceState(a,a.state,null)}function Kf(i,a,d,m){var C=i.stateNode;C.props=d,C.state=i.memoizedState,C.refs={},If(i);var N=a.contextType;typeof N=="object"&&N!==null?C.context=bn(N):(N=Zr(a)?Si:Br.current,C.context=yo(i,N)),C.state=i.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(Gf(i,a,N,d),C.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(a=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),a!==C.state&&ku.enqueueReplaceState(C,C.state,null),bu(i,d,C,m),C.state=i.memoizedState),typeof C.componentDidMount=="function"&&(i.flags|=4194308)}function To(i,a){try{var d="",m=a;do d+=F(m),m=m.return;while(m);var C=d}catch(N){C=`
Error generating stack: `+N.message+`
`+N.stack}return{value:i,source:a,stack:C,digest:null}}function Yf(i,a,d){return{value:i,source:null,stack:d??null,digest:a??null}}function Xf(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var rE=typeof WeakMap=="function"?WeakMap:Map;function Sv(i,a,d){d=ys(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){Du||(Du=!0,dh=m),Xf(i,a)},d}function Ev(i,a,d){d=ys(-1,d),d.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var C=a.value;d.payload=function(){return m(C)},d.callback=function(){Xf(i,a)}}var N=i.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(d.callback=function(){Xf(i,a),typeof m!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var q=a.stack;this.componentDidCatch(a.value,{componentStack:q!==null?q:""})}),d}function Cv(i,a,d){var m=i.pingCache;if(m===null){m=i.pingCache=new rE;var C=new Set;m.set(a,C)}else C=m.get(a),C===void 0&&(C=new Set,m.set(a,C));C.has(d)||(C.add(d),i=gE.bind(null,i,a,d),a.then(i,i))}function Tv(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Rv(i,a,d,m,C){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=ys(-1,1),a.tag=2,Xs(d,a,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=C,i)}var nE=j.ReactCurrentOwner,Jr=!1;function Wr(i,a,d,m){a.child=i===null?Gg(a,null,d,m):xo(a,i.child,d,m)}function kv(i,a,d,m,C){d=d.render;var N=a.ref;return Eo(a,C),m=$f(i,a,d,m,N,C),d=Uf(),i!==null&&!Jr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~C,_s(i,a,C)):(Gt&&d&&Ef(a),a.flags|=1,Wr(i,a,m,C),a.child)}function Av(i,a,d,m,C){if(i===null){var N=d.type;return typeof N=="function"&&!yh(N)&&N.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=N,Ov(i,a,N,m,C)):(i=$u(d.type,null,m,a,a.mode,C),i.ref=a.ref,i.return=a,a.child=i)}if(N=i.child,(i.lanes&C)===0){var q=N.memoizedProps;if(d=d.compare,d=d!==null?d:Ba,d(q,m)&&i.ref===a.ref)return _s(i,a,C)}return a.flags|=1,i=ri(N,m),i.ref=a.ref,i.return=a,a.child=i}function Ov(i,a,d,m,C){if(i!==null){var N=i.memoizedProps;if(Ba(N,m)&&i.ref===a.ref)if(Jr=!1,a.pendingProps=m=N,(i.lanes&C)!==0)(i.flags&131072)!==0&&(Jr=!0);else return a.lanes=i.lanes,_s(i,a,C)}return Qf(i,a,d,m,C)}function Pv(i,a,d){var m=a.pendingProps,C=m.children,N=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(ko,pn),pn|=d;else{if((d&1073741824)===0)return i=N!==null?N.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Vt(ko,pn),pn|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=N!==null?N.baseLanes:d,Vt(ko,pn),pn|=m}else N!==null?(m=N.baseLanes|d,a.memoizedState=null):m=d,Vt(ko,pn),pn|=m;return Wr(i,a,C,d),a.child}function Nv(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Qf(i,a,d,m,C){var N=Zr(d)?Si:Br.current;return N=yo(a,N),Eo(a,C),d=$f(i,a,d,m,N,C),m=Uf(),i!==null&&!Jr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~C,_s(i,a,C)):(Gt&&m&&Ef(a),a.flags|=1,Wr(i,a,d,C),a.child)}function Mv(i,a,d,m,C){if(Zr(d)){var N=!0;fu(a)}else N=!1;if(Eo(a,C),a.stateNode===null)Ou(i,a),bv(a,d,m),Kf(a,d,m,C),m=!0;else if(i===null){var q=a.stateNode,oe=a.memoizedProps;q.props=oe;var ue=q.context,xe=d.contextType;typeof xe=="object"&&xe!==null?xe=bn(xe):(xe=Zr(d)?Si:Br.current,xe=yo(a,xe));var Pe=d.getDerivedStateFromProps,Me=typeof Pe=="function"||typeof q.getSnapshotBeforeUpdate=="function";Me||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(oe!==m||ue!==xe)&&xv(a,q,m,xe),Ys=!1;var Oe=a.memoizedState;q.state=Oe,bu(a,m,q,C),ue=a.memoizedState,oe!==m||Oe!==ue||Qr.current||Ys?(typeof Pe=="function"&&(Gf(a,d,Pe,m),ue=a.memoizedState),(oe=Ys||wv(a,d,oe,m,Oe,ue,xe))?(Me||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(a.flags|=4194308)):(typeof q.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=ue),q.props=m,q.state=ue,q.context=xe,m=oe):(typeof q.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{q=a.stateNode,Yg(i,a),oe=a.memoizedProps,xe=a.type===a.elementType?oe:Ln(a.type,oe),q.props=xe,Me=a.pendingProps,Oe=q.context,ue=d.contextType,typeof ue=="object"&&ue!==null?ue=bn(ue):(ue=Zr(d)?Si:Br.current,ue=yo(a,ue));var Ke=d.getDerivedStateFromProps;(Pe=typeof Ke=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(oe!==Me||Oe!==ue)&&xv(a,q,m,ue),Ys=!1,Oe=a.memoizedState,q.state=Oe,bu(a,m,q,C);var Je=a.memoizedState;oe!==Me||Oe!==Je||Qr.current||Ys?(typeof Ke=="function"&&(Gf(a,d,Ke,m),Je=a.memoizedState),(xe=Ys||wv(a,d,xe,m,Oe,Je,ue)||!1)?(Pe||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(m,Je,ue),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(m,Je,ue)),typeof q.componentDidUpdate=="function"&&(a.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof q.componentDidUpdate!="function"||oe===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||oe===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Je),q.props=m,q.state=Je,q.context=ue,m=xe):(typeof q.componentDidUpdate!="function"||oe===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||oe===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=1024),m=!1)}return Zf(i,a,d,m,N,C)}function Zf(i,a,d,m,C,N){Nv(i,a);var q=(a.flags&128)!==0;if(!m&&!q)return C&&Bg(a,d,!1),_s(i,a,N);m=a.stateNode,nE.current=a;var oe=q&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&q?(a.child=xo(a,i.child,null,N),a.child=xo(a,null,oe,N)):Wr(i,a,oe,N),a.memoizedState=m.state,C&&Bg(a,d,!0),a.child}function Iv(i){var a=i.stateNode;a.pendingContext?jg(i,a.pendingContext,a.pendingContext!==a.context):a.context&&jg(i,a.context,!1),Df(i,a.containerInfo)}function Dv(i,a,d,m,C){return bo(),kf(C),a.flags|=256,Wr(i,a,d,m),a.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function eh(i){return{baseLanes:i,cachePool:null,transitions:null}}function jv(i,a,d){var m=a.pendingProps,C=Zt.current,N=!1,q=(a.flags&128)!==0,oe;if((oe=q)||(oe=i!==null&&i.memoizedState===null?!1:(C&2)!==0),oe?(N=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(C|=1),Vt(Zt,C&1),i===null)return Rf(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(q=m.children,i=m.fallback,N?(m=a.mode,N=a.child,q={mode:"hidden",children:q},(m&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=q):N=Uu(q,m,0,null),i=Mi(i,m,d,null),N.return=a,i.return=a,N.sibling=i,a.child=N,a.child.memoizedState=eh(d),a.memoizedState=Jf,i):th(a,q));if(C=i.memoizedState,C!==null&&(oe=C.dehydrated,oe!==null))return sE(i,a,q,m,oe,C,d);if(N){N=m.fallback,q=a.mode,C=i.child,oe=C.sibling;var ue={mode:"hidden",children:m.children};return(q&1)===0&&a.child!==C?(m=a.child,m.childLanes=0,m.pendingProps=ue,a.deletions=null):(m=ri(C,ue),m.subtreeFlags=C.subtreeFlags&14680064),oe!==null?N=ri(oe,N):(N=Mi(N,q,d,null),N.flags|=2),N.return=a,m.return=a,m.sibling=N,a.child=m,m=N,N=a.child,q=i.child.memoizedState,q=q===null?eh(d):{baseLanes:q.baseLanes|d,cachePool:null,transitions:q.transitions},N.memoizedState=q,N.childLanes=i.childLanes&~d,a.memoizedState=Jf,m}return N=i.child,i=N.sibling,m=ri(N,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=m,a.memoizedState=null,m}function th(i,a){return a=Uu({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Au(i,a,d,m){return m!==null&&kf(m),xo(a,i.child,null,d),i=th(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function sE(i,a,d,m,C,N,q){if(d)return a.flags&256?(a.flags&=-257,m=Yf(Error(r(422))),Au(i,a,q,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(N=m.fallback,C=a.mode,m=Uu({mode:"visible",children:m.children},C,0,null),N=Mi(N,C,q,null),N.flags|=2,m.return=a,N.return=a,m.sibling=N,a.child=m,(a.mode&1)!==0&&xo(a,i.child,null,q),a.child.memoizedState=eh(q),a.memoizedState=Jf,N);if((a.mode&1)===0)return Au(i,a,q,null);if(C.data==="$!"){if(m=C.nextSibling&&C.nextSibling.dataset,m)var oe=m.dgst;return m=oe,N=Error(r(419)),m=Yf(N,m,void 0),Au(i,a,q,m)}if(oe=(q&i.childLanes)!==0,Jr||oe){if(m=Tr,m!==null){switch(q&-q){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(m.suspendedLanes|q))!==0?0:C,C!==0&&C!==N.retryLane&&(N.retryLane=C,vs(i,C),Vn(m,i,C,-1))}return vh(),m=Yf(Error(r(421))),Au(i,a,q,m)}return C.data==="$?"?(a.flags|=128,a.child=i.child,a=vE.bind(null,i),C._reactRetry=a,null):(i=N.treeContext,hn=Ws(C.nextSibling),fn=a,Gt=!0,jn=null,i!==null&&(_n[wn++]=ms,_n[wn++]=gs,_n[wn++]=Ei,ms=i.id,gs=i.overflow,Ei=a),a=th(a,m.children),a.flags|=4096,a)}function Lv(i,a,d){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),Nf(i.return,a,d)}function rh(i,a,d,m,C){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:C}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=d,N.tailMode=C)}function Bv(i,a,d){var m=a.pendingProps,C=m.revealOrder,N=m.tail;if(Wr(i,a,m.children,d),m=Zt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Lv(i,d,a);else if(i.tag===19)Lv(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(Vt(Zt,m),(a.mode&1)===0)a.memoizedState=null;else switch(C){case"forwards":for(d=a.child,C=null;d!==null;)i=d.alternate,i!==null&&xu(i)===null&&(C=d),d=d.sibling;d=C,d===null?(C=a.child,a.child=null):(C=d.sibling,d.sibling=null),rh(a,!1,C,d,N);break;case"backwards":for(d=null,C=a.child,a.child=null;C!==null;){if(i=C.alternate,i!==null&&xu(i)===null){a.child=C;break}i=C.sibling,C.sibling=d,d=C,C=i}rh(a,!0,d,null,N);break;case"together":rh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ou(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function _s(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),Ai|=a.lanes,(d&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,d=ri(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=ri(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function iE(i,a,d){switch(a.tag){case 3:Iv(a),bo();break;case 5:Zg(a);break;case 1:Zr(a.type)&&fu(a);break;case 4:Df(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,C=a.memoizedProps.value;Vt(yu,m._currentValue),m._currentValue=C;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Vt(Zt,Zt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?jv(i,a,d):(Vt(Zt,Zt.current&1),i=_s(i,a,d),i!==null?i.sibling:null);Vt(Zt,Zt.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(i.flags&128)!==0){if(m)return Bv(i,a,d);a.flags|=128}if(C=a.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Vt(Zt,Zt.current),m)break;return null;case 22:case 23:return a.lanes=0,Pv(i,a,d)}return _s(i,a,d)}var Fv,nh,Vv,$v;Fv=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},nh=function(){},Vv=function(i,a,d,m){var C=i.memoizedProps;if(C!==m){i=a.stateNode,Ri(es.current);var N=null;switch(d){case"input":C=je(i,C),m=je(i,m),N=[];break;case"select":C=D({},C,{value:void 0}),m=D({},m,{value:void 0}),N=[];break;case"textarea":C=We(i,C),m=We(i,m),N=[];break;default:typeof C.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=uu)}ur(d,m);var q;d=null;for(xe in C)if(!m.hasOwnProperty(xe)&&C.hasOwnProperty(xe)&&C[xe]!=null)if(xe==="style"){var oe=C[xe];for(q in oe)oe.hasOwnProperty(q)&&(d||(d={}),d[q]="")}else xe!=="dangerouslySetInnerHTML"&&xe!=="children"&&xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&xe!=="autoFocus"&&(s.hasOwnProperty(xe)?N||(N=[]):(N=N||[]).push(xe,null));for(xe in m){var ue=m[xe];if(oe=C?.[xe],m.hasOwnProperty(xe)&&ue!==oe&&(ue!=null||oe!=null))if(xe==="style")if(oe){for(q in oe)!oe.hasOwnProperty(q)||ue&&ue.hasOwnProperty(q)||(d||(d={}),d[q]="");for(q in ue)ue.hasOwnProperty(q)&&oe[q]!==ue[q]&&(d||(d={}),d[q]=ue[q])}else d||(N||(N=[]),N.push(xe,d)),d=ue;else xe==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,oe=oe?oe.__html:void 0,ue!=null&&oe!==ue&&(N=N||[]).push(xe,ue)):xe==="children"?typeof ue!="string"&&typeof ue!="number"||(N=N||[]).push(xe,""+ue):xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&(s.hasOwnProperty(xe)?(ue!=null&&xe==="onScroll"&&zt("scroll",i),N||oe===ue||(N=[])):(N=N||[]).push(xe,ue))}d&&(N=N||[]).push("style",d);var xe=N;(a.updateQueue=xe)&&(a.flags|=4)}},$v=function(i,a,d,m){d!==m&&(a.flags|=4)};function Ja(i,a){if(!Gt)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Vr(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,m=0;if(a)for(var C=i.child;C!==null;)d|=C.lanes|C.childLanes,m|=C.subtreeFlags&14680064,m|=C.flags&14680064,C.return=i,C=C.sibling;else for(C=i.child;C!==null;)d|=C.lanes|C.childLanes,m|=C.subtreeFlags,m|=C.flags,C.return=i,C=C.sibling;return i.subtreeFlags|=m,i.childLanes=d,a}function oE(i,a,d){var m=a.pendingProps;switch(Cf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(a),null;case 1:return Zr(a.type)&&du(),Vr(a),null;case 3:return m=a.stateNode,Co(),Wt(Qr),Wt(Br),Bf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(gu(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jn!==null&&(ph(jn),jn=null))),nh(i,a),Vr(a),null;case 5:jf(a);var C=Ri(Ka.current);if(d=a.type,i!==null&&a.stateNode!=null)Vv(i,a,d,m,C),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(r(166));return Vr(a),null}if(i=Ri(es.current),gu(a)){m=a.stateNode,d=a.type;var N=a.memoizedProps;switch(m[Jn]=a,m[Ha]=N,i=(a.mode&1)!==0,d){case"dialog":zt("cancel",m),zt("close",m);break;case"iframe":case"object":case"embed":zt("load",m);break;case"video":case"audio":for(C=0;C<Va.length;C++)zt(Va[C],m);break;case"source":zt("error",m);break;case"img":case"image":case"link":zt("error",m),zt("load",m);break;case"details":zt("toggle",m);break;case"input":Ue(m,N),zt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!N.multiple},zt("invalid",m);break;case"textarea":Ge(m,N),zt("invalid",m)}ur(d,N),C=null;for(var q in N)if(N.hasOwnProperty(q)){var oe=N[q];q==="children"?typeof oe=="string"?m.textContent!==oe&&(N.suppressHydrationWarning!==!0&&lu(m.textContent,oe,i),C=["children",oe]):typeof oe=="number"&&m.textContent!==""+oe&&(N.suppressHydrationWarning!==!0&&lu(m.textContent,oe,i),C=["children",""+oe]):s.hasOwnProperty(q)&&oe!=null&&q==="onScroll"&&zt("scroll",m)}switch(d){case"input":be(m),V(m,N,!0);break;case"textarea":be(m),Ie(m);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(m.onclick=uu)}m=C,a.updateQueue=m,m!==null&&(a.flags|=4)}else{q=C.nodeType===9?C:C.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=nt(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=q.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=q.createElement(d,{is:m.is}):(i=q.createElement(d),d==="select"&&(q=i,m.multiple?q.multiple=!0:m.size&&(q.size=m.size))):i=q.createElementNS(i,d),i[Jn]=a,i[Ha]=m,Fv(i,a,!1,!1),a.stateNode=i;e:{switch(q=rr(d,m),d){case"dialog":zt("cancel",i),zt("close",i),C=m;break;case"iframe":case"object":case"embed":zt("load",i),C=m;break;case"video":case"audio":for(C=0;C<Va.length;C++)zt(Va[C],i);C=m;break;case"source":zt("error",i),C=m;break;case"img":case"image":case"link":zt("error",i),zt("load",i),C=m;break;case"details":zt("toggle",i),C=m;break;case"input":Ue(i,m),C=je(i,m),zt("invalid",i);break;case"option":C=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},C=D({},m,{value:void 0}),zt("invalid",i);break;case"textarea":Ge(i,m),C=We(i,m),zt("invalid",i);break;default:C=m}ur(d,C),oe=C;for(N in oe)if(oe.hasOwnProperty(N)){var ue=oe[N];N==="style"?Nt(i,ue):N==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&yt(i,ue)):N==="children"?typeof ue=="string"?(d!=="textarea"||ue!=="")&&xt(i,ue):typeof ue=="number"&&xt(i,""+ue):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?ue!=null&&N==="onScroll"&&zt("scroll",i):ue!=null&&y(i,N,ue,q))}switch(d){case"input":be(i),V(i,m,!1);break;case"textarea":be(i),Ie(i);break;case"option":m.value!=null&&i.setAttribute("value",""+W(m.value));break;case"select":i.multiple=!!m.multiple,N=m.value,N!=null?Be(i,!!m.multiple,N,!1):m.defaultValue!=null&&Be(i,!!m.multiple,m.defaultValue,!0);break;default:typeof C.onClick=="function"&&(i.onclick=uu)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Vr(a),null;case 6:if(i&&a.stateNode!=null)$v(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(r(166));if(d=Ri(Ka.current),Ri(es.current),gu(a)){if(m=a.stateNode,d=a.memoizedProps,m[Jn]=a,(N=m.nodeValue!==d)&&(i=fn,i!==null))switch(i.tag){case 3:lu(m.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&lu(m.nodeValue,d,(i.mode&1)!==0)}N&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Jn]=a,a.stateNode=m}return Vr(a),null;case 13:if(Wt(Zt),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Gt&&hn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)zg(),bo(),a.flags|=98560,N=!1;else if(N=gu(a),m!==null&&m.dehydrated!==null){if(i===null){if(!N)throw Error(r(318));if(N=a.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Jn]=a}else bo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vr(a),N=!1}else jn!==null&&(ph(jn),jn=null),N=!0;if(!N)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Zt.current&1)!==0?vr===0&&(vr=3):vh())),a.updateQueue!==null&&(a.flags|=4),Vr(a),null);case 4:return Co(),nh(i,a),i===null&&$a(a.stateNode.containerInfo),Vr(a),null;case 10:return Pf(a.type._context),Vr(a),null;case 17:return Zr(a.type)&&du(),Vr(a),null;case 19:if(Wt(Zt),N=a.memoizedState,N===null)return Vr(a),null;if(m=(a.flags&128)!==0,q=N.rendering,q===null)if(m)Ja(N,!1);else{if(vr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(q=xu(i),q!==null){for(a.flags|=128,Ja(N,!1),m=q.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)N=d,i=m,N.flags&=14680066,q=N.alternate,q===null?(N.childLanes=0,N.lanes=i,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=q.childLanes,N.lanes=q.lanes,N.child=q.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=q.memoizedProps,N.memoizedState=q.memoizedState,N.updateQueue=q.updateQueue,N.type=q.type,i=q.dependencies,N.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return Vt(Zt,Zt.current&1|2),a.child}i=i.sibling}N.tail!==null&&Ze()>Ao&&(a.flags|=128,m=!0,Ja(N,!1),a.lanes=4194304)}else{if(!m)if(i=xu(q),i!==null){if(a.flags|=128,m=!0,d=i.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Ja(N,!0),N.tail===null&&N.tailMode==="hidden"&&!q.alternate&&!Gt)return Vr(a),null}else 2*Ze()-N.renderingStartTime>Ao&&d!==1073741824&&(a.flags|=128,m=!0,Ja(N,!1),a.lanes=4194304);N.isBackwards?(q.sibling=a.child,a.child=q):(d=N.last,d!==null?d.sibling=q:a.child=q,N.last=q)}return N.tail!==null?(a=N.tail,N.rendering=a,N.tail=a.sibling,N.renderingStartTime=Ze(),a.sibling=null,d=Zt.current,Vt(Zt,m?d&1|2:d&1),a):(Vr(a),null);case 22:case 23:return gh(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(pn&1073741824)!==0&&(Vr(a),a.subtreeFlags&6&&(a.flags|=8192)):Vr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function aE(i,a){switch(Cf(a),a.tag){case 1:return Zr(a.type)&&du(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Co(),Wt(Qr),Wt(Br),Bf(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return jf(a),null;case 13:if(Wt(Zt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));bo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Wt(Zt),null;case 4:return Co(),null;case 10:return Pf(a.type._context),null;case 22:case 23:return gh(),null;case 24:return null;default:return null}}var Pu=!1,$r=!1,lE=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Ro(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){sr(i,a,m)}else d.current=null}function sh(i,a,d){try{d()}catch(m){sr(i,a,m)}}var Uv=!1;function uE(i,a){if(gf=Ql,i=wg(),lf(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var C=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var q=0,oe=-1,ue=-1,xe=0,Pe=0,Me=i,Oe=null;t:for(;;){for(var Ke;Me!==d||C!==0&&Me.nodeType!==3||(oe=q+C),Me!==N||m!==0&&Me.nodeType!==3||(ue=q+m),Me.nodeType===3&&(q+=Me.nodeValue.length),(Ke=Me.firstChild)!==null;)Oe=Me,Me=Ke;for(;;){if(Me===i)break t;if(Oe===d&&++xe===C&&(oe=q),Oe===N&&++Pe===m&&(ue=q),(Ke=Me.nextSibling)!==null)break;Me=Oe,Oe=Me.parentNode}Me=Ke}d=oe===-1||ue===-1?null:{start:oe,end:ue}}else d=null}d=d||{start:0,end:0}}else d=null;for(vf={focusedElem:i,selectionRange:d},Ql=!1,Ye=a;Ye!==null;)if(a=Ye,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Ye=i;else for(;Ye!==null;){a=Ye;try{var Je=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var rt=Je.memoizedProps,ar=Je.memoizedState,ye=a.stateNode,pe=ye.getSnapshotBeforeUpdate(a.elementType===a.type?rt:Ln(a.type,rt),ar);ye.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:var _e=a.stateNode.containerInfo;_e.nodeType===1?_e.textContent="":_e.nodeType===9&&_e.documentElement&&_e.removeChild(_e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ve){sr(a,a.return,Ve)}if(i=a.sibling,i!==null){i.return=a.return,Ye=i;break}Ye=a.return}return Je=Uv,Uv=!1,Je}function el(i,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var C=m=m.next;do{if((C.tag&i)===i){var N=C.destroy;C.destroy=void 0,N!==void 0&&sh(a,d,N)}C=C.next}while(C!==m)}}function Nu(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function ih(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof a=="function"?a(i):a.current=i}}function Hv(i){var a=i.alternate;a!==null&&(i.alternate=null,Hv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Jn],delete a[Ha],delete a[bf],delete a[W6],delete a[q6])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function zv(i){return i.tag===5||i.tag===3||i.tag===4}function Wv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function oh(i,a,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(i,a):d.insertBefore(i,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(i,d)):(a=d,a.appendChild(i)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=uu));else if(m!==4&&(i=i.child,i!==null))for(oh(i,a,d),i=i.sibling;i!==null;)oh(i,a,d),i=i.sibling}function ah(i,a,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(ah(i,a,d),i=i.sibling;i!==null;)ah(i,a,d),i=i.sibling}var Or=null,Bn=!1;function Qs(i,a,d){for(d=d.child;d!==null;)qv(i,a,d),d=d.sibling}function qv(i,a,d){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Sr,d)}catch{}switch(d.tag){case 5:$r||Ro(d,a);case 6:var m=Or,C=Bn;Or=null,Qs(i,a,d),Or=m,Bn=C,Or!==null&&(Bn?(i=Or,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):Or.removeChild(d.stateNode));break;case 18:Or!==null&&(Bn?(i=Or,d=d.stateNode,i.nodeType===8?wf(i.parentNode,d):i.nodeType===1&&wf(i,d),Na(i)):wf(Or,d.stateNode));break;case 4:m=Or,C=Bn,Or=d.stateNode.containerInfo,Bn=!0,Qs(i,a,d),Or=m,Bn=C;break;case 0:case 11:case 14:case 15:if(!$r&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){C=m=m.next;do{var N=C,q=N.destroy;N=N.tag,q!==void 0&&((N&2)!==0||(N&4)!==0)&&sh(d,a,q),C=C.next}while(C!==m)}Qs(i,a,d);break;case 1:if(!$r&&(Ro(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(oe){sr(d,a,oe)}Qs(i,a,d);break;case 21:Qs(i,a,d);break;case 22:d.mode&1?($r=(m=$r)||d.memoizedState!==null,Qs(i,a,d),$r=m):Qs(i,a,d);break;default:Qs(i,a,d)}}function Gv(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new lE),a.forEach(function(m){var C=yE.bind(null,i,m);d.has(m)||(d.add(m),m.then(C,C))})}}function Fn(i,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var C=d[m];try{var N=i,q=a,oe=q;e:for(;oe!==null;){switch(oe.tag){case 5:Or=oe.stateNode,Bn=!1;break e;case 3:Or=oe.stateNode.containerInfo,Bn=!0;break e;case 4:Or=oe.stateNode.containerInfo,Bn=!0;break e}oe=oe.return}if(Or===null)throw Error(r(160));qv(N,q,C),Or=null,Bn=!1;var ue=C.alternate;ue!==null&&(ue.return=null),C.return=null}catch(xe){sr(C,a,xe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Kv(a,i),a=a.sibling}function Kv(i,a){var d=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Fn(a,i),rs(i),m&4){try{el(3,i,i.return),Nu(3,i)}catch(rt){sr(i,i.return,rt)}try{el(5,i,i.return)}catch(rt){sr(i,i.return,rt)}}break;case 1:Fn(a,i),rs(i),m&512&&d!==null&&Ro(d,d.return);break;case 5:if(Fn(a,i),rs(i),m&512&&d!==null&&Ro(d,d.return),i.flags&32){var C=i.stateNode;try{xt(C,"")}catch(rt){sr(i,i.return,rt)}}if(m&4&&(C=i.stateNode,C!=null)){var N=i.memoizedProps,q=d!==null?d.memoizedProps:N,oe=i.type,ue=i.updateQueue;if(i.updateQueue=null,ue!==null)try{oe==="input"&&N.type==="radio"&&N.name!=null&&lt(C,N),rr(oe,q);var xe=rr(oe,N);for(q=0;q<ue.length;q+=2){var Pe=ue[q],Me=ue[q+1];Pe==="style"?Nt(C,Me):Pe==="dangerouslySetInnerHTML"?yt(C,Me):Pe==="children"?xt(C,Me):y(C,Pe,Me,xe)}switch(oe){case"input":Et(C,N);break;case"textarea":he(C,N);break;case"select":var Oe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!N.multiple;var Ke=N.value;Ke!=null?Be(C,!!N.multiple,Ke,!1):Oe!==!!N.multiple&&(N.defaultValue!=null?Be(C,!!N.multiple,N.defaultValue,!0):Be(C,!!N.multiple,N.multiple?[]:"",!1))}C[Ha]=N}catch(rt){sr(i,i.return,rt)}}break;case 6:if(Fn(a,i),rs(i),m&4){if(i.stateNode===null)throw Error(r(162));C=i.stateNode,N=i.memoizedProps;try{C.nodeValue=N}catch(rt){sr(i,i.return,rt)}}break;case 3:if(Fn(a,i),rs(i),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Na(a.containerInfo)}catch(rt){sr(i,i.return,rt)}break;case 4:Fn(a,i),rs(i);break;case 13:Fn(a,i),rs(i),C=i.child,C.flags&8192&&(N=C.memoizedState!==null,C.stateNode.isHidden=N,!N||C.alternate!==null&&C.alternate.memoizedState!==null||(ch=Ze())),m&4&&Gv(i);break;case 22:if(Pe=d!==null&&d.memoizedState!==null,i.mode&1?($r=(xe=$r)||Pe,Fn(a,i),$r=xe):Fn(a,i),rs(i),m&8192){if(xe=i.memoizedState!==null,(i.stateNode.isHidden=xe)&&!Pe&&(i.mode&1)!==0)for(Ye=i,Pe=i.child;Pe!==null;){for(Me=Ye=Pe;Ye!==null;){switch(Oe=Ye,Ke=Oe.child,Oe.tag){case 0:case 11:case 14:case 15:el(4,Oe,Oe.return);break;case 1:Ro(Oe,Oe.return);var Je=Oe.stateNode;if(typeof Je.componentWillUnmount=="function"){m=Oe,d=Oe.return;try{a=m,Je.props=a.memoizedProps,Je.state=a.memoizedState,Je.componentWillUnmount()}catch(rt){sr(m,d,rt)}}break;case 5:Ro(Oe,Oe.return);break;case 22:if(Oe.memoizedState!==null){Qv(Me);continue}}Ke!==null?(Ke.return=Oe,Ye=Ke):Qv(Me)}Pe=Pe.sibling}e:for(Pe=null,Me=i;;){if(Me.tag===5){if(Pe===null){Pe=Me;try{C=Me.stateNode,xe?(N=C.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(oe=Me.stateNode,ue=Me.memoizedProps.style,q=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,oe.style.display=Lt("display",q))}catch(rt){sr(i,i.return,rt)}}}else if(Me.tag===6){if(Pe===null)try{Me.stateNode.nodeValue=xe?"":Me.memoizedProps}catch(rt){sr(i,i.return,rt)}}else if((Me.tag!==22&&Me.tag!==23||Me.memoizedState===null||Me===i)&&Me.child!==null){Me.child.return=Me,Me=Me.child;continue}if(Me===i)break e;for(;Me.sibling===null;){if(Me.return===null||Me.return===i)break e;Pe===Me&&(Pe=null),Me=Me.return}Pe===Me&&(Pe=null),Me.sibling.return=Me.return,Me=Me.sibling}}break;case 19:Fn(a,i),rs(i),m&4&&Gv(i);break;case 21:break;default:Fn(a,i),rs(i)}}function rs(i){var a=i.flags;if(a&2){try{e:{for(var d=i.return;d!==null;){if(zv(d)){var m=d;break e}d=d.return}throw Error(r(160))}switch(m.tag){case 5:var C=m.stateNode;m.flags&32&&(xt(C,""),m.flags&=-33);var N=Wv(i);ah(i,N,C);break;case 3:case 4:var q=m.stateNode.containerInfo,oe=Wv(i);oh(i,oe,q);break;default:throw Error(r(161))}}catch(ue){sr(i,i.return,ue)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function cE(i,a,d){Ye=i,Yv(i)}function Yv(i,a,d){for(var m=(i.mode&1)!==0;Ye!==null;){var C=Ye,N=C.child;if(C.tag===22&&m){var q=C.memoizedState!==null||Pu;if(!q){var oe=C.alternate,ue=oe!==null&&oe.memoizedState!==null||$r;oe=Pu;var xe=$r;if(Pu=q,($r=ue)&&!xe)for(Ye=C;Ye!==null;)q=Ye,ue=q.child,q.tag===22&&q.memoizedState!==null?Zv(C):ue!==null?(ue.return=q,Ye=ue):Zv(C);for(;N!==null;)Ye=N,Yv(N),N=N.sibling;Ye=C,Pu=oe,$r=xe}Xv(i)}else(C.subtreeFlags&8772)!==0&&N!==null?(N.return=C,Ye=N):Xv(i)}}function Xv(i){for(;Ye!==null;){var a=Ye;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:$r||Nu(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!$r)if(d===null)m.componentDidMount();else{var C=a.elementType===a.type?d.memoizedProps:Ln(a.type,d.memoizedProps);m.componentDidUpdate(C,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var N=a.updateQueue;N!==null&&Qg(a,N,m);break;case 3:var q=a.updateQueue;if(q!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Qg(a,q,d)}break;case 5:var oe=a.stateNode;if(d===null&&a.flags&4){d=oe;var ue=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&d.focus();break;case"img":ue.src&&(d.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var xe=a.alternate;if(xe!==null){var Pe=xe.memoizedState;if(Pe!==null){var Me=Pe.dehydrated;Me!==null&&Na(Me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}$r||a.flags&512&&ih(a)}catch(Oe){sr(a,a.return,Oe)}}if(a===i){Ye=null;break}if(d=a.sibling,d!==null){d.return=a.return,Ye=d;break}Ye=a.return}}function Qv(i){for(;Ye!==null;){var a=Ye;if(a===i){Ye=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Ye=d;break}Ye=a.return}}function Zv(i){for(;Ye!==null;){var a=Ye;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Nu(4,a)}catch(ue){sr(a,d,ue)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var C=a.return;try{m.componentDidMount()}catch(ue){sr(a,C,ue)}}var N=a.return;try{ih(a)}catch(ue){sr(a,N,ue)}break;case 5:var q=a.return;try{ih(a)}catch(ue){sr(a,q,ue)}}}catch(ue){sr(a,a.return,ue)}if(a===i){Ye=null;break}var oe=a.sibling;if(oe!==null){oe.return=a.return,Ye=oe;break}Ye=a.return}}var dE=Math.ceil,Mu=j.ReactCurrentDispatcher,lh=j.ReactCurrentOwner,Sn=j.ReactCurrentBatchConfig,kt=0,Tr=null,cr=null,Pr=0,pn=0,ko=qs(0),vr=0,tl=null,Ai=0,Iu=0,uh=0,rl=null,en=null,ch=0,Ao=1/0,ws=null,Du=!1,dh=null,Zs=null,ju=!1,Js=null,Lu=0,nl=0,fh=null,Bu=-1,Fu=0;function qr(){return(kt&6)!==0?Ze():Bu!==-1?Bu:Bu=Ze()}function ei(i){return(i.mode&1)===0?1:(kt&2)!==0&&Pr!==0?Pr&-Pr:K6.transition!==null?(Fu===0&&(Fu=no()),Fu):(i=Rt,i!==0||(i=window.event,i=i===void 0?16:eg(i.type)),i)}function Vn(i,a,d,m){if(50<nl)throw nl=0,fh=null,Error(r(185));Mn(i,d,m),((kt&2)===0||i!==Tr)&&(i===Tr&&((kt&2)===0&&(Iu|=d),vr===4&&ti(i,Pr)),tn(i,m),d===1&&kt===0&&(a.mode&1)===0&&(Ao=Ze()+500,hu&&Ks()))}function tn(i,a){var d=i.callbackNode;Yl(i,a);var m=Dt(i,i===Tr?Pr:0);if(m===0)d!==null&&It(d),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(d!=null&&It(d),a===1)i.tag===0?G6(ey.bind(null,i)):Fg(ey.bind(null,i)),H6(function(){(kt&6)===0&&Ks()}),d=null;else{switch(io(m)){case 1:d=Ar;break;case 4:d=qt;break;case 16:d=Mt;break;case 536870912:d=Lr;break;default:d=Mt}d=ly(d,Jv.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function Jv(i,a){if(Bu=-1,Fu=0,(kt&6)!==0)throw Error(r(327));var d=i.callbackNode;if(Oo()&&i.callbackNode!==d)return null;var m=Dt(i,i===Tr?Pr:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=Vu(i,m);else{a=m;var C=kt;kt|=2;var N=ry();(Tr!==i||Pr!==a)&&(ws=null,Ao=Ze()+500,Pi(i,a));do try{pE();break}catch(oe){ty(i,oe)}while(!0);Of(),Mu.current=N,kt=C,cr!==null?a=0:(Tr=null,Pr=0,a=vr)}if(a!==0){if(a===2&&(C=bi(i),C!==0&&(m=C,a=hh(i,C))),a===1)throw d=tl,Pi(i,0),ti(i,m),tn(i,Ze()),d;if(a===6)ti(i,m);else{if(C=i.current.alternate,(m&30)===0&&!fE(C)&&(a=Vu(i,m),a===2&&(N=bi(i),N!==0&&(m=N,a=hh(i,N))),a===1))throw d=tl,Pi(i,0),ti(i,m),tn(i,Ze()),d;switch(i.finishedWork=C,i.finishedLanes=m,a){case 0:case 1:throw Error(r(345));case 2:Ni(i,en,ws);break;case 3:if(ti(i,m),(m&130023424)===m&&(a=ch+500-Ze(),10<a)){if(Dt(i,0)!==0)break;if(C=i.suspendedLanes,(C&m)!==m){qr(),i.pingedLanes|=i.suspendedLanes&C;break}i.timeoutHandle=_f(Ni.bind(null,i,en,ws),a);break}Ni(i,en,ws);break;case 4:if(ti(i,m),(m&4194240)===m)break;for(a=i.eventTimes,C=-1;0<m;){var q=31-jt(m);N=1<<q,q=a[q],q>C&&(C=q),m&=~N}if(m=C,m=Ze()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*dE(m/1960))-m,10<m){i.timeoutHandle=_f(Ni.bind(null,i,en,ws),m);break}Ni(i,en,ws);break;case 5:Ni(i,en,ws);break;default:throw Error(r(329))}}}return tn(i,Ze()),i.callbackNode===d?Jv.bind(null,i):null}function hh(i,a){var d=rl;return i.current.memoizedState.isDehydrated&&(Pi(i,a).flags|=256),i=Vu(i,a),i!==2&&(a=en,en=d,a!==null&&ph(a)),i}function ph(i){en===null?en=i:en.push.apply(en,i)}function fE(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var C=d[m],N=C.getSnapshot;C=C.value;try{if(!Dn(N(),C))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ti(i,a){for(a&=~uh,a&=~Iu,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-jt(a),m=1<<d;i[d]=-1,a&=~m}}function ey(i){if((kt&6)!==0)throw Error(r(327));Oo();var a=Dt(i,0);if((a&1)===0)return tn(i,Ze()),null;var d=Vu(i,a);if(i.tag!==0&&d===2){var m=bi(i);m!==0&&(a=m,d=hh(i,m))}if(d===1)throw d=tl,Pi(i,0),ti(i,a),tn(i,Ze()),d;if(d===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ni(i,en,ws),tn(i,Ze()),null}function mh(i,a){var d=kt;kt|=1;try{return i(a)}finally{kt=d,kt===0&&(Ao=Ze()+500,hu&&Ks())}}function Oi(i){Js!==null&&Js.tag===0&&(kt&6)===0&&Oo();var a=kt;kt|=1;var d=Sn.transition,m=Rt;try{if(Sn.transition=null,Rt=1,i)return i()}finally{Rt=m,Sn.transition=d,kt=a,(kt&6)===0&&Ks()}}function gh(){pn=ko.current,Wt(ko)}function Pi(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,U6(d)),cr!==null)for(d=cr.return;d!==null;){var m=d;switch(Cf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&du();break;case 3:Co(),Wt(Qr),Wt(Br),Bf();break;case 5:jf(m);break;case 4:Co();break;case 13:Wt(Zt);break;case 19:Wt(Zt);break;case 10:Pf(m.type._context);break;case 22:case 23:gh()}d=d.return}if(Tr=i,cr=i=ri(i.current,null),Pr=pn=a,vr=0,tl=null,uh=Iu=Ai=0,en=rl=null,Ti!==null){for(a=0;a<Ti.length;a++)if(d=Ti[a],m=d.interleaved,m!==null){d.interleaved=null;var C=m.next,N=d.pending;if(N!==null){var q=N.next;N.next=C,m.next=q}d.pending=m}Ti=null}return i}function ty(i,a){do{var d=cr;try{if(Of(),Su.current=Ru,Eu){for(var m=Jt.memoizedState;m!==null;){var C=m.queue;C!==null&&(C.pending=null),m=m.next}Eu=!1}if(ki=0,Cr=gr=Jt=null,Ya=!1,Xa=0,lh.current=null,d===null||d.return===null){vr=1,tl=a,cr=null;break}e:{var N=i,q=d.return,oe=d,ue=a;if(a=Pr,oe.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var xe=ue,Pe=oe,Me=Pe.tag;if((Pe.mode&1)===0&&(Me===0||Me===11||Me===15)){var Oe=Pe.alternate;Oe?(Pe.updateQueue=Oe.updateQueue,Pe.memoizedState=Oe.memoizedState,Pe.lanes=Oe.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var Ke=Tv(q);if(Ke!==null){Ke.flags&=-257,Rv(Ke,q,oe,N,a),Ke.mode&1&&Cv(N,xe,a),a=Ke,ue=xe;var Je=a.updateQueue;if(Je===null){var rt=new Set;rt.add(ue),a.updateQueue=rt}else Je.add(ue);break e}else{if((a&1)===0){Cv(N,xe,a),vh();break e}ue=Error(r(426))}}else if(Gt&&oe.mode&1){var ar=Tv(q);if(ar!==null){(ar.flags&65536)===0&&(ar.flags|=256),Rv(ar,q,oe,N,a),kf(To(ue,oe));break e}}N=ue=To(ue,oe),vr!==4&&(vr=2),rl===null?rl=[N]:rl.push(N),N=q;do{switch(N.tag){case 3:N.flags|=65536,a&=-a,N.lanes|=a;var ye=Sv(N,ue,a);Xg(N,ye);break e;case 1:oe=ue;var pe=N.type,_e=N.stateNode;if((N.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Zs===null||!Zs.has(_e)))){N.flags|=65536,a&=-a,N.lanes|=a;var Ve=Ev(N,oe,a);Xg(N,Ve);break e}}N=N.return}while(N!==null)}sy(d)}catch(ot){a=ot,cr===d&&d!==null&&(cr=d=d.return);continue}break}while(!0)}function ry(){var i=Mu.current;return Mu.current=Ru,i===null?Ru:i}function vh(){(vr===0||vr===3||vr===2)&&(vr=4),Tr===null||(Ai&268435455)===0&&(Iu&268435455)===0||ti(Tr,Pr)}function Vu(i,a){var d=kt;kt|=2;var m=ry();(Tr!==i||Pr!==a)&&(ws=null,Pi(i,a));do try{hE();break}catch(C){ty(i,C)}while(!0);if(Of(),kt=d,Mu.current=m,cr!==null)throw Error(r(261));return Tr=null,Pr=0,vr}function hE(){for(;cr!==null;)ny(cr)}function pE(){for(;cr!==null&&!$e();)ny(cr)}function ny(i){var a=ay(i.alternate,i,pn);i.memoizedProps=i.pendingProps,a===null?sy(i):cr=a,lh.current=null}function sy(i){var a=i;do{var d=a.alternate;if(i=a.return,(a.flags&32768)===0){if(d=oE(d,a,pn),d!==null){cr=d;return}}else{if(d=aE(d,a),d!==null){d.flags&=32767,cr=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{vr=6,cr=null;return}}if(a=a.sibling,a!==null){cr=a;return}cr=a=i}while(a!==null);vr===0&&(vr=5)}function Ni(i,a,d){var m=Rt,C=Sn.transition;try{Sn.transition=null,Rt=1,mE(i,a,d,m)}finally{Sn.transition=C,Rt=m}return null}function mE(i,a,d,m){do Oo();while(Js!==null);if((kt&6)!==0)throw Error(r(327));d=i.finishedWork;var C=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var N=d.lanes|d.childLanes;if(Yd(i,N),i===Tr&&(cr=Tr=null,Pr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||ju||(ju=!0,ly(Mt,function(){return Oo(),null})),N=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||N){N=Sn.transition,Sn.transition=null;var q=Rt;Rt=1;var oe=kt;kt|=4,lh.current=null,uE(i,d),Kv(d,i),D6(vf),Ql=!!gf,vf=gf=null,i.current=d,cE(d),ft(),kt=oe,Rt=q,Sn.transition=N}else i.current=d;if(ju&&(ju=!1,Js=i,Lu=C),N=i.pendingLanes,N===0&&(Zs=null),un(d.stateNode),tn(i,Ze()),a!==null)for(m=i.onRecoverableError,d=0;d<a.length;d++)C=a[d],m(C.value,{componentStack:C.stack,digest:C.digest});if(Du)throw Du=!1,i=dh,dh=null,i;return(Lu&1)!==0&&i.tag!==0&&Oo(),N=i.pendingLanes,(N&1)!==0?i===fh?nl++:(nl=0,fh=i):nl=0,Ks(),null}function Oo(){if(Js!==null){var i=io(Lu),a=Sn.transition,d=Rt;try{if(Sn.transition=null,Rt=16>i?16:i,Js===null)var m=!1;else{if(i=Js,Js=null,Lu=0,(kt&6)!==0)throw Error(r(331));var C=kt;for(kt|=4,Ye=i.current;Ye!==null;){var N=Ye,q=N.child;if((Ye.flags&16)!==0){var oe=N.deletions;if(oe!==null){for(var ue=0;ue<oe.length;ue++){var xe=oe[ue];for(Ye=xe;Ye!==null;){var Pe=Ye;switch(Pe.tag){case 0:case 11:case 15:el(8,Pe,N)}var Me=Pe.child;if(Me!==null)Me.return=Pe,Ye=Me;else for(;Ye!==null;){Pe=Ye;var Oe=Pe.sibling,Ke=Pe.return;if(Hv(Pe),Pe===xe){Ye=null;break}if(Oe!==null){Oe.return=Ke,Ye=Oe;break}Ye=Ke}}}var Je=N.alternate;if(Je!==null){var rt=Je.child;if(rt!==null){Je.child=null;do{var ar=rt.sibling;rt.sibling=null,rt=ar}while(rt!==null)}}Ye=N}}if((N.subtreeFlags&2064)!==0&&q!==null)q.return=N,Ye=q;else e:for(;Ye!==null;){if(N=Ye,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:el(9,N,N.return)}var ye=N.sibling;if(ye!==null){ye.return=N.return,Ye=ye;break e}Ye=N.return}}var pe=i.current;for(Ye=pe;Ye!==null;){q=Ye;var _e=q.child;if((q.subtreeFlags&2064)!==0&&_e!==null)_e.return=q,Ye=_e;else e:for(q=pe;Ye!==null;){if(oe=Ye,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:Nu(9,oe)}}catch(ot){sr(oe,oe.return,ot)}if(oe===q){Ye=null;break e}var Ve=oe.sibling;if(Ve!==null){Ve.return=oe.return,Ye=Ve;break e}Ye=oe.return}}if(kt=C,Ks(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Sr,i)}catch{}m=!0}return m}finally{Rt=d,Sn.transition=a}}return!1}function iy(i,a,d){a=To(d,a),a=Sv(i,a,1),i=Xs(i,a,1),a=qr(),i!==null&&(Mn(i,1,a),tn(i,a))}function sr(i,a,d){if(i.tag===3)iy(i,i,d);else for(;a!==null;){if(a.tag===3){iy(a,i,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Zs===null||!Zs.has(m))){i=To(d,i),i=Ev(a,i,1),a=Xs(a,i,1),i=qr(),a!==null&&(Mn(a,1,i),tn(a,i));break}}a=a.return}}function gE(i,a,d){var m=i.pingCache;m!==null&&m.delete(a),a=qr(),i.pingedLanes|=i.suspendedLanes&d,Tr===i&&(Pr&d)===d&&(vr===4||vr===3&&(Pr&130023424)===Pr&&500>Ze()-ch?Pi(i,0):uh|=d),tn(i,a)}function oy(i,a){a===0&&((i.mode&1)===0?a=1:(a=wi,wi<<=1,(wi&130023424)===0&&(wi=4194304)));var d=qr();i=vs(i,a),i!==null&&(Mn(i,a,d),tn(i,d))}function vE(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),oy(i,d)}function yE(i,a){var d=0;switch(i.tag){case 13:var m=i.stateNode,C=i.memoizedState;C!==null&&(d=C.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(a),oy(i,d)}var ay;ay=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||Qr.current)Jr=!0;else{if((i.lanes&d)===0&&(a.flags&128)===0)return Jr=!1,iE(i,a,d);Jr=(i.flags&131072)!==0}else Jr=!1,Gt&&(a.flags&1048576)!==0&&Vg(a,mu,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Ou(i,a),i=a.pendingProps;var C=yo(a,Br.current);Eo(a,d),C=$f(null,a,m,i,C,d);var N=Uf();return a.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Zr(m)?(N=!0,fu(a)):N=!1,a.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,If(a),C.updater=ku,a.stateNode=C,C._reactInternals=a,Kf(a,m,i,d),a=Zf(null,a,m,!0,N,d)):(a.tag=0,Gt&&N&&Ef(a),Wr(null,a,C,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Ou(i,a),i=a.pendingProps,C=m._init,m=C(m._payload),a.type=m,C=a.tag=wE(m),i=Ln(m,i),C){case 0:a=Qf(null,a,m,i,d);break e;case 1:a=Mv(null,a,m,i,d);break e;case 11:a=kv(null,a,m,i,d);break e;case 14:a=Av(null,a,m,Ln(m.type,i),d);break e}throw Error(r(306,m,""))}return a;case 0:return m=a.type,C=a.pendingProps,C=a.elementType===m?C:Ln(m,C),Qf(i,a,m,C,d);case 1:return m=a.type,C=a.pendingProps,C=a.elementType===m?C:Ln(m,C),Mv(i,a,m,C,d);case 3:e:{if(Iv(a),i===null)throw Error(r(387));m=a.pendingProps,N=a.memoizedState,C=N.element,Yg(i,a),bu(a,m,null,d);var q=a.memoizedState;if(m=q.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},a.updateQueue.baseState=N,a.memoizedState=N,a.flags&256){C=To(Error(r(423)),a),a=Dv(i,a,m,d,C);break e}else if(m!==C){C=To(Error(r(424)),a),a=Dv(i,a,m,d,C);break e}else for(hn=Ws(a.stateNode.containerInfo.firstChild),fn=a,Gt=!0,jn=null,d=Gg(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(bo(),m===C){a=_s(i,a,d);break e}Wr(i,a,m,d)}a=a.child}return a;case 5:return Zg(a),i===null&&Rf(a),m=a.type,C=a.pendingProps,N=i!==null?i.memoizedProps:null,q=C.children,yf(m,C)?q=null:N!==null&&yf(m,N)&&(a.flags|=32),Nv(i,a),Wr(i,a,q,d),a.child;case 6:return i===null&&Rf(a),null;case 13:return jv(i,a,d);case 4:return Df(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=xo(a,null,m,d):Wr(i,a,m,d),a.child;case 11:return m=a.type,C=a.pendingProps,C=a.elementType===m?C:Ln(m,C),kv(i,a,m,C,d);case 7:return Wr(i,a,a.pendingProps,d),a.child;case 8:return Wr(i,a,a.pendingProps.children,d),a.child;case 12:return Wr(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,C=a.pendingProps,N=a.memoizedProps,q=C.value,Vt(yu,m._currentValue),m._currentValue=q,N!==null)if(Dn(N.value,q)){if(N.children===C.children&&!Qr.current){a=_s(i,a,d);break e}}else for(N=a.child,N!==null&&(N.return=a);N!==null;){var oe=N.dependencies;if(oe!==null){q=N.child;for(var ue=oe.firstContext;ue!==null;){if(ue.context===m){if(N.tag===1){ue=ys(-1,d&-d),ue.tag=2;var xe=N.updateQueue;if(xe!==null){xe=xe.shared;var Pe=xe.pending;Pe===null?ue.next=ue:(ue.next=Pe.next,Pe.next=ue),xe.pending=ue}}N.lanes|=d,ue=N.alternate,ue!==null&&(ue.lanes|=d),Nf(N.return,d,a),oe.lanes|=d;break}ue=ue.next}}else if(N.tag===10)q=N.type===a.type?null:N.child;else if(N.tag===18){if(q=N.return,q===null)throw Error(r(341));q.lanes|=d,oe=q.alternate,oe!==null&&(oe.lanes|=d),Nf(q,d,a),q=N.sibling}else q=N.child;if(q!==null)q.return=N;else for(q=N;q!==null;){if(q===a){q=null;break}if(N=q.sibling,N!==null){N.return=q.return,q=N;break}q=q.return}N=q}Wr(i,a,C.children,d),a=a.child}return a;case 9:return C=a.type,m=a.pendingProps.children,Eo(a,d),C=bn(C),m=m(C),a.flags|=1,Wr(i,a,m,d),a.child;case 14:return m=a.type,C=Ln(m,a.pendingProps),C=Ln(m.type,C),Av(i,a,m,C,d);case 15:return Ov(i,a,a.type,a.pendingProps,d);case 17:return m=a.type,C=a.pendingProps,C=a.elementType===m?C:Ln(m,C),Ou(i,a),a.tag=1,Zr(m)?(i=!0,fu(a)):i=!1,Eo(a,d),bv(a,m,C),Kf(a,m,C,d),Zf(null,a,m,!0,i,d);case 19:return Bv(i,a,d);case 22:return Pv(i,a,d)}throw Error(r(156,a.tag))};function ly(i,a){return it(i,a)}function _E(i,a,d,m){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,a,d,m){return new _E(i,a,d,m)}function yh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wE(i){if(typeof i=="function")return yh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===B)return 14}return 2}function ri(i,a){var d=i.alternate;return d===null?(d=En(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function $u(i,a,d,m,C,N){var q=2;if(m=i,typeof i=="function")yh(i)&&(q=1);else if(typeof i=="string")q=5;else e:switch(i){case U:return Mi(d.children,C,N,a);case $:q=8,C|=8;break;case ee:return i=En(12,d,a,C|2),i.elementType=ee,i.lanes=N,i;case ve:return i=En(13,d,a,C),i.elementType=ve,i.lanes=N,i;case K:return i=En(19,d,a,C),i.elementType=K,i.lanes=N,i;case I:return Uu(d,C,N,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ie:q=10;break e;case re:q=9;break e;case z:q=11;break e;case B:q=14;break e;case k:q=16,m=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return a=En(q,d,a,C),a.elementType=i,a.type=m,a.lanes=N,a}function Mi(i,a,d,m){return i=En(7,i,m,a),i.lanes=d,i}function Uu(i,a,d,m){return i=En(22,i,m,a),i.elementType=I,i.lanes=d,i.stateNode={isHidden:!1},i}function _h(i,a,d){return i=En(6,i,null,a),i.lanes=d,i}function wh(i,a,d){return a=En(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function bE(i,a,d,m,C){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=so(0),this.expirationTimes=so(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.identifierPrefix=m,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function bh(i,a,d,m,C,N,q,oe,ue){return i=new bE(i,a,d,oe,ue),a===1?(a=1,N===!0&&(a|=8)):a=0,N=En(3,null,null,a),i.current=N,N.stateNode=i,N.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},If(N),i}function xE(i,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:m==null?null:""+m,children:i,containerInfo:a,implementation:d}}function uy(i){if(!i)return Gs;i=i._reactInternals;e:{if(we(i)!==i||i.tag!==1)throw Error(r(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Zr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(i.tag===1){var d=i.type;if(Zr(d))return Lg(i,d,a)}return a}function cy(i,a,d,m,C,N,q,oe,ue){return i=bh(d,m,!0,i,C,N,q,oe,ue),i.context=uy(null),d=i.current,m=qr(),C=ei(d),N=ys(m,C),N.callback=a??null,Xs(d,N,C),i.current.lanes=C,Mn(i,C,m),tn(i,m),i}function Hu(i,a,d,m){var C=a.current,N=qr(),q=ei(C);return d=uy(d),a.context===null?a.context=d:a.pendingContext=d,a=ys(N,q),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=Xs(C,a,q),i!==null&&(Vn(i,C,q,N),wu(i,C,q)),q}function zu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function dy(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function xh(i,a){dy(i,a),(i=i.alternate)&&dy(i,a)}function SE(){return null}var fy=typeof reportError=="function"?reportError:function(i){console.error(i)};function Sh(i){this._internalRoot=i}Wu.prototype.render=Sh.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));Hu(i,a,null,null)},Wu.prototype.unmount=Sh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Oi(function(){Hu(null,i,null,null)}),a[hs]=null}};function Wu(i){this._internalRoot=i}Wu.prototype.unstable_scheduleHydration=function(i){if(i){var a=Qn();i={blockedOn:null,target:i,priority:a};for(var d=0;d<Us.length&&a!==0&&a<Us[d].priority;d++);Us.splice(d,0,i),d===0&&Z1(i)}};function Eh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function qu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function hy(){}function EE(i,a,d,m,C){if(C){if(typeof m=="function"){var N=m;m=function(){var xe=zu(q);N.call(xe)}}var q=cy(a,m,i,0,null,!1,!1,"",hy);return i._reactRootContainer=q,i[hs]=q.current,$a(i.nodeType===8?i.parentNode:i),Oi(),q}for(;C=i.lastChild;)i.removeChild(C);if(typeof m=="function"){var oe=m;m=function(){var xe=zu(ue);oe.call(xe)}}var ue=bh(i,0,!1,null,null,!1,!1,"",hy);return i._reactRootContainer=ue,i[hs]=ue.current,$a(i.nodeType===8?i.parentNode:i),Oi(function(){Hu(a,ue,d,m)}),ue}function Gu(i,a,d,m,C){var N=d._reactRootContainer;if(N){var q=N;if(typeof C=="function"){var oe=C;C=function(){var ue=zu(q);oe.call(ue)}}Hu(a,q,i,C)}else q=EE(d,a,i,C,m);return zu(q)}oo=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=Fs(a.pendingLanes);d!==0&&(Qt(a,d|1),tn(a,Ze()),(kt&6)===0&&(Ao=Ze()+500,Ks()))}break;case 13:Oi(function(){var m=vs(i,1);if(m!==null){var C=qr();Vn(m,i,1,C)}}),xh(i,1)}},Er=function(i){if(i.tag===13){var a=vs(i,134217728);if(a!==null){var d=qr();Vn(a,i,134217728,d)}xh(i,134217728)}},Vs=function(i){if(i.tag===13){var a=ei(i),d=vs(i,a);if(d!==null){var m=qr();Vn(d,i,a,m)}xh(i,a)}},Qn=function(){return Rt},ao=function(i,a){var d=Rt;try{return Rt=i,a()}finally{Rt=d}},kr=function(i,a,d){switch(a){case"input":if(Et(i,d),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==i&&m.form===i.form){var C=cu(m);if(!C)throw Error(r(90));Ce(m),Et(m,C)}}}break;case"textarea":he(i,d);break;case"select":a=d.value,a!=null&&Be(i,!!d.multiple,a,!1)}},J=mh,ne=Oi;var CE={usingClientEntryPoint:!1,Events:[za,go,cu,ut,Z,mh]},sl={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TE={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ze(i),i===null?null:i.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||SE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Sr=Ku.inject(TE),nr=Ku}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CE,rn.createPortal=function(i,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eh(a))throw Error(r(200));return xE(i,a,null,d)},rn.createRoot=function(i,a){if(!Eh(i))throw Error(r(299));var d=!1,m="",C=fy;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=bh(i,1,!1,null,null,d,!1,m,C),i[hs]=a.current,$a(i.nodeType===8?i.parentNode:i),new Sh(a)},rn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ze(a),i=i===null?null:i.stateNode,i},rn.flushSync=function(i){return Oi(i)},rn.hydrate=function(i,a,d){if(!qu(a))throw Error(r(200));return Gu(null,i,a,!0,d)},rn.hydrateRoot=function(i,a,d){if(!Eh(i))throw Error(r(405));var m=d!=null&&d.hydratedSources||null,C=!1,N="",q=fy;if(d!=null&&(d.unstable_strictMode===!0&&(C=!0),d.identifierPrefix!==void 0&&(N=d.identifierPrefix),d.onRecoverableError!==void 0&&(q=d.onRecoverableError)),a=cy(a,null,i,1,d??null,C,!1,N,q),i[hs]=a.current,$a(i),m)for(i=0;i<m.length;i++)d=m[i],C=d._getVersion,C=C(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,C]:a.mutableSourceEagerHydrationData.push(d,C);return new Wu(a)},rn.render=function(i,a,d){if(!qu(a))throw Error(r(200));return Gu(null,i,a,!1,d)},rn.unmountComponentAtNode=function(i){if(!qu(i))throw Error(r(40));return i._reactRootContainer?(Oi(function(){Gu(null,null,i,!1,function(){i._reactRootContainer=null,i[hs]=null})}),!0):!1},rn.unstable_batchedUpdates=mh,rn.unstable_renderSubtreeIntoContainer=function(i,a,d,m){if(!qu(d))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Gu(i,a,d,!1,m)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var by;function jb(){if(by)return Rh.exports;by=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rh.exports=ME(),Rh.exports}var xy;function IE(){if(xy)return Yu;xy=1;var t=jb();return Yu.createRoot=t.createRoot,Yu.hydrateRoot=t.hydrateRoot,Yu}var DE=IE(),A=yd();const De=ha(A),ym=Db({__proto__:null,default:De},[A]);var Sy={},jE="@vercel/analytics",LE="1.6.1",BE=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function Lb(){return typeof window<"u"}function Bb(){try{const t="production"}catch{}return"production"}function FE(t="auto"){if(t==="auto"){window.vam=Bb();return}window.vam=t}function VE(){return(Lb()?window.vam:Bb())||"production"}function up(){return VE()==="development"}function $E(t){return t.scriptSrc?t.scriptSrc:up()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function UE(t={debug:!0}){var e;if(!Lb())return;FE(t.mode),BE(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const r=$E(t);if(document.head.querySelector(`script[src*="${r}"]`))return;const n=document.createElement("script");n.src=r,n.defer=!0,n.dataset.sdkn=jE+(t.framework?`/${t.framework}`:""),n.dataset.sdkv=LE,t.disableAutoTrack&&(n.dataset.disableAutoTrack="1"),t.endpoint?n.dataset.endpoint=t.endpoint:t.basePath&&(n.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(n.dataset.dsn=t.dsn),n.onerror=()=>{const s=up()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${s}`)},up()&&t.debug===!1&&(n.dataset.debug="false"),document.head.appendChild(n)}function HE({route:t,path:e}){var r;(r=window.va)==null||r.call(window,"pageview",{route:t,path:e})}function zE(){if(!(typeof process>"u"||typeof Sy>"u"))return Sy.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function WE(t){return A.useEffect(()=>{var e;t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),A.useEffect(()=>{UE({framework:t.framework||"react",basePath:t.basePath??zE(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),A.useEffect(()=>{t.route&&t.path&&HE({route:t.route,path:t.path})},[t.route,t.path]),null}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ey="popstate";function qE(t={}){function e(n,s){let{pathname:o,search:l,hash:u}=n.location;return cp("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:El(s)}return KE(e,r,null,t)}function tr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GE(){return Math.random().toString(36).substring(2,10)}function Cy(t,e){return{usr:t.state,key:t.key,idx:e}}function cp(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:r,key:e&&e.key||n||GE()}}function El({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function pa(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function KE(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,u="POP",c=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function h(){u="POP";let S=p(),E=S==null?null:S-f;f=S,c&&c({action:u,location:b.location,delta:E})}function g(S,E){u="PUSH";let P=cp(b.location,S,E);f=p()+1;let y=Cy(P,f),j=b.createHref(P);try{l.pushState(y,"",j)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(j)}o&&c&&c({action:u,location:b.location,delta:1})}function w(S,E){u="REPLACE";let P=cp(b.location,S,E);f=p();let y=Cy(P,f),j=b.createHref(P);l.replaceState(y,"",j),o&&c&&c({action:u,location:b.location,delta:0})}function R(S){return YE(S)}let b={get action(){return u},get location(){return t(s,l)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ey,h),c=S,()=>{s.removeEventListener(Ey,h),c=null}},createHref(S){return e(s,S)},createURL:R,encodeLocation(S){let E=R(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:w,go(S){return l.go(S)}};return b}function YE(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:El(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Fb(t,e,r="/"){return XE(t,e,r,!1)}function XE(t,e,r,n){let s=typeof e=="string"?pa(e):e,o=Rs(s.pathname||"/",r);if(o==null)return null;let l=Vb(t);QE(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let f=l9(o);u=o9(l[c],f,n)}return u}function Vb(t,e=[],r=[],n="",s=!1){let o=(l,u,c=s,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&c)return;tr(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let h=Ts([n,p.relativePath]),g=r.concat(p);l.children&&l.children.length>0&&(tr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Vb(l.children,e,g,h,c)),!(l.path==null&&!l.index)&&e.push({path:h,score:s9(h,l.index),routesMeta:g})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let c of $b(l.path))o(l,u,!0,c)}),e}function $b(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=$b(n.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),s&&u.push(...l),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function QE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:i9(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var ZE=/^:[\w-]+$/,JE=3,e9=2,t9=1,r9=10,n9=-2,Ty=t=>t==="*";function s9(t,e){let r=t.split("/"),n=r.length;return r.some(Ty)&&(n+=n9),e&&(n+=e9),r.filter(s=>!Ty(s)).reduce((s,o)=>s+(ZE.test(o)?JE:o===""?t9:r9),n)}function i9(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function o9(t,e,r=!1){let{routesMeta:n}=t,s={},o="/",l=[];for(let u=0;u<n.length;++u){let c=n[u],f=u===n.length-1,p=o==="/"?e:e.slice(o.length)||"/",h=Hc({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),g=c.route;if(!h&&f&&r&&!n[n.length-1].route.index&&(h=Hc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!h)return null;Object.assign(s,h.params),l.push({params:s,pathname:Ts([o,h.pathname]),pathnameBase:h9(Ts([o,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(o=Ts([o,h.pathnameBase]))}return l}function Hc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=a9(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:h},g)=>{if(p==="*"){let R=u[g]||"";l=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const w=u[g];return h&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function a9(t,e=!1,r=!0){qn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(n.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function l9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var u9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c9=t=>u9.test(t);function d9(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?pa(t):t,o;if(r)if(c9(r))o=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${r}`)}r.startsWith("/")?o=Ry(r.substring(1),"/"):o=Ry(r,e)}else o=e;return{pathname:o,search:p9(n),hash:m9(s)}}function Ry(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Oh(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f9(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ub(t){let e=f9(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Hb(t,e,r,n=!1){let s;typeof t=="string"?s=pa(t):(s={...t},tr(!s.pathname||!s.pathname.includes("?"),Oh("?","pathname","search",s)),tr(!s.pathname||!s.pathname.includes("#"),Oh("#","pathname","hash",s)),tr(!s.search||!s.search.includes("#"),Oh("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=r;else{let h=e.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}u=h>=0?e[h]:"/"}let c=d9(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}var Ts=t=>t.join("/").replace(/\/\/+/g,"/"),h9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,m9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function g9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function v9(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zb=["POST","PUT","PATCH","DELETE"];new Set(zb);var y9=["GET",...zb];new Set(y9);var ma=A.createContext(null);ma.displayName="DataRouter";var _d=A.createContext(null);_d.displayName="DataRouterState";A.createContext(!1);var Wb=A.createContext({isTransitioning:!1});Wb.displayName="ViewTransition";var _9=A.createContext(new Map);_9.displayName="Fetchers";var w9=A.createContext(null);w9.displayName="Await";var Yn=A.createContext(null);Yn.displayName="Navigation";var Ll=A.createContext(null);Ll.displayName="Location";var Ns=A.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var _m=A.createContext(null);_m.displayName="RouteError";function b9(t,{relative:e}={}){tr(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=A.useContext(Yn),{hash:s,pathname:o,search:l}=Fl(t,{relative:e}),u=o;return r!=="/"&&(u=o==="/"?r:Ts([r,o])),n.createHref({pathname:u,search:l,hash:s})}function Bl(){return A.useContext(Ll)!=null}function Ms(){return tr(Bl(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Ll).location}var qb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gb(t){A.useContext(Yn).static||A.useLayoutEffect(t)}function x9(){let{isDataRoute:t}=A.useContext(Ns);return t?D9():S9()}function S9(){tr(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(ma),{basename:e,navigator:r}=A.useContext(Yn),{matches:n}=A.useContext(Ns),{pathname:s}=Ms(),o=JSON.stringify(Ub(n)),l=A.useRef(!1);return Gb(()=>{l.current=!0}),A.useCallback((c,f={})=>{if(qn(l.current,qb),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=Hb(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ts([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}A.createContext(null);function Fl(t,{relative:e}={}){let{matches:r}=A.useContext(Ns),{pathname:n}=Ms(),s=JSON.stringify(Ub(r));return A.useMemo(()=>Hb(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function E9(t,e){return Kb(t,e)}function Kb(t,e,r,n,s){tr(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=A.useContext(Yn),{matches:l}=A.useContext(Ns),u=l[l.length-1],c=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",h=u&&u.route;{let P=h&&h.path||"";Yb(f,!h||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let g=Ms(),w;if(e){let P=typeof e=="string"?pa(e):e;tr(p==="/"||P.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),w=P}else w=g;let R=w.pathname||"/",b=R;if(p!=="/"){let P=p.replace(/^\//,"").split("/");b="/"+R.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=Fb(t,{pathname:b});qn(h||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),qn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=A9(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:Ts([p,o.encodeLocation?o.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Ts([p,o.encodeLocation?o.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),l,r,n,s);return e&&E?A.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function C9(){let t=I9(),e=g9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:o},"ErrorBoundary")," or"," ",A.createElement("code",{style:o},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),r?A.createElement("pre",{style:s},r):null,l)}var T9=A.createElement(C9,null),R9=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(Ns.Provider,{value:this.props.routeContext},A.createElement(_m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function k9({routeContext:t,match:e,children:r}){let n=A.useContext(ma);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Ns.Provider,{value:t},r)}function A9(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=r?.errors;if(l!=null){let p=o.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);tr(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,c=-1;if(r)for(let p=0;p<o.length;p++){let h=o[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=p),h.route.id){let{loaderData:g,errors:w}=r,R=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!w||w[h.route.id]===void 0);if(h.route.lazy||R){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}let f=r&&n?(p,h)=>{n(p,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:v9(r.matches),errorInfo:h})}:void 0;return o.reduceRight((p,h,g)=>{let w,R=!1,b=null,S=null;r&&(w=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||T9,u&&(c<0&&g===0?(Yb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,S=null):c===g&&(R=!0,S=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),P=()=>{let y;return w?y=b:R?y=S:h.route.Component?y=A.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=p,A.createElement(k9,{match:h,routeContext:{outlet:p,matches:E,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?A.createElement(R9,{location:r.location,revalidation:r.revalidation,component:b,error:w,children:P(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):P()},null)}function wm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O9(t){let e=A.useContext(ma);return tr(e,wm(t)),e}function P9(t){let e=A.useContext(_d);return tr(e,wm(t)),e}function N9(t){let e=A.useContext(Ns);return tr(e,wm(t)),e}function bm(t){let e=N9(t),r=e.matches[e.matches.length-1];return tr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function M9(){return bm("useRouteId")}function I9(){let t=A.useContext(_m),e=P9("useRouteError"),r=bm("useRouteError");return t!==void 0?t:e.errors?.[r]}function D9(){let{router:t}=O9("useNavigate"),e=bm("useNavigate"),r=A.useRef(!1);return Gb(()=>{r.current=!0}),A.useCallback(async(s,o={})=>{qn(r.current,qb),r.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var ky={};function Yb(t,e,r){!e&&!ky[t]&&(ky[t]=!0,qn(!1,r))}A.memo(j9);function j9({routes:t,future:e,state:r,unstable_onError:n}){return Kb(t,void 0,r,n,e)}function Ec(t){tr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L9({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:o=!1,unstable_useTransitions:l}){tr(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:u,navigator:s,static:o,unstable_useTransitions:l,future:{}}),[u,s,o,l]);typeof r=="string"&&(r=pa(r));let{pathname:f="/",search:p="",hash:h="",state:g=null,key:w="default"}=r,R=A.useMemo(()=>{let b=Rs(f,u);return b==null?null:{location:{pathname:b,search:p,hash:h,state:g,key:w},navigationType:n}},[u,f,p,h,g,w,n]);return qn(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${h}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:A.createElement(Yn.Provider,{value:c},A.createElement(Ll.Provider,{children:e,value:R}))}function B9({children:t,location:e}){return E9(dp(t),e)}function dp(t,e=[]){let r=[];return A.Children.forEach(t,(n,s)=>{if(!A.isValidElement(n))return;let o=[...e,s];if(n.type===A.Fragment){r.push.apply(r,dp(n.props.children,o));return}tr(n.type===Ec,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=dp(n.props.children,o)),r.push(l)}),r}var Cc="get",Tc="application/x-www-form-urlencoded";function wd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function F9(t){return wd(t)&&t.tagName.toLowerCase()==="button"}function V9(t){return wd(t)&&t.tagName.toLowerCase()==="form"}function $9(t){return wd(t)&&t.tagName.toLowerCase()==="input"}function U9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function H9(t,e){return t.button===0&&(!e||e==="_self")&&!U9(t)}var Xu=null;function z9(){if(Xu===null)try{new FormData(document.createElement("form"),0),Xu=!1}catch{Xu=!0}return Xu}var W9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ph(t){return t!=null&&!W9.has(t)?(qn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):t}function q9(t,e){let r,n,s,o,l;if(V9(t)){let u=t.getAttribute("action");n=u?Rs(u,e):null,r=t.getAttribute("method")||Cc,s=Ph(t.getAttribute("enctype"))||Tc,o=new FormData(t)}else if(F9(t)||$9(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(n=c?Rs(c,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||Cc,s=Ph(t.getAttribute("formenctype"))||Ph(u.getAttribute("enctype"))||Tc,o=new FormData(u,t),!z9()){let{name:f,type:p,value:h}=t;if(p==="image"){let g=f?`${f}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else f&&o.append(f,h)}}else{if(wd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Cc,n=null,s=Tc,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function G9(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Rs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function K9(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function X9(t,e,r){let n=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await K9(o,r);return l.links?l.links():[]}return[]}));return eC(n.flat(1).filter(Y9).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ay(t,e,r,n,s,o){let l=(c,f)=>r[f]?c.route.id!==r[f].route.id:!0,u=(c,f)=>r[f].pathname!==c.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==c.params["*"];return o==="assets"?e.filter((c,f)=>l(c,f)||u(c,f)):o==="data"?e.filter((c,f)=>{let p=n.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(l(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Q9(t,e,{includeHydrateFallback:r}={}){return Z9(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Z9(t){return[...new Set(t)]}function J9(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function eC(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let o=JSON.stringify(J9(s));return r.has(o)||(r.add(o),n.push({key:o,link:s})),n},[])}function Xb(){let t=A.useContext(ma);return xm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tC(){let t=A.useContext(_d);return xm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sm=A.createContext(void 0);Sm.displayName="FrameworkContext";function Qb(){let t=A.useContext(Sm);return xm(t,"You must render this element inside a <HydratedRouter> element"),t}function rC(t,e){let r=A.useContext(Sm),[n,s]=A.useState(!1),[o,l]=A.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:p,onTouchStart:h}=e,g=A.useRef(null);A.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let b=E=>{E.forEach(P=>{l(P.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[t]),A.useEffect(()=>{if(n){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[n]);let w=()=>{s(!0)},R=()=>{s(!1),l(!1)};return r?t!=="intent"?[o,g,{}]:[o,g,{onFocus:ol(u,w),onBlur:ol(c,R),onMouseEnter:ol(f,w),onMouseLeave:ol(p,R),onTouchStart:ol(h,w)}]:[!1,g,{}]}function ol(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function nC({page:t,...e}){let{router:r}=Xb(),n=A.useMemo(()=>Fb(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?A.createElement(iC,{page:t,matches:n,...e}):null}function sC(t){let{manifest:e,routeModules:r}=Qb(),[n,s]=A.useState([]);return A.useEffect(()=>{let o=!1;return X9(t,e,r).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,r]),n}function iC({page:t,matches:e,...r}){let n=Ms(),{manifest:s,routeModules:o}=Qb(),{basename:l}=Xb(),{loaderData:u,matches:c}=tC(),f=A.useMemo(()=>Ay(t,e,c,s,n,"data"),[t,e,c,s,n]),p=A.useMemo(()=>Ay(t,e,c,s,n,"assets"),[t,e,c,s,n]),h=A.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let R=new Set,b=!1;if(e.forEach(E=>{let P=s.routes[E.route.id];!P||!P.hasLoader||(!f.some(y=>y.route.id===E.route.id)&&E.route.id in u&&o[E.route.id]?.shouldRevalidate||P.hasClientLoader?b=!0:R.add(E.route.id))}),R.size===0)return[];let S=G9(t,l,"data");return b&&R.size>0&&S.searchParams.set("_routes",e.filter(E=>R.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[l,u,n,s,f,e,t,o]),g=A.useMemo(()=>Q9(p,s),[p,s]),w=sC(p);return A.createElement(A.Fragment,null,h.map(R=>A.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...r})),g.map(R=>A.createElement("link",{key:R,rel:"modulepreload",href:R,...r})),w.map(({key:R,link:b})=>A.createElement("link",{key:R,nonce:r.nonce,...b})))}function oC(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zb&&(window.__reactRouterVersion="7.10.1")}catch{}function aC({basename:t,children:e,unstable_useTransitions:r,window:n}){let s=A.useRef();s.current==null&&(s.current=qE({window:n,v5Compat:!0}));let o=s.current,[l,u]=A.useState({action:o.action,location:o.location}),c=A.useCallback(f=>{r===!1?u(f):A.startTransition(()=>u(f))},[r]);return A.useLayoutEffect(()=>o.listen(c),[o,c]),A.createElement(L9,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:r===!0})}var Jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ia=A.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:o,replace:l,state:u,target:c,to:f,preventScrollReset:p,viewTransition:h,...g},w){let{basename:R,unstable_useTransitions:b}=A.useContext(Yn),S=typeof f=="string"&&Jb.test(f),E,P=!1;if(typeof f=="string"&&S&&(E=f,Zb))try{let ie=new URL(window.location.href),re=f.startsWith("//")?new URL(ie.protocol+f):new URL(f),z=Rs(re.pathname,R);re.origin===ie.origin&&z!=null?f=z+re.search+re.hash:P=!0}catch{qn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=b9(f,{relative:s}),[j,L,G]=rC(n,g),U=dC(f,{replace:l,state:u,target:c,preventScrollReset:p,relative:s,viewTransition:h,unstable_useTransitions:b});function $(ie){e&&e(ie),ie.defaultPrevented||U(ie)}let ee=A.createElement("a",{...g,...G,href:E||y,onClick:P||o?e:$,ref:oC(w,L),target:c,"data-discover":!S&&r==="render"?"true":void 0});return j&&!S?A.createElement(A.Fragment,null,ee,A.createElement(nC,{page:y})):ee});ia.displayName="Link";var lC=A.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:o,to:l,viewTransition:u,children:c,...f},p){let h=Fl(l,{relative:f.relative}),g=Ms(),w=A.useContext(_d),{navigator:R,basename:b}=A.useContext(Yn),S=w!=null&&gC(h)&&u===!0,E=R.encodeLocation?R.encodeLocation(h).pathname:h.pathname,P=g.pathname,y=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(P=P.toLowerCase(),y=y?y.toLowerCase():null,E=E.toLowerCase()),y&&b&&(y=Rs(y,b)||y);const j=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=P===E||!s&&P.startsWith(E)&&P.charAt(j)==="/",G=y!=null&&(y===E||!s&&y.startsWith(E)&&y.charAt(E.length)==="/"),U={isActive:L,isPending:G,isTransitioning:S},$=L?e:void 0,ee;typeof n=="function"?ee=n(U):ee=[n,L?"active":null,G?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ie=typeof o=="function"?o(U):o;return A.createElement(ia,{...f,"aria-current":$,className:ee,ref:p,style:ie,to:l,viewTransition:u},typeof c=="function"?c(U):c)});lC.displayName="NavLink";var uC=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:o,method:l=Cc,action:u,onSubmit:c,relative:f,preventScrollReset:p,viewTransition:h,...g},w)=>{let{unstable_useTransitions:R}=A.useContext(Yn),b=pC(),S=mC(u,{relative:f}),E=l.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&Jb.test(u),y=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let L=j.nativeEvent.submitter,G=L?.getAttribute("formmethod")||l,U=()=>b(L||j.currentTarget,{fetcherKey:e,method:G,navigate:r,replace:s,state:o,relative:f,preventScrollReset:p,viewTransition:h});R&&r!==!1?A.startTransition(()=>U()):U()};return A.createElement("form",{ref:w,method:E,action:S,onSubmit:n?c:y,...g,"data-discover":!P&&t==="render"?"true":void 0})});uC.displayName="Form";function cC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ex(t){let e=A.useContext(ma);return tr(e,cC(t)),e}function dC(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:o,viewTransition:l,unstable_useTransitions:u}={}){let c=x9(),f=Ms(),p=Fl(t,{relative:o});return A.useCallback(h=>{if(H9(h,e)){h.preventDefault();let g=r!==void 0?r:El(f)===El(p),w=()=>c(t,{replace:g,state:n,preventScrollReset:s,relative:o,viewTransition:l});u?A.startTransition(()=>w()):w()}},[f,c,p,r,n,e,t,s,o,l,u])}var fC=0,hC=()=>`__${String(++fC)}__`;function pC(){let{router:t}=ex("useSubmit"),{basename:e}=A.useContext(Yn),r=M9(),n=t.fetch,s=t.navigate;return A.useCallback(async(o,l={})=>{let{action:u,method:c,encType:f,formData:p,body:h}=q9(o,e);if(l.navigate===!1){let g=l.fetcherKey||hC();await n(g,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:h,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await s(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:h,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,s,e,r])}function mC(t,{relative:e}={}){let{basename:r}=A.useContext(Yn),n=A.useContext(Ns);tr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...Fl(t||".",{relative:e})},l=Ms();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(h=>h).forEach(h=>u.append("index",h));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Ts([r,o.pathname])),El(o)}function gC(t,{relative:e}={}){let r=A.useContext(Wb);tr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ex("useViewTransitionState"),s=Fl(t,{relative:e});if(!r.isTransitioning)return!1;let o=Rs(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Rs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Hc(s.pathname,l)!=null||Hc(s.pathname,o)!=null}var Em=jb();const tx=ha(Em);var Nh={},Mh={},Ih={},Oy;function vC(){return Oy||(Oy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];if(typeof window<"u"){var u;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(u=window).gtag.apply(u,o)}},r=e;t.default=r})(Ih)),Ih}var Dh={},Py;function yC(){return Py||(Py=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function r(u){return u.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(c,f,p){return f>0&&f+c.length!==p.length&&c.search(e)>-1&&p.charAt(f-2)!==":"&&(p.charAt(f+c.length)!=="-"||p.charAt(f-1)==="-")&&p.charAt(f-1).search(/[^\s-]/)<0?c.toLowerCase():c.substr(1).search(/[A-Z]|\../)>-1?c:c.charAt(0).toUpperCase()+c.substr(1)})}function n(u){return typeof u=="string"&&u.indexOf("@")!==-1}var s="REDACTED (Potential Email Address)";function o(u){return n(u)?(console.warn("This arg looks like an email address, redacting."),s):u}function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,p=u||"";return c&&(p=r(u)),f&&(p=o(p)),p}})(Dh)),Dh}var Ny;function _C(){return Ny||(Ny=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=l(vC()),r=l(yC()),n=["eventCategory","eventAction","eventLabel","eventValue","hitType"],s=["title","location"],o=["page","hitType"];function l(K){return K&&K.__esModule?K:{default:K}}function u(K,B){if(K==null)return{};var k=c(K,B),I,M;if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(K);for(M=0;M<H.length;M++)I=H[M],!(B.indexOf(I)>=0)&&Object.prototype.propertyIsEnumerable.call(K,I)&&(k[I]=K[I])}return k}function c(K,B){if(K==null)return{};var k={},I=Object.keys(K),M,H;for(H=0;H<I.length;H++)M=I[H],!(B.indexOf(M)>=0)&&(k[M]=K[M]);return k}function f(K){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},f(K)}function p(K){return w(K)||g(K)||P(K)||h()}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(K){if(typeof Symbol<"u"&&K[Symbol.iterator]!=null||K["@@iterator"]!=null)return Array.from(K)}function w(K){if(Array.isArray(K))return y(K)}function R(K,B){var k=Object.keys(K);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(K);B&&(I=I.filter(function(M){return Object.getOwnPropertyDescriptor(K,M).enumerable})),k.push.apply(k,I)}return k}function b(K){for(var B=1;B<arguments.length;B++){var k=arguments[B]!=null?arguments[B]:{};B%2?R(Object(k),!0).forEach(function(I){ee(K,I,k[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(k)):R(Object(k)).forEach(function(I){Object.defineProperty(K,I,Object.getOwnPropertyDescriptor(k,I))})}return K}function S(K,B){return L(K)||j(K,B)||P(K,B)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(K,B){if(K){if(typeof K=="string")return y(K,B);var k=Object.prototype.toString.call(K).slice(8,-1);if(k==="Object"&&K.constructor&&(k=K.constructor.name),k==="Map"||k==="Set")return Array.from(K);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return y(K,B)}}function y(K,B){(B==null||B>K.length)&&(B=K.length);for(var k=0,I=new Array(B);k<B;k++)I[k]=K[k];return I}function j(K,B){var k=K==null?null:typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(k!=null){var I,M,H,D,v=[],_=!0,x=!1;try{if(H=(k=k.call(K)).next,B!==0)for(;!(_=(I=H.call(k)).done)&&(v.push(I.value),v.length!==B);_=!0);}catch(O){x=!0,M=O}finally{try{if(!_&&k.return!=null&&(D=k.return(),Object(D)!==D))return}finally{if(x)throw M}}return v}}function L(K){if(Array.isArray(K))return K}function G(K,B){if(!(K instanceof B))throw new TypeError("Cannot call a class as a function")}function U(K,B){for(var k=0;k<B.length;k++){var I=B[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(K,ie(I.key),I)}}function $(K,B,k){return B&&U(K.prototype,B),Object.defineProperty(K,"prototype",{writable:!1}),K}function ee(K,B,k){return B=ie(B),B in K?Object.defineProperty(K,B,{value:k,enumerable:!0,configurable:!0,writable:!0}):K[B]=k,K}function ie(K){var B=re(K,"string");return f(B)==="symbol"?B:String(B)}function re(K,B){if(f(K)!=="object"||K===null)return K;var k=K[Symbol.toPrimitive];if(k!==void 0){var I=k.call(K,B);if(f(I)!=="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(K)}var z=(function(){function K(){var B=this;G(this,K),ee(this,"reset",function(){B.isInitialized=!1,B._testMode=!1,B._currentMeasurementId,B._hasLoadedGA=!1,B._isQueuing=!1,B._queueGtag=[]}),ee(this,"_gtag",function(){for(var k=arguments.length,I=new Array(k),M=0;M<k;M++)I[M]=arguments[M];B._testMode||B._isQueuing?B._queueGtag.push(I):e.default.apply(void 0,I)}),ee(this,"_loadGA",function(k,I){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!B._hasLoadedGA){var H=document.createElement("script");H.async=!0,H.src="".concat(M,"?id=").concat(k),I&&H.setAttribute("nonce",I),document.body.appendChild(H),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},B._hasLoadedGA=!0}}),ee(this,"_toGtagOptions",function(k){if(k){var I={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},M=Object.entries(k).reduce(function(H,D){var v=S(D,2),_=v[0],x=v[1];return I[_]?H[I[_]]=x:H[_]=x,H},{});return M}}),ee(this,"initialize",function(k){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!k)throw new Error("Require GA_MEASUREMENT_ID");var M=typeof k=="string"?[{trackingId:k}]:k;B._currentMeasurementId=M[0].trackingId;var H=I.gaOptions,D=I.gtagOptions,v=I.nonce,_=I.testMode,x=_===void 0?!1:_,O=I.gtagUrl;if(B._testMode=x,x||B._loadGA(B._currentMeasurementId,v,O),B.isInitialized||(B._gtag("js",new Date),M.forEach(function(X){var W=b(b(b({},B._toGtagOptions(b(b({},H),X.gaOptions))),D),X.gtagOptions);Object.keys(W).length?B._gtag("config",X.trackingId,W):B._gtag("config",X.trackingId)})),B.isInitialized=!0,!x){var F=p(B._queueGtag);for(B._queueGtag=[],B._isQueuing=!1;F.length;){var Q=F.shift();B._gtag.apply(B,p(Q)),Q[0]==="get"&&(B._isQueuing=!0)}}}),ee(this,"set",function(k){if(!k){console.warn("`fieldsObject` is required in .set()");return}if(f(k)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(k).length===0&&console.warn("empty `fieldsObject` given to .set()"),B._gaCommand("set",k)}),ee(this,"_gaCommandSendEvent",function(k,I,M,H,D){B._gtag("event",I,b(b({event_category:k,event_label:M,value:H},D&&{non_interaction:D.nonInteraction}),B._toGtagOptions(D)))}),ee(this,"_gaCommandSendEventParameters",function(){for(var k=arguments.length,I=new Array(k),M=0;M<k;M++)I[M]=arguments[M];if(typeof I[0]=="string")B._gaCommandSendEvent.apply(B,p(I.slice(1)));else{var H=I[0],D=H.eventCategory,v=H.eventAction,_=H.eventLabel,x=H.eventValue;H.hitType;var O=u(H,n);B._gaCommandSendEvent(D,v,_,x,O)}}),ee(this,"_gaCommandSendTiming",function(k,I,M,H){B._gtag("event","timing_complete",{name:I,value:M,event_category:k,event_label:H})}),ee(this,"_gaCommandSendPageview",function(k,I){if(I&&Object.keys(I).length){var M=B._toGtagOptions(I),H=M.title,D=M.location,v=u(M,s);B._gtag("event","page_view",b(b(b(b({},k&&{page_path:k}),H&&{page_title:H}),D&&{page_location:D}),v))}else k?B._gtag("event","page_view",{page_path:k}):B._gtag("event","page_view")}),ee(this,"_gaCommandSendPageviewParameters",function(){for(var k=arguments.length,I=new Array(k),M=0;M<k;M++)I[M]=arguments[M];if(typeof I[0]=="string")B._gaCommandSendPageview.apply(B,p(I.slice(1)));else{var H=I[0],D=H.page;H.hitType;var v=u(H,o);B._gaCommandSendPageview(D,v)}}),ee(this,"_gaCommandSend",function(){for(var k=arguments.length,I=new Array(k),M=0;M<k;M++)I[M]=arguments[M];var H=typeof I[0]=="string"?I[0]:I[0].hitType;switch(H){case"event":B._gaCommandSendEventParameters.apply(B,I);break;case"pageview":B._gaCommandSendPageviewParameters.apply(B,I);break;case"timing":B._gaCommandSendTiming.apply(B,p(I.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(H));break;default:console.warn("Send command doesn't exist: ".concat(H))}}),ee(this,"_gaCommandSet",function(){for(var k=arguments.length,I=new Array(k),M=0;M<k;M++)I[M]=arguments[M];typeof I[0]=="string"&&(I[0]=ee({},I[0],I[1])),B._gtag("set",B._toGtagOptions(I[0]))}),ee(this,"_gaCommand",function(k){for(var I=arguments.length,M=new Array(I>1?I-1:0),H=1;H<I;H++)M[H-1]=arguments[H];switch(k){case"send":B._gaCommandSend.apply(B,M);break;case"set":B._gaCommandSet.apply(B,M);break;default:console.warn("Command doesn't exist: ".concat(k))}}),ee(this,"ga",function(){for(var k=arguments.length,I=new Array(k),M=0;M<k;M++)I[M]=arguments[M];if(typeof I[0]=="string")B._gaCommand.apply(B,I);else{var H=I[0];B._gtag("get",B._currentMeasurementId,"client_id",function(D){B._isQueuing=!1;var v=B._queueGtag;for(H({get:function(O){return O==="clientId"?D:O==="trackingId"?B._currentMeasurementId:O==="apiVersion"?"1":void 0}});v.length;){var _=v.shift();B._gtag.apply(B,p(_))}}),B._isQueuing=!0}return B.ga}),ee(this,"event",function(k,I){if(typeof k=="string")B._gtag("event",k,B._toGtagOptions(I));else{var M=k.action,H=k.category,D=k.label,v=k.value,_=k.nonInteraction,x=k.transport;if(!H||!M){console.warn("args.category AND args.action are required in event()");return}var O={hitType:"event",eventCategory:(0,r.default)(H),eventAction:(0,r.default)(M)};D&&(O.eventLabel=(0,r.default)(D)),typeof v<"u"&&(typeof v!="number"?console.warn("Expected `args.value` arg to be a Number."):O.eventValue=v),typeof _<"u"&&(typeof _!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):O.nonInteraction=_),typeof x<"u"&&(typeof x!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(x)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),O.transport=x)),B._gaCommand("send",O)}}),ee(this,"send",function(k){B._gaCommand("send",k)}),this.reset()}return $(K,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),K})();t.GA4=z;var ve=new z;t.default=ve})(Mh)),Mh}var My;function wC(){return My||(My=1,(function(t){function e(u){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var r=s(_C());function n(u){if(typeof WeakMap!="function")return null;var c=new WeakMap,f=new WeakMap;return(n=function(h){return h?f:c})(u)}function s(u,c){if(u&&u.__esModule)return u;if(u===null||e(u)!=="object"&&typeof u!="function")return{default:u};var f=n(c);if(f&&f.has(u))return f.get(u);var p={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in u)if(g!=="default"&&Object.prototype.hasOwnProperty.call(u,g)){var w=h?Object.getOwnPropertyDescriptor(u,g):null;w&&(w.get||w.set)?Object.defineProperty(p,g,w):p[g]=u[g]}return p.default=u,f&&f.set(u,p),p}var o=r.GA4;t.ReactGAImplementation=o;var l=r.default;t.default=l})(Nh)),Nh}var bC=wC();const Cm=ha(bC),_t={log:(...t)=>{},warn:(...t)=>{},error:(...t)=>{console.error(...t)},info:(...t)=>{}},xC={},Iy=xC?.VITE_GA_MEASUREMENT_ID||"G-DXP32KJ15V";let zc=!1;const bd=()=>{if(!zc)try{_t.log(` Initializing GA4 with ID: ${Iy}`),Cm.initialize(Iy,{gtagOptions:{debug_mode:!1,cookie_flags:"SameSite=None;Secure"}}),zc=!0,_t.log(" GA4 Initialized via ReactGA")}catch(t){_t.error(" GA4 Initialization Error:",t)}},SC=()=>{zc||bd();try{const t=window.location.pathname+window.location.search;Cm.send({hitType:"pageview",page:t}),_t.log(` Page View sent: ${t}`)}catch(t){_t.error(" Failed to send Page View:",t)}},Ut=t=>{zc||bd();try{Cm.event(t.name,t.params),_t.log(` [Analytics] ${t.name}:`,t.params)}catch(e){_t.error(" Failed to send Event:",e)}};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Dy=t=>{const e=CC(t);return e.charAt(0).toUpperCase()+e.slice(1)},rx=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:l,...u},c)=>A.createElement("svg",{ref:c,...TC,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:rx("lucide",s),...u},[...l.map(([f,p])=>A.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(t,e)=>{const r=A.forwardRef(({className:n,...s},o)=>A.createElement(RC,{ref:o,iconNode:e,className:rx(`lucide-${EC(Dy(t))}`,`lucide-${t}`,n),...s}));return r.displayName=Dy(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],nx=Ht("arrow-left",kC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],OC=Ht("check",AC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],jy=Ht("ellipsis-vertical",PC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],MC=Ht("globe",NC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],DC=Ht("heart",IC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],jh=Ht("keyboard",jC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],BC=Ht("log-in",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Ly=Ht("log-out",FC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],$C=Ht("menu",VC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],By=Ht("moon",UC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],zC=Ht("music",HC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],sx=Ht("pause",WC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Fy=Ht("pen",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ix=Ht("play",GC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fp=Ht("plus",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Vy=Ht("rotate-ccw",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],$y=Ht("scissors",XC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],ZC=Ht("skip-back",QC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],eT=Ht("square",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Uy=Ht("sun",tT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Wc=Ht("trash-2",rT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ox=Ht("triangle-alert",nT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iT=Ht("user",sT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Wo=Ht("volume-2",oT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],qo=Ht("volume-x",aT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xd=Ht("x",lT),vt=t=>typeof t=="string",al=()=>{let t,e;const r=new Promise((n,s)=>{t=n,e=s});return r.resolve=t,r.reject=e,r},Hy=t=>t==null?"":""+t,uT=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},cT=/###/g,zy=t=>t&&t.indexOf("###")>-1?t.replace(cT,"."):t,Wy=t=>!t||vt(t),gl=(t,e,r)=>{const n=vt(e)?e.split("."):e;let s=0;for(;s<n.length-1;){if(Wy(t))return{};const o=zy(n[s]);!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++s}return Wy(t)?{}:{obj:t,k:zy(n[s])}},qy=(t,e,r)=>{const{obj:n,k:s}=gl(t,e,Object);if(n!==void 0||e.length===1){n[s]=r;return}let o=e[e.length-1],l=e.slice(0,e.length-1),u=gl(t,l,Object);for(;u.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),u=gl(t,l,Object),u?.obj&&typeof u.obj[`${u.k}.${o}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${o}`]=r},dT=(t,e,r,n)=>{const{obj:s,k:o}=gl(t,e,Object);s[o]=s[o]||[],s[o].push(r)},qc=(t,e)=>{const{obj:r,k:n}=gl(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},fT=(t,e,r)=>{const n=qc(t,r);return n!==void 0?n:qc(e,r)},ax=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?vt(t[n])||t[n]instanceof String||vt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):ax(t[n],e[n],r):t[n]=e[n]);return t},Po=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var hT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const pT=t=>vt(t)?t.replace(/[&<>"'\/]/g,e=>hT[e]):t;class mT{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const gT=[" ",",","?","!",";"],vT=new mT(20),yT=(t,e,r)=>{e=e||"",r=r||"";const n=gT.filter(l=>e.indexOf(l)<0&&r.indexOf(l)<0);if(n.length===0)return!0;const s=vT.getRegExp(`(${n.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!s.test(t);if(!o){const l=t.indexOf(r);l>0&&!s.test(t.substring(0,l))&&(o=!0)}return o},hp=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let s=t;for(let o=0;o<n.length;){if(!s||typeof s!="object")return;let l,u="";for(let c=o;c<n.length;++c)if(c!==o&&(u+=r),u+=n[c],l=s[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&c<n.length-1)continue;o+=c-o+1;break}s=l}return s},Cl=t=>t?.replace("_","-"),_T={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Gc{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||_T,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,s){return s&&!this.debug?null:(vt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Gc(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Gc(this.logger,e)}}var os=new Gc;class Sd{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s.apply(s,[e,...r])})}}class Gy extends Sd{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,s={}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,r],n&&(Array.isArray(n)?u.push(...n):vt(n)&&o?u.push(...n.split(o)):u.push(n)));const c=qc(this.data,u);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=u[0],r=u[1],n=u.slice(2).join(".")),c||!l||!vt(n)?c:hp(this.data?.[e]?.[r],n,o)}addResource(e,r,n,s,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let u=[e,r];n&&(u=u.concat(l?n.split(l):n)),e.indexOf(".")>-1&&(u=e.split("."),s=r,r=u[1]),this.addNamespaces(r),qy(this.data,u,s),o.silent||this.emit("added",e,r,n,s)}addResources(e,r,n,s={silent:!1}){for(const o in n)(vt(n[o])||Array.isArray(n[o]))&&this.addResource(e,r,o,n[o],{silent:!0});s.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,s,o,l={silent:!1,skipCopy:!1}){let u=[e,r];e.indexOf(".")>-1&&(u=e.split("."),s=n,n=r,r=u[1]),this.addNamespaces(r);let c=qc(this.data,u)||{};l.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?ax(c,n,o):c={...c,...n},qy(this.data,u,c),l.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var lx={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,s){return t.forEach(o=>{e=this.processors[o]?.process(e,r,n,s)??e}),e}};const ux=Symbol("i18next/PATH_KEY");function wT(){const t=[],e=Object.create(null);let r;return e.get=(n,s)=>(r?.revoke?.(),s===ux?t:(t.push(s),r=Proxy.revocable(n,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Kc(t,e){const{[ux]:r}=t(wT());return r.join(e?.keySeparator??".")}const Ky={},Lh=t=>!vt(t)&&typeof t!="boolean"&&typeof t!="number";class Yc extends Sd{constructor(e,r={}){super(),uT(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=os.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const s=this.resolve(e,n);if(s?.res===void 0)return!1;const o=Lh(s.res);return!(n.returnObjects===!1&&o)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=r.ns||this.options.defaultNS||[];const l=n&&e.indexOf(n)>-1,u=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!yT(e,n,s);if(l&&!u){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:vt(o)?[o]:o};const f=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(f[0])>-1)&&(o=f.shift()),e=f.join(s)}return{key:e,namespaces:vt(o)?[o]:o}}translate(e,r,n){let s=typeof r=="object"?{...r}:r;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Kc(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:u,namespaces:c}=this.extractFromKey(e[e.length-1],s),f=c[c.length-1];let p=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const h=s.lng||this.language,g=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode")return g?o?{res:`${f}${p}${u}`,usedKey:u,exactUsedKey:u,usedLng:h,usedNS:f,usedParams:this.getUsedParamsDetails(s)}:`${f}${p}${u}`:o?{res:u,usedKey:u,exactUsedKey:u,usedLng:h,usedNS:f,usedParams:this.getUsedParamsDetails(s)}:u;const w=this.resolve(e,s);let R=w?.res;const b=w?.usedKey||u,S=w?.exactUsedKey||u,E=["[object Number]","[object Function]","[object RegExp]"],P=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,j=s.count!==void 0&&!vt(s.count),L=Yc.hasDefaultValue(s),G=j?this.pluralResolver.getSuffix(h,s.count,s):"",U=s.ordinal&&j?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",$=j&&!s.ordinal&&s.count===0,ee=$&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${G}`]||s[`defaultValue${U}`]||s.defaultValue;let ie=R;y&&!R&&L&&(ie=ee);const re=Lh(ie),z=Object.prototype.toString.apply(ie);if(y&&ie&&re&&E.indexOf(z)<0&&!(vt(P)&&Array.isArray(ie))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ve=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,ie,{...s,ns:c}):`key '${u} (${this.language})' returned an object instead of string.`;return o?(w.res=ve,w.usedParams=this.getUsedParamsDetails(s),w):ve}if(l){const ve=Array.isArray(ie),K=ve?[]:{},B=ve?S:b;for(const k in ie)if(Object.prototype.hasOwnProperty.call(ie,k)){const I=`${B}${l}${k}`;L&&!R?K[k]=this.translate(I,{...s,defaultValue:Lh(ee)?ee[k]:void 0,joinArrays:!1,ns:c}):K[k]=this.translate(I,{...s,joinArrays:!1,ns:c}),K[k]===I&&(K[k]=ie[k])}R=K}}else if(y&&vt(P)&&Array.isArray(R))R=R.join(P),R&&(R=this.extendTranslation(R,e,s,n));else{let ve=!1,K=!1;!this.isValidLookup(R)&&L&&(ve=!0,R=ee),this.isValidLookup(R)||(K=!0,R=u);const k=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&K?void 0:R,I=L&&ee!==R&&this.options.updateMissing;if(K||ve||I){if(this.logger.log(I?"updateKey":"missingKey",h,f,u,I?ee:R),l){const v=this.resolve(u,{...s,keySeparator:!1});v&&v.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const H=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&H&&H[0])for(let v=0;v<H.length;v++)M.push(H[v]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(s.lng||this.language):M.push(s.lng||this.language);const D=(v,_,x)=>{const O=L&&x!==R?x:k;this.options.missingKeyHandler?this.options.missingKeyHandler(v,f,_,O,I,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(v,f,_,O,I,s),this.emit("missingKey",v,f,_,R)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?M.forEach(v=>{const _=this.pluralResolver.getSuffixes(v,s);$&&s[`defaultValue${this.options.pluralSeparator}zero`]&&_.indexOf(`${this.options.pluralSeparator}zero`)<0&&_.push(`${this.options.pluralSeparator}zero`),_.forEach(x=>{D([v],u+x,s[`defaultValue${x}`]||ee)})}):D(M,u,ee))}R=this.extendTranslation(R,e,s,w,n),K&&R===u&&this.options.appendNamespaceToMissingKey&&(R=`${f}${p}${u}`),(K||ve)&&this.options.parseMissingKeyHandler&&(R=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${p}${u}`:u,ve?R:void 0,s))}return o?(w.res=R,w.usedParams=this.getUsedParamsDetails(s),w):R}extendTranslation(e,r,n,s,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=vt(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(c){const h=e.match(this.interpolator.nestingRegexp);f=h&&h.length}let p=n.replace&&!vt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||s.usedLng,n),c){const h=e.match(this.interpolator.nestingRegexp),g=h&&h.length;f<g&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>o?.[0]===h[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${r[0]}`),null):this.translate(...h,r),n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,u=vt(l)?[l]:l;return e!=null&&u?.length&&n.applyPostProcessor!==!1&&(e=lx.handle(u,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,s,o,l,u;return vt(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const f=this.extractFromKey(c,r),p=f.key;s=p;let h=f.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const g=r.count!==void 0&&!vt(r.count),w=g&&!r.ordinal&&r.count===0,R=r.context!==void 0&&(vt(r.context)||typeof r.context=="number")&&r.context!=="",b=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(S=>{this.isValidLookup(n)||(u=S,!Ky[`${b[0]}-${S}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(u)&&(Ky[`${b[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${b.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(E=>{if(this.isValidLookup(n))return;l=E;const P=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(P,p,E,S,r);else{let j;g&&(j=this.pluralResolver.getSuffix(E,r.count,r));const L=`${this.options.pluralSeparator}zero`,G=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(r.ordinal&&j.indexOf(G)===0&&P.push(p+j.replace(G,this.options.pluralSeparator)),P.push(p+j),w&&P.push(p+L)),R){const U=`${p}${this.options.contextSeparator||"_"}${r.context}`;P.push(U),g&&(r.ordinal&&j.indexOf(G)===0&&P.push(U+j.replace(G,this.options.pluralSeparator)),P.push(U+j),w&&P.push(U+L))}}let y;for(;y=P.pop();)this.isValidLookup(n)||(o=y,n=this.getResource(E,S,y,r))}))})}),{res:n,usedKey:s,exactUsedKey:o,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,s):this.resourceStore.getResource(e,r,n,s)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!vt(e.replace);let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const o of r)delete s[o]}return s}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class Yy{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=os.create("languageUtils")}getScriptPartFromCode(e){if(e=Cl(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Cl(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(vt(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const s=this.getScriptPartFromCode(n);if(this.isSupportedCode(s))return r=s;const o=this.getLanguagePartFromCode(n);if(this.isSupportedCode(o))return r=o;r=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),vt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),s=[],o=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return vt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):vt(e)&&o(this.formatLanguageCode(e)),n.forEach(l=>{s.indexOf(l)<0&&o(this.formatLanguageCode(l))}),s}}const Xy={zero:0,one:1,two:2,few:3,many:4,other:5},Qy={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class bT{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=os.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=Cl(e==="dev"?"en":e),s=r.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(n,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Qy;if(!e.match(/-|_/))return Qy;const c=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(c,r)}return this.pluralRulesCache[o]=l,l}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(s=>`${r}${s}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((s,o)=>Xy[s]-Xy[o]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,r,n={}){const s=this.getRule(e,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Zy=(t,e,r,n=".",s=!0)=>{let o=fT(t,e,r);return!o&&s&&vt(r)&&(o=hp(t,r,n),o===void 0&&(o=hp(e,r,n))),o},Bh=t=>t.replace(/\$/g,"$$$$");class Jy{constructor(e={}){this.logger=os.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:o,prefixEscaped:l,suffix:u,suffixEscaped:c,formatSeparator:f,unescapeSuffix:p,unescapePrefix:h,nestingPrefix:g,nestingPrefixEscaped:w,nestingSuffix:R,nestingSuffixEscaped:b,nestingOptionsSeparator:S,maxReplaces:E,alwaysFormat:P}=e.interpolation;this.escape=r!==void 0?r:pT,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?Po(o):l||"{{",this.suffix=u?Po(u):c||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=g?Po(g):w||Po("$t("),this.nestingSuffix=R?Po(R):b||Po(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=E||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,s){let o,l,u;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=w=>{if(w.indexOf(this.formatSeparator)<0){const E=Zy(r,c,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,n,{...s,...r,interpolationkey:w}):E}const R=w.split(this.formatSeparator),b=R.shift().trim(),S=R.join(this.formatSeparator).trim();return this.format(Zy(r,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),S,n,{...s,...r,interpolationkey:b})};this.resetRegExp();const p=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>Bh(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?Bh(this.escape(w)):Bh(w)}].forEach(w=>{for(u=0;o=w.regex.exec(e);){const R=o[1].trim();if(l=f(R),l===void 0)if(typeof p=="function"){const S=p(e,o,s);l=vt(S)?S:""}else if(s&&Object.prototype.hasOwnProperty.call(s,R))l="";else if(h){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${R} for interpolating ${e}`),l="";else!vt(l)&&!this.useRawValueToEscape&&(l=Hy(l));const b=w.safeValue(l);if(e=e.replace(o[0],b),h?(w.regex.lastIndex+=l.length,w.regex.lastIndex-=o[0].length):w.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,r,n={}){let s,o,l;const u=(c,f)=>{const p=this.nestingOptionsSeparator;if(c.indexOf(p)<0)return c;const h=c.split(new RegExp(`${p}[ ]*{`));let g=`{${h[1]}`;c=h[0],g=this.interpolate(g,l);const w=g.match(/'/g),R=g.match(/"/g);((w?.length??0)%2===0&&!R||R.length%2!==0)&&(g=g.replace(/'/g,'"'));try{l=JSON.parse(g),f&&(l={...f,...l})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${p}${g}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,c};for(;s=this.nestingRegexp.exec(e);){let c=[];l={...n},l=l.replace&&!vt(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const f=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(f!==-1&&(c=s[1].slice(f).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),s[1]=s[1].slice(0,f)),o=r(u.call(this,s[1].trim(),l),l),o&&s[0]===e&&!vt(o))return o;vt(o)||(o=Hy(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),o=""),c.length&&(o=c.reduce((p,h)=>this.format(p,h,n.lng,{...n,interpolationkey:s[1].trim()}),o.trim())),e=e.replace(s[0],o),this.regexp.lastIndex=0}return e}}const xT=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(l=>{if(l){const[u,...c]=l.split(":"),f=c.join(":").trim().replace(/^'+|'+$/g,""),p=u.trim();r[p]||(r[p]=f),f==="false"&&(r[p]=!1),f==="true"&&(r[p]=!0),isNaN(f)||(r[p]=parseInt(f,10))}})}return{formatName:e,formatOptions:r}},e2=t=>{const e={};return(r,n,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const l=n+JSON.stringify(o);let u=e[l];return u||(u=t(Cl(n),s),e[l]=u),u(r)}},ST=t=>(e,r,n)=>t(Cl(r),n)(e);class ET{constructor(e={}){this.logger=os.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?e2:ST;this.formats={number:n((s,o)=>{const l=new Intl.NumberFormat(s,{...o});return u=>l.format(u)}),currency:n((s,o)=>{const l=new Intl.NumberFormat(s,{...o,style:"currency"});return u=>l.format(u)}),datetime:n((s,o)=>{const l=new Intl.DateTimeFormat(s,{...o});return u=>l.format(u)}),relativetime:n((s,o)=>{const l=new Intl.RelativeTimeFormat(s,{...o});return u=>l.format(u,o.range||"day")}),list:n((s,o)=>{const l=new Intl.ListFormat(s,{...o});return u=>l.format(u)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=e2(r)}format(e,r,n,s={}){const o=r.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(u=>u.indexOf(")")>-1)){const u=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,u)].join(this.formatSeparator)}return o.reduce((u,c)=>{const{formatName:f,formatOptions:p}=xT(c);if(this.formats[f]){let h=u;try{const g=s?.formatParams?.[s.interpolationkey]||{},w=g.locale||g.lng||s.locale||s.lng||n;h=this.formats[f](u,w,{...p,...s,...g})}catch(g){this.logger.warn(g)}return h}else this.logger.warn(`there was no format function for ${f}`);return u},e)}}const CT=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class TT extends Sd{constructor(e,r,n,s={}){super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=os.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,s.backend,s)}queueLoad(e,r,n,s){const o={},l={},u={},c={};return e.forEach(f=>{let p=!0;r.forEach(h=>{const g=`${f}|${h}`;!n.reload&&this.store.hasResourceBundle(f,h)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?l[g]===void 0&&(l[g]=!0):(this.state[g]=1,p=!1,l[g]===void 0&&(l[g]=!0),o[g]===void 0&&(o[g]=!0),c[h]===void 0&&(c[h]=!0)))}),p||(u[f]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const s=e.split("|"),o=s[0],l=s[1];r&&this.emit("failedLoading",o,l,r),!r&&n&&this.store.addResourceBundle(o,l,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const u={};this.queue.forEach(c=>{dT(c.loaded,[o],l),CT(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(f=>{u[f]||(u[f]={});const p=c.loaded[f];p.length&&p.forEach(h=>{u[f][h]===void 0&&(u[f][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n,s=0,o=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:s,wait:o,callback:l});return}this.readingCalls++;const u=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(f&&p&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,s+1,o*2,l)},o);return}l(f,p)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const f=c(e,r);f&&typeof f.then=="function"?f.then(p=>u(null,p)).catch(u):u(null,f)}catch(f){u(f)}return}return c(e,r,u)}prepareLoading(e,r,n={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();vt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),vt(r)&&(r=[r]);const o=this.queueLoad(e,r,n,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),s=n[0],o=n[1];this.read(s,o,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${r}loading namespace ${o} for language ${s} failed`,l),!l&&u&&this.logger.log(`${r}loaded namespace ${o} for language ${s}`,u),this.loaded(e,l,u)})}saveMissing(e,r,n,s,o,l={},u=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const c={...l,isUpdate:o},f=this.backend.create.bind(this.backend);if(f.length<6)try{let p;f.length===5?p=f(e,r,n,s,c):p=f(e,r,n,s),p&&typeof p.then=="function"?p.then(h=>u(null,h)).catch(u):u(null,p)}catch(p){u(p)}else f(e,r,n,s,u,c)}!e||!e[0]||this.store.addResource(e[0],r,n,s)}}}const t2=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),vt(t[1])&&(e.defaultValue=t[1]),vt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),r2=t=>(vt(t.ns)&&(t.ns=[t.ns]),vt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),vt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Qu=()=>{},RT=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class vl extends Sd{constructor(e={},r){if(super(),this.options=r2(e),this.services={},this.logger=os,this.modules={external:[]},RT(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(vt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=t2();this.options={...n,...this.options,...r2(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);const s=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?os.init(s(this.modules.logger),this.options):os.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=ET;const p=new Yy(this.options);this.store=new Gy(this.options.resources,this.options);const h=this.services;h.logger=os,h.resourceStore=this.store,h.languageUtils=p,h.pluralResolver=new bT(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=s(f),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Jy(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new TT(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(w,...R)=>{this.emit(w,...R)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Yc(this.services,this.options),this.translator.on("*",(w,...R)=>{this.emit(w,...R)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Qu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...p)=>this.store[f](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...p)=>(this.store[f](...p),this)});const u=al(),c=()=>{const f=(p,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(h),r(p,h)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),u}loadResources(e,r=Qu){let n=r;const s=vt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),this.options.preload?.forEach?.(u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,r,n){const s=al();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Qu),this.services.backendConnector.reload(e,r,o=>{s.resolve(),n(o)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&lx.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=al();this.emit("languageChanging",e);const s=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},o=(u,c)=>{c?this.isLanguageChangingTo===e&&(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...f)=>this.t(...f)),r&&r(u,(...f)=>this.t(...f))},l=u=>{!e&&!u&&this.services.languageDetector&&(u=[]);const c=vt(u)?u:u&&u[0],f=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(vt(u)?[u]:u);f&&(this.language||s(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,p=>{o(p,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),n}getFixedT(e,r,n){const s=(o,l,...u)=>{let c;typeof l!="object"?c=this.options.overloadTranslationOptionHandler([o,l].concat(u)):c={...l},c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);const f=this.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(o)?p=o.map(h=>(typeof h=="function"&&(h=Kc(h,{...this.options,...l})),`${c.keyPrefix}${f}${h}`)):(typeof o=="function"&&(o=Kc(o,{...this.options,...l})),p=c.keyPrefix?`${c.keyPrefix}${f}${o}`:o),this.t(p,c)};return vt(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const l=(u,c)=>{const f=this.services.backendConnector.state[`${u}|${c}`];return f===-1||f===0||f===2};if(r.precheck){const u=r.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(n,e)&&(!s||l(o,e)))}loadNamespaces(e,r){const n=al();return this.options.ns?(vt(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=al();vt(e)&&(e=[e]);const s=this.options.preload||[],o=e.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=s.concat(o),this.loadResources(l=>{n.resolve(),r&&r(l)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new Yy(t2());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new vl(e,r);return n.createInstance=vl.createInstance,n}cloneInstance(e={},r=Qu){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new vl(s);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(u=>{o[u]=this[u]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n){const u=Object.keys(this.store.data).reduce((c,f)=>(c[f]={...this.store.data[f]},c[f]=Object.keys(c[f]).reduce((p,h)=>(p[h]={...c[f][h]},p),c[f]),c),{});o.store=new Gy(u,s),o.services.resourceStore=o.store}return e.interpolation&&(o.services.interpolator=new Jy(s)),o.translator=new Yc(o.services,s),o.translator.on("*",(u,...c)=>{o.emit(u,...c)}),o.init(s,r),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Dr=vl.createInstance();Dr.createInstance;Dr.dir;Dr.init;Dr.loadResources;Dr.reloadResources;Dr.use;Dr.changeLanguage;Dr.getFixedT;Dr.t;Dr.exists;Dr.setDefaultNamespace;Dr.hasLoadedNamespace;Dr.loadNamespaces;Dr.loadLanguages;var Fh,n2;function kT(){return n2||(n2=1,Fh={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Fh}var AT=kT();const OT=ha(AT);var PT=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function s2(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(OT[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var s=new RegExp(PT),o=null;(o=s.exec(t))!==null;)if(o[0].trim())if(o[1]){var l=o[1].trim(),u=[l,""];l.indexOf("=")>-1&&(u=l.split("=")),e.attrs[u[0]]=u[1],s.lastIndex--}else o[2]&&(e.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return e}var NT=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,MT=/^\s*$/,IT=Object.create(null);function cx(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?(function(r){var n=[];for(var s in r)n.push(s+'="'+r[s]+'"');return n.length?" "+n.join(" "):""})(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(cx,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var DT={parse:function(t,e){e||(e={}),e.components||(e.components=IT);var r,n=[],s=[],o=-1,l=!1;if(t.indexOf("<")!==0){var u=t.indexOf("<");n.push({type:"text",content:u===-1?t:t.substring(0,u)})}return t.replace(NT,function(c,f){if(l){if(c!=="</"+r.name+">")return;l=!1}var p,h=c.charAt(1)!=="/",g=c.startsWith("<!--"),w=f+c.length,R=t.charAt(w);if(g){var b=s2(c);return o<0?(n.push(b),n):((p=s[o]).children.push(b),n)}if(h&&(o++,(r=s2(c)).type==="tag"&&e.components[r.name]&&(r.type="component",l=!0),r.voidElement||l||!R||R==="<"||r.children.push({type:"text",content:t.slice(w,t.indexOf("<",w))}),o===0&&n.push(r),(p=s[o-1])&&p.children.push(r),s[o]=r),(!h||r.voidElement)&&(o>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(o--,r=o===-1?n:s[o]),!l&&R!=="<"&&R)){p=o===-1?n:s[o].children;var S=t.indexOf("<",w),E=t.slice(w,S===-1?void 0:S);MT.test(E)&&(E=" "),(S>-1&&o+p.length>=0||E!==" ")&&p.push({type:"text",content:E})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+cx("",r)},"")}};const Rc=(t,e,r,n)=>{const s=[r,{code:e,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);ln(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...s):console?.warn&&console.warn(...s)},i2={},Ed=(t,e,r,n)=>{ln(r)&&i2[r]||(ln(r)&&(i2[r]=new Date),Rc(t,e,r,n))},dx=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},pp=(t,e,r)=>{t.loadNamespaces(e,dx(t,r))},o2=(t,e,r,n)=>{if(ln(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return pp(t,r,n);r.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,dx(t,n))},jT=(t,e,r={})=>!e.languages||!e.languages.length?(Ed(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,t))return!1}}),ln=t=>typeof t=="string",Cs=t=>typeof t=="object"&&t!==null,LT=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,BT={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},FT=t=>BT[t],fx=t=>t.replace(LT,FT);let mp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:fx};const VT=(t={})=>{mp={...mp,...t}},Tm=()=>mp;let hx;const $T=t=>{hx=t},Rm=()=>hx,kc=(t,e)=>{if(!t)return!1;const r=t.props?.children??t.children;return e?r.length>0:!!r},Ac=t=>{if(!t)return[];const e=t.props?.children??t.children;return t.props?.i18nIsDynamicList?Wi(e):e},UT=t=>Array.isArray(t)&&t.every(A.isValidElement),Wi=t=>Array.isArray(t)?t:[t],HT=(t,e)=>{const r={...e};return r.props=Object.assign(t.props,e.props),r},zT=t=>{const e={};if(!t)return e;const r=n=>{Wi(n).forEach(o=>{ln(o)||(kc(o)?r(Ac(o)):Cs(o)&&!A.isValidElement(o)&&Object.assign(e,o))})};return r(t),e},px=(t,e,r,n)=>{if(!t)return"";let s="";const o=Wi(t),l=e?.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return o.forEach((u,c)=>{if(ln(u)){s+=`${u}`;return}if(A.isValidElement(u)){const{props:f,type:p}=u,h=Object.keys(f).length,g=l.indexOf(p)>-1,w=f.children;if(!w&&g&&!h){s+=`<${p}/>`;return}if(!w&&(!g||h)||f.i18nIsDynamicList){s+=`<${c}></${c}>`;return}if(g&&h===1&&ln(w)){s+=`<${p}>${w}</${p}>`;return}const R=px(w,e,r,n);s+=`<${c}>${R}</${c}>`;return}if(u===null){Rc(r,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:n});return}if(Cs(u)){const{format:f,...p}=u,h=Object.keys(p);if(h.length===1){const g=f?`${h[0]}, ${f}`:h[0];s+=`{{${g}}}`;return}Rc(r,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:n,child:u});return}Rc(r,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:n,child:u})}),s},WT=(t,e=[],r={})=>{if(!t)return t;const n=Object.keys(r),s=[...e,...n];let o="",l=0;for(;l<t.length;)if(t[l]==="<"){let u=!1;const c=t.slice(l).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9-]*)>/);if(c){const f=c[1];(/^\d+$/.test(f)||s.includes(f))&&(u=!0,o+=c[0],l+=c[0].length)}if(!u){const f=t.slice(l).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(f){const p=f[1];(/^\d+$/.test(p)||s.includes(p))&&(u=!0,o+=f[0],l+=f[0].length)}}u||(o+="&lt;",l+=1)}else o+=t[l],l+=1;return o},qT=(t,e,r,n,s,o,l)=>{if(r==="")return[];const u=s.transKeepBasicHtmlNodesFor||[],c=r&&new RegExp(u.map(P=>`<${P}`).join("|")).test(r);if(!t&&!e&&!c&&!l)return[r];const f=e??{},p=P=>{Wi(P).forEach(j=>{ln(j)||(kc(j)?p(Ac(j)):Cs(j)&&!A.isValidElement(j)&&Object.assign(f,j))})};p(t);const h=WT(r,u,f),g=DT.parse(`<0>${h}</0>`),w={...f,...o},R=(P,y,j)=>{const L=Ac(P),G=S(L,y.children,j);return UT(L)&&G.length===0||P.props?.i18nIsDynamicList?L:G},b=(P,y,j,L,G)=>{P.dummy?(P.children=y,j.push(A.cloneElement(P,{key:L},G?void 0:y))):j.push(...A.Children.map([P],U=>{const $="data-i18n-is-dynamic-list",ee={key:L,[$]:void 0};return U&&U.props&&Object.keys(U.props).forEach(ie=>{ie==="ref"||ie==="children"||ie==="i18nIsDynamicList"||ie===$||(ee[ie]=U.props[ie])}),A.cloneElement(U,ee,G?null:y)}))},S=(P,y,j)=>{const L=Wi(P);return Wi(y).reduce((U,$,ee)=>{const ie=$.children?.[0]?.content&&n.services.interpolator.interpolate($.children[0].content,w,n.language);if($.type==="tag"){let re=L[parseInt($.name,10)];!re&&e&&(re=e[$.name]),j.length===1&&!re&&(re=j[0][$.name]),re||(re={});const z={...$.attrs};l&&Object.keys(z).forEach(M=>{const H=z[M];ln(H)&&(z[M]=fx(H))});const ve=Object.keys(z).length!==0?HT({props:z},re):re,K=A.isValidElement(ve),B=K&&kc($,!0)&&!$.voidElement,k=c&&Cs(ve)&&ve.dummy&&!K,I=Cs(e)&&Object.hasOwnProperty.call(e,$.name);if(ln(ve)){const M=n.services.interpolator.interpolate(ve,w,n.language);U.push(M)}else if(kc(ve)||B){const M=R(ve,$,j);b(ve,M,U,ee)}else if(k){const M=S(L,$.children,j);b(ve,M,U,ee)}else if(Number.isNaN(parseFloat($.name)))if(I){const M=R(ve,$,j);b(ve,M,U,ee,$.voidElement)}else if(s.transSupportBasicHtmlNodes&&u.indexOf($.name)>-1)if($.voidElement)U.push(A.createElement($.name,{key:`${$.name}-${ee}`}));else{const M=S(L,$.children,j);U.push(A.createElement($.name,{key:`${$.name}-${ee}`},M))}else if($.voidElement)U.push(`<${$.name} />`);else{const M=S(L,$.children,j);U.push(`<${$.name}>${M}</${$.name}>`)}else if(Cs(ve)&&!K){const M=$.children[0]?ie:null;M&&U.push(M)}else b(ve,ie,U,ee,$.children.length!==1||!ie)}else if($.type==="text"){const re=s.transWrapTextNodes,z=typeof s.unescape=="function"?s.unescape:Tm().unescape,ve=l?z(n.services.interpolator.interpolate($.content,w,n.language)):n.services.interpolator.interpolate($.content,w,n.language);re?U.push(A.createElement(re,{key:`${$.name}-${ee}`},ve)):U.push(ve)}return U},[])},E=S([{dummy:!0,children:t||[]}],g,Wi(t||[]));return Ac(E[0])},mx=(t,e,r)=>{const n=t.key||e,s=A.cloneElement(t,{key:n});if(!s.props||!s.props.children||r.indexOf(`${e}/>`)<0&&r.indexOf(`${e} />`)<0)return s;function o(){return A.createElement(A.Fragment,null,s)}return A.createElement(o,{key:n})},GT=(t,e)=>t.map((r,n)=>mx(r,n,e)),KT=(t,e)=>{const r={};return Object.keys(t).forEach(n=>{Object.assign(r,{[n]:mx(t[n],n,e)})}),r},YT=(t,e,r,n)=>t?Array.isArray(t)?GT(t,e):Cs(t)?KT(t,e):(Ed(r,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:n}),null):null,XT=t=>!Cs(t)||Array.isArray(t)?!1:Object.keys(t).reduce((e,r)=>e&&Number.isNaN(Number.parseFloat(r)),!0);function QT({children:t,count:e,parent:r,i18nKey:n,context:s,tOptions:o={},values:l,defaults:u,components:c,ns:f,i18n:p,t:h,shouldUnescape:g,...w}){const R=p||Rm();if(!R)return Ed(R,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:n}),t;const b=h||R.t.bind(R)||(B=>B),S={...Tm(),...R.options?.react};let E=f||b.ns||R.options?.defaultNS;E=ln(E)?[E]:E||["translation"];const P=px(t,S,R,n),y=u||o?.defaultValue||P||S.transEmptyNodeValue||(typeof n=="function"?Kc(n):n),{hashTransKey:j}=S,L=n||(j?j(P||y):P||y);R.options?.interpolation?.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...R.options.interpolation.defaultVariables}:{...R.options.interpolation.defaultVariables});const G=zT(t);G&&typeof G.count=="number"&&e===void 0&&(e=G.count);const U=l||e!==void 0&&!R.options?.interpolation?.alwaysFormat||!t?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},$={...o,context:s||o.context,count:e,...l,...U,defaultValue:y,ns:E};let ee=L?b(L,$):y;ee===L&&y&&(ee=y);const ie=YT(c,ee,R,n);let re=ie||t,z=null;XT(ie)&&(z=ie,re=t);const ve=qT(re,z,ee,R,S,$,g),K=r??S.defaultTransParent;return K?A.createElement(K,w,ve):ve}const ZT={type:"3rdParty",init(t){VT(t.options.react),$T(t)}},gx=A.createContext();class JT{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function eR({children:t,count:e,parent:r,i18nKey:n,context:s,tOptions:o={},values:l,defaults:u,components:c,ns:f,i18n:p,t:h,shouldUnescape:g,...w}){const{i18n:R,defaultNS:b}=A.useContext(gx)||{},S=p||R||Rm(),E=h||S?.t.bind(S);return QT({children:t,count:e,parent:r,i18nKey:n,context:s,tOptions:o,values:l,defaults:u,components:c,ns:f||E?.ns||b||S?.options?.defaultNS,i18n:S,t:h,shouldUnescape:g,...w})}var Vh={exports:{}},$h={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2;function tR(){if(a2)return $h;a2=1;var t=yd();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(h,g){var w=g(),R=n({inst:{value:w,getSnapshot:g}}),b=R[0].inst,S=R[1];return o(function(){b.value=w,b.getSnapshot=g,c(b)&&S({inst:b})},[h,w,g]),s(function(){return c(b)&&S({inst:b}),h(function(){c(b)&&S({inst:b})})},[h]),l(w),w}function c(h){var g=h.getSnapshot;h=h.value;try{var w=g();return!r(h,w)}catch{return!0}}function f(h,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return $h.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,$h}var l2;function rR(){return l2||(l2=1,Vh.exports=tR()),Vh.exports}var nR=rR();const sR=(t,e)=>ln(e)?e:Cs(e)&&ln(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,iR={t:sR,ready:!1},oR=()=>()=>{},Pn=(t,e={})=>{const{i18n:r}=e,{i18n:n,defaultNS:s}=A.useContext(gx)||{},o=r||n||Rm();o&&!o.reportNamespaces&&(o.reportNamespaces=new JT),o||Ed(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=A.useMemo(()=>({...Tm(),...o?.options?.react,...e}),[o,e]),{useSuspense:u,keyPrefix:c}=l,f=s||o?.options?.defaultNS,p=ln(f)?[f]:f||["translation"],h=A.useMemo(()=>p,p);o?.reportNamespaces?.addUsedNamespaces?.(h);const g=A.useRef(0),w=A.useCallback(ee=>{if(!o)return oR;const{bindI18n:ie,bindI18nStore:re}=l,z=()=>{g.current+=1,ee()};return ie&&o.on(ie,z),re&&o.store.on(re,z),()=>{ie&&ie.split(" ").forEach(ve=>o.off(ve,z)),re&&re.split(" ").forEach(ve=>o.store.off(ve,z))}},[o,l]),R=A.useRef(),b=A.useCallback(()=>{if(!o)return iR;const ee=!!(o.isInitialized||o.initializedStoreOnce)&&h.every(B=>jT(B,o,l)),ie=e.lng||o.language,re=g.current,z=R.current;if(z&&z.ready===ee&&z.lng===ie&&z.keyPrefix===c&&z.revision===re)return z;const K={t:o.getFixedT(ie,l.nsMode==="fallback"?h:h[0],c),ready:ee,lng:ie,keyPrefix:c,revision:re};return R.current=K,K},[o,h,c,l,e.lng]),[S,E]=A.useState(0),{t:P,ready:y}=nR.useSyncExternalStore(w,b,b);A.useEffect(()=>{if(o&&!y&&!u){const ee=()=>E(ie=>ie+1);e.lng?o2(o,e.lng,h,ee):pp(o,h,ee)}},[o,e.lng,h,y,u,S]);const j=o||{},L=A.useRef(null),G=A.useRef(),U=ee=>{const ie=Object.getOwnPropertyDescriptors(ee);ie.__original&&delete ie.__original;const re=Object.create(Object.getPrototypeOf(ee),ie);if(!Object.prototype.hasOwnProperty.call(re,"__original"))try{Object.defineProperty(re,"__original",{value:ee,writable:!1,enumerable:!1,configurable:!1})}catch{}return re},$=A.useMemo(()=>{const ee=j,ie=ee?.language;let re=ee;ee&&(L.current&&L.current.__original===ee?G.current!==ie?(re=U(ee),L.current=re,G.current=ie):re=L.current:(re=U(ee),L.current=re,G.current=ie));const z=[P,re,y];return z.t=P,z.i18n=re,z.ready=y,z},[P,j,y,j.resolvedLanguage,j.language,j.languages]);if(o&&u&&!y)throw new Promise(ee=>{const ie=()=>ee();e.lng?o2(o,e.lng,h,ie):pp(o,h,ie)});return $};function u2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ga(...t){return e=>{let r=!1;const n=t.map(s=>{const o=u2(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():u2(t[s],null)}}}}function lr(...t){return A.useCallback(ga(...t),t)}var aR=Symbol.for("react.lazy"),Xc=ym[" use ".trim().toString()];function lR(t){return typeof t=="object"&&t!==null&&"then"in t}function vx(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===aR&&"_payload"in t&&lR(t._payload)}function yx(t){const e=cR(t),r=A.forwardRef((n,s)=>{let{children:o,...l}=n;vx(o)&&typeof Xc=="function"&&(o=Xc(o._payload));const u=A.Children.toArray(o),c=u.find(fR);if(c){const f=c.props.children,p=u.map(h=>h===c?A.Children.count(f)>1?A.Children.only(null):A.isValidElement(f)?f.props.children:null:h);return T.jsx(e,{...l,ref:s,children:A.isValidElement(f)?A.cloneElement(f,void 0,p):null})}return T.jsx(e,{...l,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var uR=yx("Slot");function cR(t){const e=A.forwardRef((r,n)=>{let{children:s,...o}=r;if(vx(s)&&typeof Xc=="function"&&(s=Xc(s._payload)),A.isValidElement(s)){const l=pR(s),u=hR(o,s.props);return s.type!==A.Fragment&&(u.ref=n?ga(n,l):l),A.cloneElement(s,u)}return A.Children.count(s)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dR=Symbol("radix.slottable");function fR(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dR}function hR(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...u)=>{const c=o(...u);return s(...u),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function pR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function _x(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=_x(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function km(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=_x(t))&&(n&&(n+=" "),n+=e);return n}const c2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,d2=km,mR=(t,e)=>r=>{var n;if(e?.variants==null)return d2(t,r?.class,r?.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(f=>{const p=r?.[f],h=o?.[f];if(p===null)return null;const g=c2(p)||c2(h);return s[f][g]}),u=r&&Object.entries(r).reduce((f,p)=>{let[h,g]=p;return g===void 0||(f[h]=g),f},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:h,className:g,...w}=p;return Object.entries(w).every(R=>{let[b,S]=R;return Array.isArray(S)?S.includes({...o,...u}[b]):{...o,...u}[b]===S})?[...f,h,g]:f},[]);return d2(t,l,c,r?.class,r?.className)},gR=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},vR=(t,e)=>({classGroupId:t,validator:e}),wx=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),Qc="-",f2=[],yR="arbitrary..",_R=t=>{const e=bR(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return wR(l);const u=l.split(Qc),c=u[0]===""&&u.length>1?1:0;return bx(u,c,e)},getConflictingClassGroupIds:(l,u)=>{if(u){const c=n[l],f=r[l];return c?f?gR(f,c):c:f||f2}return r[l]||f2}}},bx=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const s=t[e],o=r.nextPart.get(s);if(o){const f=bx(t,e+1,o);if(f)return f}const l=r.validators;if(l===null)return;const u=e===0?t.join(Qc):t.slice(e).join(Qc),c=l.length;for(let f=0;f<c;f++){const p=l[f];if(p.validator(u))return p.classGroupId}},wR=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?yR+n:void 0})(),bR=t=>{const{theme:e,classGroups:r}=t;return xR(r,e)},xR=(t,e)=>{const r=wx();for(const n in t){const s=t[n];Am(s,r,n,e)}return r},Am=(t,e,r,n)=>{const s=t.length;for(let o=0;o<s;o++){const l=t[o];SR(l,e,r,n)}},SR=(t,e,r,n)=>{if(typeof t=="string"){ER(t,e,r);return}if(typeof t=="function"){CR(t,e,r,n);return}TR(t,e,r,n)},ER=(t,e,r)=>{const n=t===""?e:xx(e,t);n.classGroupId=r},CR=(t,e,r,n)=>{if(RR(t)){Am(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(vR(r,t))},TR=(t,e,r,n)=>{const s=Object.entries(t),o=s.length;for(let l=0;l<o;l++){const[u,c]=s[l];Am(c,xx(e,u),r,n)}},xx=(t,e)=>{let r=t;const n=e.split(Qc),s=n.length;for(let o=0;o<s;o++){const l=n[o];let u=r.nextPart.get(l);u||(u=wx(),r.nextPart.set(l,u)),r=u}return r},RR=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,kR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const s=(o,l)=>{r[o]=l,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(o){let l=r[o];if(l!==void 0)return l;if((l=n[o])!==void 0)return s(o,l),l},set(o,l){o in r?r[o]=l:s(o,l)}}},gp="!",h2=":",AR=[],p2=(t,e,r,n,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:s}),OR=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=s=>{const o=[];let l=0,u=0,c=0,f;const p=s.length;for(let b=0;b<p;b++){const S=s[b];if(l===0&&u===0){if(S===h2){o.push(s.slice(c,b)),c=b+1;continue}if(S==="/"){f=b;continue}}S==="["?l++:S==="]"?l--:S==="("?u++:S===")"&&u--}const h=o.length===0?s:s.slice(c);let g=h,w=!1;h.endsWith(gp)?(g=h.slice(0,-1),w=!0):h.startsWith(gp)&&(g=h.slice(1),w=!0);const R=f&&f>c?f-c:void 0;return p2(o,w,g,R)};if(e){const s=e+h2,o=n;n=l=>l.startsWith(s)?o(l.slice(s.length)):p2(AR,!1,l,void 0,!0)}if(r){const s=n;n=o=>r({className:o,parseClassName:s})}return n},PR=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let s=[];for(let o=0;o<r.length;o++){const l=r[o],u=l[0]==="[",c=e.has(l);u||c?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(l)):s.push(l)}return s.length>0&&(s.sort(),n.push(...s)),n}},NR=t=>({cache:kR(t.cacheSize),parseClassName:OR(t),sortModifiers:PR(t),..._R(t)}),MR=/\s+/,IR=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],u=t.trim().split(MR);let c="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:h,modifiers:g,hasImportantModifier:w,baseClassName:R,maybePostfixModifierPosition:b}=r(p);if(h){c=p+(c.length>0?" "+c:c);continue}let S=!!b,E=n(S?R.substring(0,b):R);if(!E){if(!S){c=p+(c.length>0?" "+c:c);continue}if(E=n(R),!E){c=p+(c.length>0?" "+c:c);continue}S=!1}const P=g.length===0?"":g.length===1?g[0]:o(g).join(":"),y=w?P+gp:P,j=y+E;if(l.indexOf(j)>-1)continue;l.push(j);const L=s(E,S);for(let G=0;G<L.length;++G){const U=L[G];l.push(y+U)}c=p+(c.length>0?" "+c:c)}return c},DR=(...t)=>{let e=0,r,n,s="";for(;e<t.length;)(r=t[e++])&&(n=Sx(r))&&(s&&(s+=" "),s+=n);return s},Sx=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Sx(t[n]))&&(r&&(r+=" "),r+=e);return r},jR=(t,...e)=>{let r,n,s,o;const l=c=>{const f=e.reduce((p,h)=>h(p),t());return r=NR(f),n=r.cache.get,s=r.cache.set,o=u,u(c)},u=c=>{const f=n(c);if(f)return f;const p=IR(c,r);return s(c,p),p};return o=l,(...c)=>o(DR(...c))},LR=[],yr=t=>{const e=r=>r[t]||LR;return e.isThemeGetter=!0,e},Ex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Cx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BR=/^\d+\/\d+$/,FR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$R=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,UR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,No=t=>BR.test(t),St=t=>!!t&&!Number.isNaN(Number(t)),si=t=>!!t&&Number.isInteger(Number(t)),Uh=t=>t.endsWith("%")&&St(t.slice(0,-1)),bs=t=>FR.test(t),zR=()=>!0,WR=t=>VR.test(t)&&!$R.test(t),Tx=()=>!1,qR=t=>UR.test(t),GR=t=>HR.test(t),KR=t=>!et(t)&&!tt(t),YR=t=>va(t,Ax,Tx),et=t=>Ex.test(t),Ii=t=>va(t,Ox,WR),Hh=t=>va(t,e7,St),m2=t=>va(t,Rx,Tx),XR=t=>va(t,kx,GR),Zu=t=>va(t,Px,qR),tt=t=>Cx.test(t),ll=t=>ya(t,Ox),QR=t=>ya(t,t7),g2=t=>ya(t,Rx),ZR=t=>ya(t,Ax),JR=t=>ya(t,kx),Ju=t=>ya(t,Px,!0),va=(t,e,r)=>{const n=Ex.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},ya=(t,e,r=!1)=>{const n=Cx.exec(t);return n?n[1]?e(n[1]):r:!1},Rx=t=>t==="position"||t==="percentage",kx=t=>t==="image"||t==="url",Ax=t=>t==="length"||t==="size"||t==="bg-size",Ox=t=>t==="length",e7=t=>t==="number",t7=t=>t==="family-name",Px=t=>t==="shadow",r7=()=>{const t=yr("color"),e=yr("font"),r=yr("text"),n=yr("font-weight"),s=yr("tracking"),o=yr("leading"),l=yr("breakpoint"),u=yr("container"),c=yr("spacing"),f=yr("radius"),p=yr("shadow"),h=yr("inset-shadow"),g=yr("text-shadow"),w=yr("drop-shadow"),R=yr("blur"),b=yr("perspective"),S=yr("aspect"),E=yr("ease"),P=yr("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...j(),tt,et],G=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],$=()=>[tt,et,c],ee=()=>[No,"full","auto",...$()],ie=()=>[si,"none","subgrid",tt,et],re=()=>["auto",{span:["full",si,tt,et]},si,tt,et],z=()=>[si,"auto",tt,et],ve=()=>["auto","min","max","fr",tt,et],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],B=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...$()],I=()=>[No,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],M=()=>[t,tt,et],H=()=>[...j(),g2,m2,{position:[tt,et]}],D=()=>["no-repeat",{repeat:["","x","y","space","round"]}],v=()=>["auto","cover","contain",ZR,YR,{size:[tt,et]}],_=()=>[Uh,ll,Ii],x=()=>["","none","full",f,tt,et],O=()=>["",St,ll,Ii],F=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[St,Uh,g2,m2],W=()=>["","none",R,tt,et],se=()=>["none",St,tt,et],le=()=>["none",St,tt,et],be=()=>[St,tt,et],Ce=()=>[No,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bs],breakpoint:[bs],color:[zR],container:[bs],"drop-shadow":[bs],ease:["in","out","in-out"],font:[KR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bs],shadow:[bs],spacing:["px",St],text:[bs],"text-shadow":[bs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",No,et,tt,S]}],container:["container"],columns:[{columns:[St,et,tt,u]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:["visible","invisible","collapse"],z:[{z:[si,"auto",tt,et]}],basis:[{basis:[No,"full","auto",u,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[St,No,"auto","initial","none",et]}],grow:[{grow:["",St,tt,et]}],shrink:[{shrink:["",St,tt,et]}],order:[{order:[si,"first","last","none",tt,et]}],"grid-cols":[{"grid-cols":ie()}],"col-start-end":[{col:re()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":ie()}],"row-start-end":[{row:re()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ve()}],"auto-rows":[{"auto-rows":ve()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...B(),"normal"]}],"justify-self":[{"justify-self":["auto",...B()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...B(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...B(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...B(),"baseline"]}],"place-self":[{"place-self":["auto",...B()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[u,"screen",...I()]}],"min-w":[{"min-w":[u,"screen","none",...I()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",r,ll,Ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,tt,Hh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Uh,et]}],"font-family":[{font:[QR,et,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,tt,et]}],"line-clamp":[{"line-clamp":[St,"none",tt,Hh]}],leading:[{leading:[o,...$()]}],"list-image":[{"list-image":["none",tt,et]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tt,et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:[St,"from-font","auto",tt,Ii]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[St,"auto",tt,et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt,et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt,et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:D()}],"bg-size":[{bg:v()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},si,tt,et],radial:["",tt,et],conic:[si,tt,et]},JR,XR]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:_()}],"gradient-via-pos":[{via:_()}],"gradient-to-pos":[{to:_()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:x()}],"rounded-s":[{"rounded-s":x()}],"rounded-e":[{"rounded-e":x()}],"rounded-t":[{"rounded-t":x()}],"rounded-r":[{"rounded-r":x()}],"rounded-b":[{"rounded-b":x()}],"rounded-l":[{"rounded-l":x()}],"rounded-ss":[{"rounded-ss":x()}],"rounded-se":[{"rounded-se":x()}],"rounded-ee":[{"rounded-ee":x()}],"rounded-es":[{"rounded-es":x()}],"rounded-tl":[{"rounded-tl":x()}],"rounded-tr":[{"rounded-tr":x()}],"rounded-br":[{"rounded-br":x()}],"rounded-bl":[{"rounded-bl":x()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...F(),"hidden","none"]}],"divide-style":[{divide:[...F(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...F(),"none","hidden"]}],"outline-offset":[{"outline-offset":[St,tt,et]}],"outline-w":[{outline:["",St,ll,Ii]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",p,Ju,Zu]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",h,Ju,Zu]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[St,Ii]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",g,Ju,Zu]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[St,tt,et]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[St]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[tt,et]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[St]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:D()}],"mask-size":[{mask:v()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tt,et]}],filter:[{filter:["","none",tt,et]}],blur:[{blur:W()}],brightness:[{brightness:[St,tt,et]}],contrast:[{contrast:[St,tt,et]}],"drop-shadow":[{"drop-shadow":["","none",w,Ju,Zu]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",St,tt,et]}],"hue-rotate":[{"hue-rotate":[St,tt,et]}],invert:[{invert:["",St,tt,et]}],saturate:[{saturate:[St,tt,et]}],sepia:[{sepia:["",St,tt,et]}],"backdrop-filter":[{"backdrop-filter":["","none",tt,et]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[St,tt,et]}],"backdrop-contrast":[{"backdrop-contrast":[St,tt,et]}],"backdrop-grayscale":[{"backdrop-grayscale":["",St,tt,et]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[St,tt,et]}],"backdrop-invert":[{"backdrop-invert":["",St,tt,et]}],"backdrop-opacity":[{"backdrop-opacity":[St,tt,et]}],"backdrop-saturate":[{"backdrop-saturate":[St,tt,et]}],"backdrop-sepia":[{"backdrop-sepia":["",St,tt,et]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tt,et]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[St,"initial",tt,et]}],ease:[{ease:["linear","initial",E,tt,et]}],delay:[{delay:[St,tt,et]}],animate:[{animate:["none",P,tt,et]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,tt,et]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:be()}],"skew-x":[{"skew-x":be()}],"skew-y":[{"skew-y":be()}],transform:[{transform:[tt,et,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ce()}],"translate-x":[{"translate-x":Ce()}],"translate-y":[{"translate-y":Ce()}],"translate-z":[{"translate-z":Ce()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt,et]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt,et]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[St,ll,Ii,Hh]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Nx=jR(r7);function wr(...t){return Nx(km(t))}const Om=mR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Pt=A.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const l=n?uR:"button";return T.jsx(l,{ref:o,"data-slot":"button",className:wr(Om({variant:e,size:r,className:t})),...s})});Pt.displayName="Button";function pr(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t?.(s),r===!1||!s.defaultPrevented)return e?.(s)}}function n7(t,e){const r=A.createContext(e),n=o=>{const{children:l,...u}=o,c=A.useMemo(()=>u,Object.values(u));return T.jsx(r.Provider,{value:c,children:l})};n.displayName=t+"Provider";function s(o){const l=A.useContext(r);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function _a(t,e=[]){let r=[];function n(o,l){const u=A.createContext(l),c=r.length;r=[...r,l];const f=h=>{const{scope:g,children:w,...R}=h,b=g?.[t]?.[c]||u,S=A.useMemo(()=>R,Object.values(R));return T.jsx(b.Provider,{value:S,children:w})};f.displayName=o+"Provider";function p(h,g){const w=g?.[t]?.[c]||u,R=A.useContext(w);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[f,p]}const s=()=>{const o=r.map(l=>A.createContext(l));return function(u){const c=u?.[t]||o;return A.useMemo(()=>({[`__scope${t}`]:{...u,[t]:c}}),[u,c])}};return s.scopeName=t,[n,s7(s,...e)]}function s7(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=n.reduce((u,{useScope:c,scopeName:f})=>{const h=c(o)[`__scope${f}`];return{...u,...h}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return r.scopeName=e.scopeName,r}function i7(t){const e=o7(t),r=A.forwardRef((n,s)=>{const{children:o,...l}=n,u=A.Children.toArray(o),c=u.find(l7);if(c){const f=c.props.children,p=u.map(h=>h===c?A.Children.count(f)>1?A.Children.only(null):A.isValidElement(f)?f.props.children:null:h);return T.jsx(e,{...l,ref:s,children:A.isValidElement(f)?A.cloneElement(f,void 0,p):null})}return T.jsx(e,{...l,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function o7(t){const e=A.forwardRef((r,n)=>{const{children:s,...o}=r;if(A.isValidElement(s)){const l=c7(s),u=u7(o,s.props);return s.type!==A.Fragment&&(u.ref=n?ga(n,l):l),A.cloneElement(s,u)}return A.Children.count(s)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var a7=Symbol("radix.slottable");function l7(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===a7}function u7(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...u)=>{const c=o(...u);return s(...u),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function c7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var d7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],br=d7.reduce((t,e)=>{const r=i7(`Primitive.${e}`),n=A.forwardRef((s,o)=>{const{asChild:l,...u}=s,c=l?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(c,{...u,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function f7(t,e){t&&Em.flushSync(()=>t.dispatchEvent(e))}function oa(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...r)=>e.current?.(...r),[])}function h7(t,e=globalThis?.document){const r=oa(t);A.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var p7="DismissableLayer",vp="dismissableLayer.update",m7="dismissableLayer.pointerDownOutside",g7="dismissableLayer.focusOutside",v2,Mx=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pm=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...c}=t,f=A.useContext(Mx),[p,h]=A.useState(null),g=p?.ownerDocument??globalThis?.document,[,w]=A.useState({}),R=lr(e,U=>h(U)),b=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=b.indexOf(S),P=p?b.indexOf(p):-1,y=f.layersWithOutsidePointerEventsDisabled.size>0,j=P>=E,L=_7(U=>{const $=U.target,ee=[...f.branches].some(ie=>ie.contains($));!j||ee||(s?.(U),l?.(U),U.defaultPrevented||u?.())},g),G=w7(U=>{const $=U.target;[...f.branches].some(ie=>ie.contains($))||(o?.(U),l?.(U),U.defaultPrevented||u?.())},g);return h7(U=>{P===f.layers.size-1&&(n?.(U),!U.defaultPrevented&&u&&(U.preventDefault(),u()))},g),A.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(v2=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),y2(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=v2)}},[p,g,r,f]),A.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),y2())},[p,f]),A.useEffect(()=>{const U=()=>w({});return document.addEventListener(vp,U),()=>document.removeEventListener(vp,U)},[]),T.jsx(br.div,{...c,ref:R,style:{pointerEvents:y?j?"auto":"none":void 0,...t.style},onFocusCapture:pr(t.onFocusCapture,G.onFocusCapture),onBlurCapture:pr(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:pr(t.onPointerDownCapture,L.onPointerDownCapture)})});Pm.displayName=p7;var v7="DismissableLayerBranch",y7=A.forwardRef((t,e)=>{const r=A.useContext(Mx),n=A.useRef(null),s=lr(e,n);return A.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),T.jsx(br.div,{...t,ref:s})});y7.displayName=v7;function _7(t,e=globalThis?.document){const r=oa(t),n=A.useRef(!1),s=A.useRef(()=>{});return A.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let c=function(){Ix(m7,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function w7(t,e=globalThis?.document){const r=oa(t),n=A.useRef(!1);return A.useEffect(()=>{const s=o=>{o.target&&!n.current&&Ix(g7,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function y2(){const t=new CustomEvent(vp);document.dispatchEvent(t)}function Ix(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?f7(s,o):s.dispatchEvent(o)}var zh=0;function Dx(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_2()),document.body.insertAdjacentElement("beforeend",t[1]??_2()),zh++,()=>{zh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zh--}},[])}function _2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Wh="focusScope.autoFocusOnMount",qh="focusScope.autoFocusOnUnmount",w2={bubbles:!1,cancelable:!0},b7="FocusScope",Nm=A.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[u,c]=A.useState(null),f=oa(s),p=oa(o),h=A.useRef(null),g=lr(e,b=>c(b)),w=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(n){let b=function(y){if(w.paused||!u)return;const j=y.target;u.contains(j)?h.current=j:ii(h.current,{select:!0})},S=function(y){if(w.paused||!u)return;const j=y.relatedTarget;j!==null&&(u.contains(j)||ii(h.current,{select:!0}))},E=function(y){if(document.activeElement===document.body)for(const L of y)L.removedNodes.length>0&&ii(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const P=new MutationObserver(E);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),P.disconnect()}}},[n,u,w.paused]),A.useEffect(()=>{if(u){x2.add(w);const b=document.activeElement;if(!u.contains(b)){const E=new CustomEvent(Wh,w2);u.addEventListener(Wh,f),u.dispatchEvent(E),E.defaultPrevented||(x7(R7(jx(u)),{select:!0}),document.activeElement===b&&ii(u))}return()=>{u.removeEventListener(Wh,f),setTimeout(()=>{const E=new CustomEvent(qh,w2);u.addEventListener(qh,p),u.dispatchEvent(E),E.defaultPrevented||ii(b??document.body,{select:!0}),u.removeEventListener(qh,p),x2.remove(w)},0)}}},[u,f,p,w]);const R=A.useCallback(b=>{if(!r&&!n||w.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,E=document.activeElement;if(S&&E){const P=b.currentTarget,[y,j]=S7(P);y&&j?!b.shiftKey&&E===j?(b.preventDefault(),r&&ii(y,{select:!0})):b.shiftKey&&E===y&&(b.preventDefault(),r&&ii(j,{select:!0})):E===P&&b.preventDefault()}},[r,n,w.paused]);return T.jsx(br.div,{tabIndex:-1,...l,ref:g,onKeyDown:R})});Nm.displayName=b7;function x7(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ii(n,{select:e}),document.activeElement!==r)return}function S7(t){const e=jx(t),r=b2(e,t),n=b2(e.reverse(),t);return[r,n]}function jx(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function b2(t,e){for(const r of t)if(!E7(r,{upTo:e}))return r}function E7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function C7(t){return t instanceof HTMLInputElement&&"select"in t}function ii(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&C7(t)&&e&&t.select()}}var x2=T7();function T7(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=S2(t,e),t.unshift(e)},remove(e){t=S2(t,e),t[0]?.resume()}}}function S2(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function R7(t){return t.filter(e=>e.tagName!=="A")}var di=globalThis?.document?A.useLayoutEffect:()=>{},k7=ym[" useId ".trim().toString()]||(()=>{}),A7=0;function Oc(t){const[e,r]=A.useState(k7());return di(()=>{r(n=>n??String(A7++))},[t]),t||(e?`radix-${e}`:"")}const O7=["top","right","bottom","left"],fi=Math.min,mn=Math.max,Zc=Math.round,ec=Math.floor,ls=t=>({x:t,y:t}),P7={left:"right",right:"left",bottom:"top",top:"bottom"},N7={start:"end",end:"start"};function yp(t,e,r){return mn(t,fi(e,r))}function ks(t,e){return typeof t=="function"?t(e):t}function As(t){return t.split("-")[0]}function wa(t){return t.split("-")[1]}function Mm(t){return t==="x"?"y":"x"}function Im(t){return t==="y"?"height":"width"}const M7=new Set(["top","bottom"]);function as(t){return M7.has(As(t))?"y":"x"}function Dm(t){return Mm(as(t))}function I7(t,e,r){r===void 0&&(r=!1);const n=wa(t),s=Dm(t),o=Im(s);let l=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Jc(l)),[l,Jc(l)]}function D7(t){const e=Jc(t);return[_p(t),e,_p(e)]}function _p(t){return t.replace(/start|end/g,e=>N7[e])}const E2=["left","right"],C2=["right","left"],j7=["top","bottom"],L7=["bottom","top"];function B7(t,e,r){switch(t){case"top":case"bottom":return r?e?C2:E2:e?E2:C2;case"left":case"right":return e?j7:L7;default:return[]}}function F7(t,e,r,n){const s=wa(t);let o=B7(As(t),r==="start",n);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(_p)))),o}function Jc(t){return t.replace(/left|right|bottom|top/g,e=>P7[e])}function V7(t){return{top:0,right:0,bottom:0,left:0,...t}}function Lx(t){return typeof t!="number"?V7(t):{top:t,right:t,bottom:t,left:t}}function ed(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function T2(t,e,r){let{reference:n,floating:s}=t;const o=as(e),l=Dm(e),u=Im(l),c=As(e),f=o==="y",p=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,g=n[u]/2-s[u]/2;let w;switch(c){case"top":w={x:p,y:n.y-s.height};break;case"bottom":w={x:p,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:h};break;case"left":w={x:n.x-s.width,y:h};break;default:w={x:n.x,y:n.y}}switch(wa(e)){case"start":w[l]-=g*(r&&f?-1:1);break;case"end":w[l]+=g*(r&&f?-1:1);break}return w}const $7=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:l}=r,u=o.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:h}=T2(f,n,c),g=n,w={},R=0;for(let b=0;b<u.length;b++){const{name:S,fn:E}=u[b],{x:P,y,data:j,reset:L}=await E({x:p,y:h,initialPlacement:n,placement:g,strategy:s,middlewareData:w,rects:f,platform:l,elements:{reference:t,floating:e}});p=P??p,h=y??h,w={...w,[S]:{...w[S],...j}},L&&R<=50&&(R++,typeof L=="object"&&(L.placement&&(g=L.placement),L.rects&&(f=L.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:p,y:h}=T2(f,g,c)),b=-1)}return{x:p,y:h,placement:g,strategy:s,middlewareData:w}};async function Tl(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:l,elements:u,strategy:c}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:g=!1,padding:w=0}=ks(e,t),R=Lx(w),S=u[g?h==="floating"?"reference":"floating":h],E=ed(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(S)))==null||r?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:c})),P=h==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),j=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},L=ed(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:y,strategy:c}):P);return{top:(E.top-L.top+R.top)/j.y,bottom:(L.bottom-E.bottom+R.bottom)/j.y,left:(E.left-L.left+R.left)/j.x,right:(L.right-E.right+R.right)/j.x}}const U7=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:l,elements:u,middlewareData:c}=e,{element:f,padding:p=0}=ks(t,e)||{};if(f==null)return{};const h=Lx(p),g={x:r,y:n},w=Dm(s),R=Im(w),b=await l.getDimensions(f),S=w==="y",E=S?"top":"left",P=S?"bottom":"right",y=S?"clientHeight":"clientWidth",j=o.reference[R]+o.reference[w]-g[w]-o.floating[R],L=g[w]-o.reference[w],G=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let U=G?G[y]:0;(!U||!await(l.isElement==null?void 0:l.isElement(G)))&&(U=u.floating[y]||o.floating[R]);const $=j/2-L/2,ee=U/2-b[R]/2-1,ie=fi(h[E],ee),re=fi(h[P],ee),z=ie,ve=U-b[R]-re,K=U/2-b[R]/2+$,B=yp(z,K,ve),k=!c.arrow&&wa(s)!=null&&K!==B&&o.reference[R]/2-(K<z?ie:re)-b[R]/2<0,I=k?K<z?K-z:K-ve:0;return{[w]:g[w]+I,data:{[w]:B,centerOffset:K-B-I,...k&&{alignmentOffset:I}},reset:k}}}),H7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:c,elements:f}=e,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:b=!0,...S}=ks(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const E=As(s),P=as(u),y=As(u)===u,j=await(c.isRTL==null?void 0:c.isRTL(f.floating)),L=g||(y||!b?[Jc(u)]:D7(u)),G=R!=="none";!g&&G&&L.push(...F7(u,b,R,j));const U=[u,...L],$=await Tl(e,S),ee=[];let ie=((n=o.flip)==null?void 0:n.overflows)||[];if(p&&ee.push($[E]),h){const K=I7(s,l,j);ee.push($[K[0]],$[K[1]])}if(ie=[...ie,{placement:s,overflows:ee}],!ee.every(K=>K<=0)){var re,z;const K=(((re=o.flip)==null?void 0:re.index)||0)+1,B=U[K];if(B&&(!(h==="alignment"?P!==as(B):!1)||ie.every(M=>as(M.placement)===P?M.overflows[0]>0:!0)))return{data:{index:K,overflows:ie},reset:{placement:B}};let k=(z=ie.filter(I=>I.overflows[0]<=0).sort((I,M)=>I.overflows[1]-M.overflows[1])[0])==null?void 0:z.placement;if(!k)switch(w){case"bestFit":{var ve;const I=(ve=ie.filter(M=>{if(G){const H=as(M.placement);return H===P||H==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(H=>H>0).reduce((H,D)=>H+D,0)]).sort((M,H)=>M[1]-H[1])[0])==null?void 0:ve[0];I&&(k=I);break}case"initialPlacement":k=u;break}if(s!==k)return{reset:{placement:k}}}return{}}}};function R2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function k2(t){return O7.some(e=>t[e]>=0)}const z7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=ks(t,e);switch(n){case"referenceHidden":{const o=await Tl(e,{...s,elementContext:"reference"}),l=R2(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:k2(l)}}}case"escaped":{const o=await Tl(e,{...s,altBoundary:!0}),l=R2(o,r.floating);return{data:{escapedOffsets:l,escaped:k2(l)}}}default:return{}}}}},Bx=new Set(["left","top"]);async function W7(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),l=As(r),u=wa(r),c=as(r)==="y",f=Bx.has(l)?-1:1,p=o&&c?-1:1,h=ks(e,t);let{mainAxis:g,crossAxis:w,alignmentAxis:R}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return u&&typeof R=="number"&&(w=u==="end"?R*-1:R),c?{x:w*p,y:g*f}:{x:g*f,y:w*p}}const q7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:l,middlewareData:u}=e,c=await W7(e,t);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:l}}}}},G7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:S=>{let{x:E,y:P}=S;return{x:E,y:P}}},...c}=ks(t,e),f={x:r,y:n},p=await Tl(e,c),h=as(As(s)),g=Mm(h);let w=f[g],R=f[h];if(o){const S=g==="y"?"top":"left",E=g==="y"?"bottom":"right",P=w+p[S],y=w-p[E];w=yp(P,w,y)}if(l){const S=h==="y"?"top":"left",E=h==="y"?"bottom":"right",P=R+p[S],y=R-p[E];R=yp(P,R,y)}const b=u.fn({...e,[g]:w,[h]:R});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[g]:o,[h]:l}}}}}},K7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:l}=e,{offset:u=0,mainAxis:c=!0,crossAxis:f=!0}=ks(t,e),p={x:r,y:n},h=as(s),g=Mm(h);let w=p[g],R=p[h];const b=ks(u,e),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const y=g==="y"?"height":"width",j=o.reference[g]-o.floating[y]+S.mainAxis,L=o.reference[g]+o.reference[y]-S.mainAxis;w<j?w=j:w>L&&(w=L)}if(f){var E,P;const y=g==="y"?"width":"height",j=Bx.has(As(s)),L=o.reference[h]-o.floating[y]+(j&&((E=l.offset)==null?void 0:E[h])||0)+(j?0:S.crossAxis),G=o.reference[h]+o.reference[y]+(j?0:((P=l.offset)==null?void 0:P[h])||0)-(j?S.crossAxis:0);R<L?R=L:R>G&&(R=G)}return{[g]:w,[h]:R}}}},Y7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:l,elements:u}=e,{apply:c=()=>{},...f}=ks(t,e),p=await Tl(e,f),h=As(s),g=wa(s),w=as(s)==="y",{width:R,height:b}=o.floating;let S,E;h==="top"||h==="bottom"?(S=h,E=g===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(E=h,S=g==="end"?"top":"bottom");const P=b-p.top-p.bottom,y=R-p.left-p.right,j=fi(b-p[S],P),L=fi(R-p[E],y),G=!e.middlewareData.shift;let U=j,$=L;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&($=y),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(U=P),G&&!g){const ie=mn(p.left,0),re=mn(p.right,0),z=mn(p.top,0),ve=mn(p.bottom,0);w?$=R-2*(ie!==0||re!==0?ie+re:mn(p.left,p.right)):U=b-2*(z!==0||ve!==0?z+ve:mn(p.top,p.bottom))}await c({...e,availableWidth:$,availableHeight:U});const ee=await l.getDimensions(u.floating);return R!==ee.width||b!==ee.height?{reset:{rects:!0}}:{}}}};function Cd(){return typeof window<"u"}function ba(t){return Fx(t)?(t.nodeName||"").toLowerCase():"#document"}function vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fs(t){var e;return(e=(Fx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Fx(t){return Cd()?t instanceof Node||t instanceof vn(t).Node:!1}function Gn(t){return Cd()?t instanceof Element||t instanceof vn(t).Element:!1}function ds(t){return Cd()?t instanceof HTMLElement||t instanceof vn(t).HTMLElement:!1}function A2(t){return!Cd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vn(t).ShadowRoot}const X7=new Set(["inline","contents"]);function Vl(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!X7.has(s)}const Q7=new Set(["table","td","th"]);function Z7(t){return Q7.has(ba(t))}const J7=[":popover-open",":modal"];function Td(t){return J7.some(e=>{try{return t.matches(e)}catch{return!1}})}const ek=["transform","translate","scale","rotate","perspective"],tk=["transform","translate","scale","rotate","perspective","filter"],rk=["paint","layout","strict","content"];function jm(t){const e=Lm(),r=Gn(t)?Kn(t):t;return ek.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||tk.some(n=>(r.willChange||"").includes(n))||rk.some(n=>(r.contain||"").includes(n))}function nk(t){let e=hi(t);for(;ds(e)&&!aa(e);){if(jm(e))return e;if(Td(e))return null;e=hi(e)}return null}function Lm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sk=new Set(["html","body","#document"]);function aa(t){return sk.has(ba(t))}function Kn(t){return vn(t).getComputedStyle(t)}function Rd(t){return Gn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function hi(t){if(ba(t)==="html")return t;const e=t.assignedSlot||t.parentNode||A2(t)&&t.host||fs(t);return A2(e)?e.host:e}function Vx(t){const e=hi(t);return aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:ds(e)&&Vl(e)?e:Vx(e)}function Rl(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Vx(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),l=vn(s);if(o){const u=wp(l);return e.concat(l,l.visualViewport||[],Vl(s)?s:[],u&&r?Rl(u):[])}return e.concat(s,Rl(s,[],r))}function wp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $x(t){const e=Kn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=ds(t),o=s?t.offsetWidth:r,l=s?t.offsetHeight:n,u=Zc(r)!==o||Zc(n)!==l;return u&&(r=o,n=l),{width:r,height:n,$:u}}function Bm(t){return Gn(t)?t:t.contextElement}function Zo(t){const e=Bm(t);if(!ds(e))return ls(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=$x(e);let l=(o?Zc(r.width):r.width)/n,u=(o?Zc(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const ik=ls(0);function Ux(t){const e=vn(t);return!Lm()||!e.visualViewport?ik:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ok(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==vn(t)?!1:e}function Ji(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=Bm(t);let l=ls(1);e&&(n?Gn(n)&&(l=Zo(n)):l=Zo(t));const u=ok(o,r,n)?Ux(o):ls(0);let c=(s.left+u.x)/l.x,f=(s.top+u.y)/l.y,p=s.width/l.x,h=s.height/l.y;if(o){const g=vn(o),w=n&&Gn(n)?vn(n):n;let R=g,b=wp(R);for(;b&&n&&w!==R;){const S=Zo(b),E=b.getBoundingClientRect(),P=Kn(b),y=E.left+(b.clientLeft+parseFloat(P.paddingLeft))*S.x,j=E.top+(b.clientTop+parseFloat(P.paddingTop))*S.y;c*=S.x,f*=S.y,p*=S.x,h*=S.y,c+=y,f+=j,R=vn(b),b=wp(R)}}return ed({width:p,height:h,x:c,y:f})}function kd(t,e){const r=Rd(t).scrollLeft;return e?e.left+r:Ji(fs(t)).left+r}function Hx(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-kd(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function ak(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",l=fs(n),u=e?Td(e.floating):!1;if(n===l||u&&o)return r;let c={scrollLeft:0,scrollTop:0},f=ls(1);const p=ls(0),h=ds(n);if((h||!h&&!o)&&((ba(n)!=="body"||Vl(l))&&(c=Rd(n)),ds(n))){const w=Ji(n);f=Zo(n),p.x=w.x+n.clientLeft,p.y=w.y+n.clientTop}const g=l&&!h&&!o?Hx(l,c):ls(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-c.scrollLeft*f.x+p.x+g.x,y:r.y*f.y-c.scrollTop*f.y+p.y+g.y}}function lk(t){return Array.from(t.getClientRects())}function uk(t){const e=fs(t),r=Rd(t),n=t.ownerDocument.body,s=mn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=mn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+kd(t);const u=-r.scrollTop;return Kn(n).direction==="rtl"&&(l+=mn(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:l,y:u}}const O2=25;function ck(t,e){const r=vn(t),n=fs(t),s=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,c=0;if(s){o=s.width,l=s.height;const p=Lm();(!p||p&&e==="fixed")&&(u=s.offsetLeft,c=s.offsetTop)}const f=kd(n);if(f<=0){const p=n.ownerDocument,h=p.body,g=getComputedStyle(h),w=p.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,R=Math.abs(n.clientWidth-h.clientWidth-w);R<=O2&&(o-=R)}else f<=O2&&(o+=f);return{width:o,height:l,x:u,y:c}}const dk=new Set(["absolute","fixed"]);function fk(t,e){const r=Ji(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=ds(t)?Zo(t):ls(1),l=t.clientWidth*o.x,u=t.clientHeight*o.y,c=s*o.x,f=n*o.y;return{width:l,height:u,x:c,y:f}}function P2(t,e,r){let n;if(e==="viewport")n=ck(t,r);else if(e==="document")n=uk(fs(t));else if(Gn(e))n=fk(e,r);else{const s=Ux(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ed(n)}function zx(t,e){const r=hi(t);return r===e||!Gn(r)||aa(r)?!1:Kn(r).position==="fixed"||zx(r,e)}function hk(t,e){const r=e.get(t);if(r)return r;let n=Rl(t,[],!1).filter(u=>Gn(u)&&ba(u)!=="body"),s=null;const o=Kn(t).position==="fixed";let l=o?hi(t):t;for(;Gn(l)&&!aa(l);){const u=Kn(l),c=jm(l);!c&&u.position==="fixed"&&(s=null),(o?!c&&!s:!c&&u.position==="static"&&!!s&&dk.has(s.position)||Vl(l)&&!c&&zx(t,l))?n=n.filter(p=>p!==l):s=u,l=hi(l)}return e.set(t,n),n}function pk(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const l=[...r==="clippingAncestors"?Td(e)?[]:hk(e,this._c):[].concat(r),n],u=l[0],c=l.reduce((f,p)=>{const h=P2(e,p,s);return f.top=mn(h.top,f.top),f.right=fi(h.right,f.right),f.bottom=fi(h.bottom,f.bottom),f.left=mn(h.left,f.left),f},P2(e,u,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function mk(t){const{width:e,height:r}=$x(t);return{width:e,height:r}}function gk(t,e,r){const n=ds(e),s=fs(e),o=r==="fixed",l=Ji(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const c=ls(0);function f(){c.x=kd(s)}if(n||!n&&!o)if((ba(e)!=="body"||Vl(s))&&(u=Rd(e)),n){const w=Ji(e,!0,o,e);c.x=w.x+e.clientLeft,c.y=w.y+e.clientTop}else s&&f();o&&!n&&s&&f();const p=s&&!n&&!o?Hx(s,u):ls(0),h=l.left+u.scrollLeft-c.x-p.x,g=l.top+u.scrollTop-c.y-p.y;return{x:h,y:g,width:l.width,height:l.height}}function Gh(t){return Kn(t).position==="static"}function N2(t,e){if(!ds(t)||Kn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return fs(t)===r&&(r=r.ownerDocument.body),r}function Wx(t,e){const r=vn(t);if(Td(t))return r;if(!ds(t)){let s=hi(t);for(;s&&!aa(s);){if(Gn(s)&&!Gh(s))return s;s=hi(s)}return r}let n=N2(t,e);for(;n&&Z7(n)&&Gh(n);)n=N2(n,e);return n&&aa(n)&&Gh(n)&&!jm(n)?r:n||nk(t)||r}const vk=async function(t){const e=this.getOffsetParent||Wx,r=this.getDimensions,n=await r(t.floating);return{reference:gk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function yk(t){return Kn(t).direction==="rtl"}const _k={convertOffsetParentRelativeRectToViewportRelativeRect:ak,getDocumentElement:fs,getClippingRect:pk,getOffsetParent:Wx,getElementRects:vk,getClientRects:lk,getDimensions:mk,getScale:Zo,isElement:Gn,isRTL:yk};function qx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wk(t,e){let r=null,n;const s=fs(t);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),o();const f=t.getBoundingClientRect(),{left:p,top:h,width:g,height:w}=f;if(u||e(),!g||!w)return;const R=ec(h),b=ec(s.clientWidth-(p+g)),S=ec(s.clientHeight-(h+w)),E=ec(p),y={rootMargin:-R+"px "+-b+"px "+-S+"px "+-E+"px",threshold:mn(0,fi(1,c))||1};let j=!0;function L(G){const U=G[0].intersectionRatio;if(U!==c){if(!j)return l();U?l(!1,U):n=setTimeout(()=>{l(!1,1e-7)},1e3)}U===1&&!qx(f,t.getBoundingClientRect())&&l(),j=!1}try{r=new IntersectionObserver(L,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(L,y)}r.observe(t)}return l(!0),o}function bk(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,f=Bm(t),p=s||o?[...f?Rl(f):[],...Rl(e)]:[];p.forEach(E=>{s&&E.addEventListener("scroll",r,{passive:!0}),o&&E.addEventListener("resize",r)});const h=f&&u?wk(f,r):null;let g=-1,w=null;l&&(w=new ResizeObserver(E=>{let[P]=E;P&&P.target===f&&w&&(w.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var y;(y=w)==null||y.observe(e)})),r()}),f&&!c&&w.observe(f),w.observe(e));let R,b=c?Ji(t):null;c&&S();function S(){const E=Ji(t);b&&!qx(b,E)&&r(),b=E,R=requestAnimationFrame(S)}return r(),()=>{var E;p.forEach(P=>{s&&P.removeEventListener("scroll",r),o&&P.removeEventListener("resize",r)}),h?.(),(E=w)==null||E.disconnect(),w=null,c&&cancelAnimationFrame(R)}}const xk=q7,Sk=G7,Ek=H7,Ck=Y7,Tk=z7,M2=U7,Rk=K7,kk=(t,e,r)=>{const n=new Map,s={platform:_k,...r},o={...s.platform,_c:n};return $7(t,e,{...s,platform:o})};var Ak=typeof document<"u",Ok=function(){},Pc=Ak?A.useLayoutEffect:Ok;function td(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!td(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!td(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Gx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function I2(t,e){const r=Gx(t);return Math.round(e*r)/r}function Kh(t){const e=A.useRef(t);return Pc(()=>{e.current=t}),e}function Pk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:c,open:f}=t,[p,h]=A.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,w]=A.useState(n);td(g,n)||w(n);const[R,b]=A.useState(null),[S,E]=A.useState(null),P=A.useCallback(M=>{M!==G.current&&(G.current=M,b(M))},[]),y=A.useCallback(M=>{M!==U.current&&(U.current=M,E(M))},[]),j=o||R,L=l||S,G=A.useRef(null),U=A.useRef(null),$=A.useRef(p),ee=c!=null,ie=Kh(c),re=Kh(s),z=Kh(f),ve=A.useCallback(()=>{if(!G.current||!U.current)return;const M={placement:e,strategy:r,middleware:g};re.current&&(M.platform=re.current),kk(G.current,U.current,M).then(H=>{const D={...H,isPositioned:z.current!==!1};K.current&&!td($.current,D)&&($.current=D,Em.flushSync(()=>{h(D)}))})},[g,e,r,re,z]);Pc(()=>{f===!1&&$.current.isPositioned&&($.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[f]);const K=A.useRef(!1);Pc(()=>(K.current=!0,()=>{K.current=!1}),[]),Pc(()=>{if(j&&(G.current=j),L&&(U.current=L),j&&L){if(ie.current)return ie.current(j,L,ve);ve()}},[j,L,ve,ie,ee]);const B=A.useMemo(()=>({reference:G,floating:U,setReference:P,setFloating:y}),[P,y]),k=A.useMemo(()=>({reference:j,floating:L}),[j,L]),I=A.useMemo(()=>{const M={position:r,left:0,top:0};if(!k.floating)return M;const H=I2(k.floating,p.x),D=I2(k.floating,p.y);return u?{...M,transform:"translate("+H+"px, "+D+"px)",...Gx(k.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:D}},[r,u,k.floating,p.x,p.y]);return A.useMemo(()=>({...p,update:ve,refs:B,elements:k,floatingStyles:I}),[p,ve,B,k,I])}const Nk=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?M2({element:n.current,padding:s}).fn(r):{}:n?M2({element:n,padding:s}).fn(r):{}}}},Mk=(t,e)=>({...xk(t),options:[t,e]}),Ik=(t,e)=>({...Sk(t),options:[t,e]}),Dk=(t,e)=>({...Rk(t),options:[t,e]}),jk=(t,e)=>({...Ek(t),options:[t,e]}),Lk=(t,e)=>({...Ck(t),options:[t,e]}),Bk=(t,e)=>({...Tk(t),options:[t,e]}),Fk=(t,e)=>({...Nk(t),options:[t,e]});var Vk="Arrow",Kx=A.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return T.jsx(br.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});Kx.displayName=Vk;var $k=Kx;function Yx(t){const[e,r]=A.useState(void 0);return di(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,u;if("borderBoxSize"in o){const c=o.borderBoxSize,f=Array.isArray(c)?c[0]:c;l=f.inlineSize,u=f.blockSize}else l=t.offsetWidth,u=t.offsetHeight;r({width:l,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Fm="Popper",[Xx,Qx]=_a(Fm),[Uk,Zx]=Xx(Fm),Jx=t=>{const{__scopePopper:e,children:r}=t,[n,s]=A.useState(null);return T.jsx(Uk,{scope:e,anchor:n,onAnchorChange:s,children:r})};Jx.displayName=Fm;var e3="PopperAnchor",t3=A.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=Zx(e3,r),l=A.useRef(null),u=lr(e,l),c=A.useRef(null);return A.useEffect(()=>{const f=c.current;c.current=n?.current||l.current,f!==c.current&&o.onAnchorChange(c.current)}),n?null:T.jsx(br.div,{...s,ref:u})});t3.displayName=e3;var Vm="PopperContent",[Hk,zk]=Xx(Vm),r3=A.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:c=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:w="optimized",onPlaced:R,...b}=t,S=Zx(Vm,r),[E,P]=A.useState(null),y=lr(e,X=>P(X)),[j,L]=A.useState(null),G=Yx(j),U=G?.width??0,$=G?.height??0,ee=n+(o!=="center"?"-"+o:""),ie=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},re=Array.isArray(f)?f:[f],z=re.length>0,ve={padding:ie,boundary:re.filter(qk),altBoundary:z},{refs:K,floatingStyles:B,placement:k,isPositioned:I,middlewareData:M}=Pk({strategy:"fixed",placement:ee,whileElementsMounted:(...X)=>bk(...X,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[Mk({mainAxis:s+$,alignmentAxis:l}),c&&Ik({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Dk():void 0,...ve}),c&&jk({...ve}),Lk({...ve,apply:({elements:X,rects:W,availableWidth:se,availableHeight:le})=>{const{width:be,height:Ce}=W.reference,Te=X.floating.style;Te.setProperty("--radix-popper-available-width",`${se}px`),Te.setProperty("--radix-popper-available-height",`${le}px`),Te.setProperty("--radix-popper-anchor-width",`${be}px`),Te.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),j&&Fk({element:j,padding:u}),Gk({arrowWidth:U,arrowHeight:$}),g&&Bk({strategy:"referenceHidden",...ve})]}),[H,D]=i3(k),v=oa(R);di(()=>{I&&v?.()},[I,v]);const _=M.arrow?.x,x=M.arrow?.y,O=M.arrow?.centerOffset!==0,[F,Q]=A.useState();return di(()=>{E&&Q(window.getComputedStyle(E).zIndex)},[E]),T.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:I?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:T.jsx(Hk,{scope:r,placedSide:H,onArrowChange:L,arrowX:_,arrowY:x,shouldHideArrow:O,children:T.jsx(br.div,{"data-side":H,"data-align":D,...b,ref:y,style:{...b.style,animation:I?void 0:"none"}})})})});r3.displayName=Vm;var n3="PopperArrow",Wk={top:"bottom",right:"left",bottom:"top",left:"right"},s3=A.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=zk(n3,n),l=Wk[o.placedSide];return T.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:T.jsx($k,{...s,ref:r,style:{...s.style,display:"block"}})})});s3.displayName=n3;function qk(t){return t!==null}var Gk=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,u=l?0:t.arrowWidth,c=l?0:t.arrowHeight,[f,p]=i3(r),h={start:"0%",center:"50%",end:"100%"}[p],g=(s.arrow?.x??0)+u/2,w=(s.arrow?.y??0)+c/2;let R="",b="";return f==="bottom"?(R=l?h:`${g}px`,b=`${-c}px`):f==="top"?(R=l?h:`${g}px`,b=`${n.floating.height+c}px`):f==="right"?(R=`${-c}px`,b=l?h:`${w}px`):f==="left"&&(R=`${n.floating.width+c}px`,b=l?h:`${w}px`),{data:{x:R,y:b}}}});function i3(t){const[e,r="center"]=t.split("-");return[e,r]}var Kk=Jx,o3=t3,Yk=r3,Xk=s3,Qk="Portal",$m=A.forwardRef((t,e)=>{const{container:r,...n}=t,[s,o]=A.useState(!1);di(()=>o(!0),[]);const l=r||s&&globalThis?.document?.body;return l?tx.createPortal(T.jsx(br.div,{...n,ref:e}),l):null});$m.displayName=Qk;function Zk(t,e){return A.useReducer((r,n)=>e[r][n]??r,t)}var xa=t=>{const{present:e,children:r}=t,n=Jk(e),s=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),o=lr(n.ref,eA(s));return typeof r=="function"||n.isPresent?A.cloneElement(s,{ref:o}):null};xa.displayName="Presence";function Jk(t){const[e,r]=A.useState(),n=A.useRef(null),s=A.useRef(t),o=A.useRef("none"),l=t?"mounted":"unmounted",[u,c]=Zk(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const f=tc(n.current);o.current=u==="mounted"?f:"none"},[u]),di(()=>{const f=n.current,p=s.current;if(p!==t){const g=o.current,w=tc(f);t?c("MOUNT"):w==="none"||f?.display==="none"?c("UNMOUNT"):c(p&&g!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),di(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,h=w=>{const b=tc(n.current).includes(CSS.escape(w.animationName));if(w.target===e&&b&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},g=w=>{w.target===e&&(o.current=tc(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:A.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function tc(t){return t?.animationName||"none"}function eA(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function tA(t){const e=rA(t),r=A.forwardRef((n,s)=>{const{children:o,...l}=n,u=A.Children.toArray(o),c=u.find(sA);if(c){const f=c.props.children,p=u.map(h=>h===c?A.Children.count(f)>1?A.Children.only(null):A.isValidElement(f)?f.props.children:null:h);return T.jsx(e,{...l,ref:s,children:A.isValidElement(f)?A.cloneElement(f,void 0,p):null})}return T.jsx(e,{...l,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function rA(t){const e=A.forwardRef((r,n)=>{const{children:s,...o}=r;if(A.isValidElement(s)){const l=oA(s),u=iA(o,s.props);return s.type!==A.Fragment&&(u.ref=n?ga(n,l):l),A.cloneElement(s,u)}return A.Children.count(s)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nA=Symbol("radix.slottable");function sA(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nA}function iA(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...u)=>{const c=o(...u);return s(...u),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function oA(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var aA=ym[" useInsertionEffect ".trim().toString()]||di;function Um({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,l]=lA({defaultProp:e,onChange:r}),u=t!==void 0,c=u?t:s;{const p=A.useRef(t!==void 0);A.useEffect(()=>{const h=p.current;h!==u&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,n])}const f=A.useCallback(p=>{if(u){const h=uA(p)?p(t):p;h!==t&&l.current?.(h)}else o(p)},[u,t,o,l]);return[c,f]}function lA({defaultProp:t,onChange:e}){const[r,n]=A.useState(t),s=A.useRef(r),o=A.useRef(e);return aA(()=>{o.current=e},[e]),A.useEffect(()=>{s.current!==r&&(o.current?.(r),s.current=r)},[r,s]),[r,n,o]}function uA(t){return typeof t=="function"}var cA=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Mo=new WeakMap,rc=new WeakMap,nc={},Yh=0,a3=function(t){return t&&(t.host||a3(t.parentNode))},dA=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=a3(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},fA=function(t,e,r,n){var s=dA(e,Array.isArray(t)?t:[t]);nc[r]||(nc[r]=new WeakMap);var o=nc[r],l=[],u=new Set,c=new Set(s),f=function(h){!h||u.has(h)||(u.add(h),f(h.parentNode))};s.forEach(f);var p=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(g){if(u.has(g))p(g);else try{var w=g.getAttribute(n),R=w!==null&&w!=="false",b=(Mo.get(g)||0)+1,S=(o.get(g)||0)+1;Mo.set(g,b),o.set(g,S),l.push(g),b===1&&R&&rc.set(g,!0),S===1&&g.setAttribute(r,"true"),R||g.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",g,E)}})};return p(e),u.clear(),Yh++,function(){l.forEach(function(h){var g=Mo.get(h)-1,w=o.get(h)-1;Mo.set(h,g),o.set(h,w),g||(rc.has(h)||h.removeAttribute(n),rc.delete(h)),w||h.removeAttribute(r)}),Yh--,Yh||(Mo=new WeakMap,Mo=new WeakMap,rc=new WeakMap,nc={})}},l3=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=cA(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),fA(n,s,r,"aria-hidden")):function(){return null}},bp=function(t,e){return bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},bp(t,e)};function u3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bp(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kn=function(){return kn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},kn.apply(this,arguments)};function gi(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function c3(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(o=(s<3?l(o):s>3?l(e,r,o):l(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function d3(t,e){return function(r,n){e(r,n,t)}}function f3(t,e,r,n,s,o){function l(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var u=n.kind,c=u==="getter"?"get":u==="setter"?"set":"value",f=!e&&t?n.static?t:t.prototype:null,p=e||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),h,g=!1,w=r.length-1;w>=0;w--){var R={};for(var b in n)R[b]=b==="access"?{}:n[b];for(var b in n.access)R.access[b]=n.access[b];R.addInitializer=function(E){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(E||null))};var S=(0,r[w])(u==="accessor"?{get:p.get,set:p.set}:p[c],R);if(u==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(h=l(S.get))&&(p.get=h),(h=l(S.set))&&(p.set=h),(h=l(S.init))&&s.unshift(h)}else(h=l(S))&&(u==="field"?s.unshift(h):p[c]=h)}f&&Object.defineProperty(f,n.name,p),g=!0}function h3(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function p3(t){return typeof t=="symbol"?t:"".concat(t)}function m3(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function g3(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Xe(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(p){try{f(n.next(p))}catch(h){l(h)}}function c(p){try{f(n.throw(p))}catch(h){l(h)}}function f(p){p.done?o(p.value):s(p.value).then(u,c)}f((n=n.apply(t,e||[])).next())})}function v3(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(p){return c([f,p])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(r=0)),r;)try{if(n=1,s&&(o=f[0]&2?s.return:f[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,f[1])).done)return o;switch(s=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(p){f=[6,p],s=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Ad=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function y3(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ad(e,t,r)}function rd(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hm(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],l;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return o}function _3(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Hm(arguments[e]));return t}function w3(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],l=0,u=o.length;l<u;l++,s++)n[s]=o[l];return n}function zm(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function la(t){return this instanceof la?(this.v=t,this):new la(t)}function b3(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(w){return function(R){return Promise.resolve(R).then(w,h)}}function u(w,R){n[w]&&(s[w]=function(b){return new Promise(function(S,E){o.push([w,b,S,E])>1||c(w,b)})},R&&(s[w]=R(s[w])))}function c(w,R){try{f(n[w](R))}catch(b){g(o[0][3],b)}}function f(w){w.value instanceof la?Promise.resolve(w.value.v).then(p,h):g(o[0][2],w)}function p(w){c("next",w)}function h(w){c("throw",w)}function g(w,R){w(R),o.shift(),o.length&&c(o[0][0],o[0][1])}}function x3(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(l){return(r=!r)?{value:la(t[s](l)),done:!1}:o?o(l):l}:o}}function S3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof rd=="function"?rd(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(l){return new Promise(function(u,c){l=t[o](l),s(u,c,l.done,l.value)})}}function s(o,l,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},l)}}function E3(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var hA=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},xp=function(t){return xp=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},xp(t)};function C3(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=xp(t),n=0;n<r.length;n++)r[n]!=="default"&&Ad(e,t,r[n]);return hA(e,t),e}function T3(t){return t&&t.__esModule?t:{default:t}}function R3(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function k3(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function A3(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function O3(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var pA=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function P3(t){function e(o){t.error=t.hasError?new pA(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(l){return e(l),s()})}else n|=1}catch(l){e(l)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function N3(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,l){return n?e?".jsx":".js":s&&(!o||!l)?r:s+o+"."+l.toLowerCase()+"js"}):t}const mA={__extends:u3,__assign:kn,__rest:gi,__decorate:c3,__param:d3,__esDecorate:f3,__runInitializers:h3,__propKey:p3,__setFunctionName:m3,__metadata:g3,__awaiter:Xe,__generator:v3,__createBinding:Ad,__exportStar:y3,__values:rd,__read:Hm,__spread:_3,__spreadArrays:w3,__spreadArray:zm,__await:la,__asyncGenerator:b3,__asyncDelegator:x3,__asyncValues:S3,__makeTemplateObject:E3,__importStar:C3,__importDefault:T3,__classPrivateFieldGet:R3,__classPrivateFieldSet:k3,__classPrivateFieldIn:A3,__addDisposableResource:O3,__disposeResources:P3,__rewriteRelativeImportExtension:N3},gA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:O3,get __assign(){return kn},__asyncDelegator:x3,__asyncGenerator:b3,__asyncValues:S3,__await:la,__awaiter:Xe,__classPrivateFieldGet:R3,__classPrivateFieldIn:A3,__classPrivateFieldSet:k3,__createBinding:Ad,__decorate:c3,__disposeResources:P3,__esDecorate:f3,__exportStar:y3,__extends:u3,__generator:v3,__importDefault:T3,__importStar:C3,__makeTemplateObject:E3,__metadata:g3,__param:d3,__propKey:p3,__read:Hm,__rest:gi,__rewriteRelativeImportExtension:N3,__runInitializers:h3,__setFunctionName:m3,__spread:_3,__spreadArray:zm,__spreadArrays:w3,__values:rd,default:mA},Symbol.toStringTag,{value:"Module"}));var Nc="right-scroll-bar-position",Mc="width-before-scroll-bar",vA="with-scroll-bars-hidden",yA="--removed-body-scroll-bar-size";function Xh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _A(t,e){var r=A.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var wA=typeof window<"u"?A.useLayoutEffect:A.useEffect,D2=new WeakMap;function bA(t,e){var r=_A(null,function(n){return t.forEach(function(s){return Xh(s,n)})});return wA(function(){var n=D2.get(r);if(n){var s=new Set(n),o=new Set(t),l=r.current;s.forEach(function(u){o.has(u)||Xh(u,null)}),o.forEach(function(u){s.has(u)||Xh(u,l)})}D2.set(r,t)},[t]),r}function xA(t){return t}function SA(t,e){e===void 0&&(e=xA);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var l=e(o,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(o),l=r}var c=function(){var p=l;l=[],p.forEach(o)},f=function(){return Promise.resolve().then(c)};f(),r={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),r}}}};return s}function EA(t){t===void 0&&(t={});var e=SA(null);return e.options=kn({async:!0,ssr:!1},t),e}var M3=function(t){var e=t.sideCar,r=gi(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return A.createElement(n,kn({},r))};M3.isSideCarExport=!0;function CA(t,e){return t.useMedium(e),M3}var I3=EA(),Qh=function(){},Od=A.forwardRef(function(t,e){var r=A.useRef(null),n=A.useState({onScrollCapture:Qh,onWheelCapture:Qh,onTouchMoveCapture:Qh}),s=n[0],o=n[1],l=t.forwardProps,u=t.children,c=t.className,f=t.removeScrollBar,p=t.enabled,h=t.shards,g=t.sideCar,w=t.noRelative,R=t.noIsolation,b=t.inert,S=t.allowPinchZoom,E=t.as,P=E===void 0?"div":E,y=t.gapMode,j=gi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=g,G=bA([r,e]),U=kn(kn({},j),s);return A.createElement(A.Fragment,null,p&&A.createElement(L,{sideCar:I3,removeScrollBar:f,shards:h,noRelative:w,noIsolation:R,inert:b,setCallbacks:o,allowPinchZoom:!!S,lockRef:r,gapMode:y}),l?A.cloneElement(A.Children.only(u),kn(kn({},U),{ref:G})):A.createElement(P,kn({},U,{className:c,ref:G}),u))});Od.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Od.classNames={fullWidth:Mc,zeroRight:Nc};var TA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RA(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TA();return e&&t.setAttribute("nonce",e),t}function kA(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AA(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var OA=function(){var t=0,e=null;return{add:function(r){t==0&&(e=RA())&&(kA(e,r),AA(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},PA=function(){var t=OA();return function(e,r){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},D3=function(){var t=PA(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},NA={left:0,top:0,right:0,gap:0},Zh=function(t){return parseInt(t||"",10)||0},MA=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Zh(r),Zh(n),Zh(s)]},IA=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return NA;var e=MA(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},DA=D3(),Jo="data-scroll-locked",jA=function(t,e,r,n){var s=t.left,o=t.top,l=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(vA,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Jo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nc,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Mc,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Nc," .").concat(Nc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Mc," .").concat(Mc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Jo,`] {
    `).concat(yA,": ").concat(u,`px;
  }
`)},j2=function(){var t=parseInt(document.body.getAttribute(Jo)||"0",10);return isFinite(t)?t:0},LA=function(){A.useEffect(function(){return document.body.setAttribute(Jo,(j2()+1).toString()),function(){var t=j2()-1;t<=0?document.body.removeAttribute(Jo):document.body.setAttribute(Jo,t.toString())}},[])},BA=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;LA();var o=A.useMemo(function(){return IA(s)},[s]);return A.createElement(DA,{styles:jA(o,!e,s,r?"":"!important")})},Sp=!1;if(typeof window<"u")try{var sc=Object.defineProperty({},"passive",{get:function(){return Sp=!0,!0}});window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{Sp=!1}var Io=Sp?{passive:!1}:!1,FA=function(t){return t.tagName==="TEXTAREA"},j3=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!FA(t)&&r[e]==="visible")},VA=function(t){return j3(t,"overflowY")},$A=function(t){return j3(t,"overflowX")},L2=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=L3(t,n);if(s){var o=B3(t,n),l=o[1],u=o[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},UA=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},HA=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},L3=function(t,e){return t==="v"?VA(e):$A(e)},B3=function(t,e){return t==="v"?UA(e):HA(e)},zA=function(t,e){return t==="h"&&e==="rtl"?-1:1},WA=function(t,e,r,n,s){var o=zA(t,window.getComputedStyle(e).direction),l=o*n,u=r.target,c=e.contains(u),f=!1,p=l>0,h=0,g=0;do{if(!u)break;var w=B3(t,u),R=w[0],b=w[1],S=w[2],E=b-S-o*R;(R||E)&&L3(t,u)&&(h+=E,g+=R);var P=u.parentNode;u=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(p&&Math.abs(h)<1||!p&&Math.abs(g)<1)&&(f=!0),f},ic=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},B2=function(t){return[t.deltaX,t.deltaY]},F2=function(t){return t&&"current"in t?t.current:t},qA=function(t,e){return t[0]===e[0]&&t[1]===e[1]},GA=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},KA=0,Do=[];function YA(t){var e=A.useRef([]),r=A.useRef([0,0]),n=A.useRef(),s=A.useState(KA++)[0],o=A.useState(D3)[0],l=A.useRef(t);A.useEffect(function(){l.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=zm([t.lockRef.current],(t.shards||[]).map(F2),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=A.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var E=ic(b),P=r.current,y="deltaX"in b?b.deltaX:P[0]-E[0],j="deltaY"in b?b.deltaY:P[1]-E[1],L,G=b.target,U=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in b&&U==="h"&&G.type==="range")return!1;var $=window.getSelection(),ee=$&&$.anchorNode,ie=ee?ee===G||ee.contains(G):!1;if(ie)return!1;var re=L2(U,G);if(!re)return!0;if(re?L=U:(L=U==="v"?"h":"v",re=L2(U,G)),!re)return!1;if(!n.current&&"changedTouches"in b&&(y||j)&&(n.current=L),!L)return!0;var z=n.current||L;return WA(z,S,b,z==="h"?y:j)},[]),c=A.useCallback(function(b){var S=b;if(!(!Do.length||Do[Do.length-1]!==o)){var E="deltaY"in S?B2(S):ic(S),P=e.current.filter(function(L){return L.name===S.type&&(L.target===S.target||S.target===L.shadowParent)&&qA(L.delta,E)})[0];if(P&&P.should){S.cancelable&&S.preventDefault();return}if(!P){var y=(l.current.shards||[]).map(F2).filter(Boolean).filter(function(L){return L.contains(S.target)}),j=y.length>0?u(S,y[0]):!l.current.noIsolation;j&&S.cancelable&&S.preventDefault()}}},[]),f=A.useCallback(function(b,S,E,P){var y={name:b,delta:S,target:E,should:P,shadowParent:XA(E)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(j){return j!==y})},1)},[]),p=A.useCallback(function(b){r.current=ic(b),n.current=void 0},[]),h=A.useCallback(function(b){f(b.type,B2(b),b.target,u(b,t.lockRef.current))},[]),g=A.useCallback(function(b){f(b.type,ic(b),b.target,u(b,t.lockRef.current))},[]);A.useEffect(function(){return Do.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Io),document.addEventListener("touchmove",c,Io),document.addEventListener("touchstart",p,Io),function(){Do=Do.filter(function(b){return b!==o}),document.removeEventListener("wheel",c,Io),document.removeEventListener("touchmove",c,Io),document.removeEventListener("touchstart",p,Io)}},[]);var w=t.removeScrollBar,R=t.inert;return A.createElement(A.Fragment,null,R?A.createElement(o,{styles:GA(s)}):null,w?A.createElement(BA,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function XA(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const QA=CA(I3,YA);var Wm=A.forwardRef(function(t,e){return A.createElement(Od,kn({},t,{ref:e,sideCar:QA}))});Wm.classNames=Od.classNames;var Pd="Popover",[F3]=_a(Pd,[Qx]),$l=Qx(),[ZA,vi]=F3(Pd),V3=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:l=!1}=t,u=$l(e),c=A.useRef(null),[f,p]=A.useState(!1),[h,g]=Um({prop:n,defaultProp:s??!1,onChange:o,caller:Pd});return T.jsx(Kk,{...u,children:T.jsx(ZA,{scope:e,contentId:Oc(),triggerRef:c,open:h,onOpenChange:g,onOpenToggle:A.useCallback(()=>g(w=>!w),[g]),hasCustomAnchor:f,onCustomAnchorAdd:A.useCallback(()=>p(!0),[]),onCustomAnchorRemove:A.useCallback(()=>p(!1),[]),modal:l,children:r})})};V3.displayName=Pd;var $3="PopoverAnchor",U3=A.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=vi($3,r),o=$l(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=s;return A.useEffect(()=>(l(),()=>u()),[l,u]),T.jsx(o3,{...o,...n,ref:e})});U3.displayName=$3;var H3="PopoverTrigger",z3=A.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=vi(H3,r),o=$l(r),l=lr(e,s.triggerRef),u=T.jsx(br.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Y3(s.open),...n,ref:l,onClick:pr(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:T.jsx(o3,{asChild:!0,...o,children:u})});z3.displayName=H3;var qm="PopoverPortal",[JA,eO]=F3(qm,{forceMount:void 0}),W3=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,o=vi(qm,e);return T.jsx(JA,{scope:e,forceMount:r,children:T.jsx(xa,{present:r||o.open,children:T.jsx($m,{asChild:!0,container:s,children:n})})})};W3.displayName=qm;var ua="PopoverContent",q3=A.forwardRef((t,e)=>{const r=eO(ua,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,o=vi(ua,t.__scopePopover);return T.jsx(xa,{present:n||o.open,children:o.modal?T.jsx(rO,{...s,ref:e}):T.jsx(nO,{...s,ref:e})})});q3.displayName=ua;var tO=tA("PopoverContent.RemoveScroll"),rO=A.forwardRef((t,e)=>{const r=vi(ua,t.__scopePopover),n=A.useRef(null),s=lr(e,n),o=A.useRef(!1);return A.useEffect(()=>{const l=n.current;if(l)return l3(l)},[]),T.jsx(Wm,{as:tO,allowPinchZoom:!0,children:T.jsx(G3,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pr(t.onCloseAutoFocus,l=>{l.preventDefault(),o.current||r.triggerRef.current?.focus()}),onPointerDownOutside:pr(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0,f=u.button===2||c;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:pr(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),nO=A.forwardRef((t,e)=>{const r=vi(ua,t.__scopePopover),n=A.useRef(!1),s=A.useRef(!1);return T.jsx(G3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;r.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),G3=A.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:p,...h}=t,g=vi(ua,r),w=$l(r);return Dx(),T.jsx(Nm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:T.jsx(Pm,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:T.jsx(Yk,{"data-state":Y3(g.open),role:"dialog",id:g.contentId,...w,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),K3="PopoverClose",sO=A.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=vi(K3,r);return T.jsx(br.button,{type:"button",...n,ref:e,onClick:pr(t.onClick,()=>s.onOpenChange(!1))})});sO.displayName=K3;var iO="PopoverArrow",oO=A.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=$l(r);return T.jsx(Xk,{...s,...n,ref:e})});oO.displayName=iO;function Y3(t){return t?"open":"closed"}var aO=V3,lO=U3,uO=z3,cO=W3,dO=q3;function ea({...t}){return T.jsx(aO,{"data-slot":"popover",...t})}const Yi=A.forwardRef((t,e)=>T.jsx(uO,{ref:e,"data-slot":"popover-trigger",...t}));Yi.displayName="PopoverTrigger";const Xi=A.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>T.jsx(cO,{children:T.jsx(dO,{ref:s,"data-slot":"popover-content",align:e,sideOffset:r,className:wr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})}));Xi.displayName="PopoverContent";const fO=A.forwardRef((t,e)=>T.jsx(lO,{ref:e,"data-slot":"popover-anchor",...t}));fO.displayName="PopoverAnchor";function ui(...t){return Nx(km(t))}const V2=({variant:t="header",className:e,onSelect:r})=>{const{i18n:n,t:s}=Pn(),o=u=>{n.changeLanguage(u),r&&r()},l=[{code:"en",label:"English"},{code:"ko",label:""}];return t==="mobile"?T.jsx("div",{className:ui("space-y-1",e),children:T.jsxs("div",{className:"px-3 py-2 rounded-md transition-colors",children:[T.jsx("div",{className:"flex items-center justify-between mb-2",children:T.jsx("span",{className:"text-sm font-medium text-foreground-primary flex items-center gap-2",children:s("header.language")})}),T.jsx("div",{className:"flex flex-col gap-1",children:l.map(u=>T.jsx("button",{onClick:()=>o(u.code),className:ui("w-full text-left px-3 py-2 text-sm rounded-md transition-colors",n.language===u.code?"bg-primary/10 text-primary font-medium":"text-foreground-secondary hover:bg-surface-secondary"),children:u.label},u.code))})]})}):T.jsxs(ea,{children:[T.jsx(Yi,{asChild:!0,children:T.jsx(Pt,{variant:"ghost",size:"icon",className:ui("rounded-full hover:bg-gray-200 dark:hover:bg-[#323234] text-foreground-secondary hover:text-foreground-primary",e),children:T.jsx(MC,{size:24})})}),T.jsx(Xi,{className:"w-64 p-1 bg-card border-surface-border",align:"end",children:T.jsx("div",{className:"flex flex-col gap-0.5",children:l.map(u=>T.jsxs("button",{onClick:()=>o(u.code),className:ui("flex items-center justify-between w-full px-3 py-2 text-sm rounded-md transition-colors",n.language===u.code?"bg-primary/10 text-primary font-medium":"text-foreground-primary hover:bg-surface-secondary"),children:[u.label,n.language===u.code&&T.jsx(OC,{size:14})]},u.code))})})]})};function nd({className:t,type:e,...r}){return T.jsx("input",{type:e,"data-slot":"input",className:wr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}function X3(t,[e,r]){return Math.min(r,Math.max(e,t))}var hO=A.createContext(void 0);function pO(t){const e=A.useContext(hO);return t||e||"ltr"}function mO(t){const e=A.useRef({value:t,previous:t});return A.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function $2(t){const e=gO(t),r=A.forwardRef((n,s)=>{const{children:o,...l}=n,u=A.Children.toArray(o),c=u.find(yO);if(c){const f=c.props.children,p=u.map(h=>h===c?A.Children.count(f)>1?A.Children.only(null):A.isValidElement(f)?f.props.children:null:h);return T.jsx(e,{...l,ref:s,children:A.isValidElement(f)?A.cloneElement(f,void 0,p):null})}return T.jsx(e,{...l,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function gO(t){const e=A.forwardRef((r,n)=>{const{children:s,...o}=r;if(A.isValidElement(s)){const l=wO(s),u=_O(o,s.props);return s.type!==A.Fragment&&(u.ref=n?ga(n,l):l),A.cloneElement(s,u)}return A.Children.count(s)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vO=Symbol("radix.slottable");function yO(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vO}function _O(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...u)=>{const c=o(...u);return s(...u),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function wO(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function bO(t){const e=t+"CollectionProvider",[r,n]=_a(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:S,children:E}=b,P=De.useRef(null),y=De.useRef(new Map).current;return T.jsx(s,{scope:S,itemMap:y,collectionRef:P,children:E})};l.displayName=e;const u=t+"CollectionSlot",c=$2(u),f=De.forwardRef((b,S)=>{const{scope:E,children:P}=b,y=o(u,E),j=lr(S,y.collectionRef);return T.jsx(c,{ref:j,children:P})});f.displayName=u;const p=t+"CollectionItemSlot",h="data-radix-collection-item",g=$2(p),w=De.forwardRef((b,S)=>{const{scope:E,children:P,...y}=b,j=De.useRef(null),L=lr(S,j),G=o(p,E);return De.useEffect(()=>(G.itemMap.set(j,{ref:j,...y}),()=>void G.itemMap.delete(j))),T.jsx(g,{[h]:"",ref:L,children:P})});w.displayName=p;function R(b){const S=o(t+"CollectionConsumer",b);return De.useCallback(()=>{const P=S.collectionRef.current;if(!P)return[];const y=Array.from(P.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((G,U)=>y.indexOf(G.ref.current)-y.indexOf(U.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:f,ItemSlot:w},R,n]}var Q3=["PageUp","PageDown"],Z3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],J3={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Sa="Slider",[Ep,xO,SO]=bO(Sa),[e4]=_a(Sa,[SO]),[EO,Nd]=e4(Sa),t4=A.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:c=0,defaultValue:f=[n],value:p,onValueChange:h=()=>{},onValueCommit:g=()=>{},inverted:w=!1,form:R,...b}=t,S=A.useRef(new Set),E=A.useRef(0),y=l==="horizontal"?CO:TO,[j=[],L]=Um({prop:p,defaultProp:f,onChange:re=>{[...S.current][E.current]?.focus(),h(re)}}),G=A.useRef(j);function U(re){const z=NO(j,re);ie(re,z)}function $(re){ie(re,E.current)}function ee(){const re=G.current[E.current];j[E.current]!==re&&g(j)}function ie(re,z,{commit:ve}={commit:!1}){const K=jO(o),B=LO(Math.round((re-n)/o)*o+n,K),k=X3(B,[n,s]);L((I=[])=>{const M=OO(I,k,z);if(DO(M,c*o)){E.current=M.indexOf(k);const H=String(M)!==String(I);return H&&ve&&g(M),H?M:I}else return I})}return T.jsx(EO,{scope:t.__scopeSlider,name:r,disabled:u,min:n,max:s,valueIndexToChangeRef:E,thumbs:S.current,values:j,orientation:l,form:R,children:T.jsx(Ep.Provider,{scope:t.__scopeSlider,children:T.jsx(Ep.Slot,{scope:t.__scopeSlider,children:T.jsx(y,{"aria-disabled":u,"data-disabled":u?"":void 0,...b,ref:e,onPointerDown:pr(b.onPointerDown,()=>{u||(G.current=j)}),min:n,max:s,inverted:w,onSlideStart:u?void 0:U,onSlideMove:u?void 0:$,onSlideEnd:u?void 0:ee,onHomeKeyDown:()=>!u&&ie(n,0,{commit:!0}),onEndKeyDown:()=>!u&&ie(s,j.length-1,{commit:!0}),onStepKeyDown:({event:re,direction:z})=>{if(!u){const B=Q3.includes(re.key)||re.shiftKey&&Z3.includes(re.key)?10:1,k=E.current,I=j[k],M=o*B*z;ie(I+M,k,{commit:!0})}}})})})})});t4.displayName=Sa;var[r4,n4]=e4(Sa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),CO=A.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:l,onSlideMove:u,onSlideEnd:c,onStepKeyDown:f,...p}=t,[h,g]=A.useState(null),w=lr(e,y=>g(y)),R=A.useRef(void 0),b=pO(s),S=b==="ltr",E=S&&!o||!S&&o;function P(y){const j=R.current||h.getBoundingClientRect(),L=[0,j.width],U=Gm(L,E?[r,n]:[n,r]);return R.current=j,U(y-j.left)}return T.jsx(r4,{scope:t.__scopeSlider,startEdge:E?"left":"right",endEdge:E?"right":"left",direction:E?1:-1,size:"width",children:T.jsx(s4,{dir:b,"data-orientation":"horizontal",...p,ref:w,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const j=P(y.clientX);l?.(j)},onSlideMove:y=>{const j=P(y.clientX);u?.(j)},onSlideEnd:()=>{R.current=void 0,c?.()},onStepKeyDown:y=>{const L=J3[E?"from-left":"from-right"].includes(y.key);f?.({event:y,direction:L?-1:1})}})})}),TO=A.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:u,onStepKeyDown:c,...f}=t,p=A.useRef(null),h=lr(e,p),g=A.useRef(void 0),w=!s;function R(b){const S=g.current||p.current.getBoundingClientRect(),E=[0,S.height],y=Gm(E,w?[n,r]:[r,n]);return g.current=S,y(b-S.top)}return T.jsx(r4,{scope:t.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:T.jsx(s4,{"data-orientation":"vertical",...f,ref:h,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const S=R(b.clientY);o?.(S)},onSlideMove:b=>{const S=R(b.clientY);l?.(S)},onSlideEnd:()=>{g.current=void 0,u?.()},onStepKeyDown:b=>{const E=J3[w?"from-bottom":"from-top"].includes(b.key);c?.({event:b,direction:E?-1:1})}})})}),s4=A.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:c,...f}=t,p=Nd(Sa,r);return T.jsx(br.span,{...f,ref:e,onKeyDown:pr(t.onKeyDown,h=>{h.key==="Home"?(l(h),h.preventDefault()):h.key==="End"?(u(h),h.preventDefault()):Q3.concat(Z3).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:pr(t.onPointerDown,h=>{const g=h.target;g.setPointerCapture(h.pointerId),h.preventDefault(),p.thumbs.has(g)?g.focus():n(h)}),onPointerMove:pr(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:pr(t.onPointerUp,h=>{const g=h.target;g.hasPointerCapture(h.pointerId)&&(g.releasePointerCapture(h.pointerId),o(h))})})}),i4="SliderTrack",o4=A.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=Nd(i4,r);return T.jsx(br.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});o4.displayName=i4;var Cp="SliderRange",RO=A.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=Nd(Cp,r),o=n4(Cp,r),l=A.useRef(null),u=lr(e,l),c=s.values.length,f=s.values.map(g=>u4(g,s.min,s.max)),p=c>1?Math.min(...f):0,h=100-Math.max(...f);return T.jsx(br.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:u,style:{...t.style,[o.startEdge]:p+"%",[o.endEdge]:h+"%"}})});RO.displayName=Cp;var Tp="SliderThumb",a4=A.forwardRef((t,e)=>{const r=xO(t.__scopeSlider),[n,s]=A.useState(null),o=lr(e,u=>s(u)),l=A.useMemo(()=>n?r().findIndex(u=>u.ref.current===n):-1,[r,n]);return T.jsx(kO,{...t,ref:o,index:l})}),kO=A.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...o}=t,l=Nd(Tp,r),u=n4(Tp,r),[c,f]=A.useState(null),p=lr(e,P=>f(P)),h=c?l.form||!!c.closest("form"):!0,g=Yx(c),w=l.values[n],R=w===void 0?0:u4(w,l.min,l.max),b=PO(n,l.values.length),S=g?.[u.size],E=S?MO(S,R,u.direction):0;return A.useEffect(()=>{if(c)return l.thumbs.add(c),()=>{l.thumbs.delete(c)}},[c,l.thumbs]),T.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${R}% + ${E}px)`},children:[T.jsx(Ep.ItemSlot,{scope:t.__scopeSlider,children:T.jsx(br.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":l.min,"aria-valuenow":w,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:p,style:w===void 0?{display:"none"}:t.style,onFocus:pr(t.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),h&&T.jsx(l4,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:w},n)]})});a4.displayName=Tp;var AO="RadioBubbleInput",l4=A.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const s=A.useRef(null),o=lr(s,n),l=mO(e);return A.useEffect(()=>{const u=s.current;if(!u)return;const c=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==e&&p){const h=new Event("input",{bubbles:!0});p.call(u,e),u.dispatchEvent(h)}},[l,e]),T.jsx(br.input,{style:{display:"none"},...r,ref:o,defaultValue:e})});l4.displayName=AO;function OO(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,o)=>s-o)}function u4(t,e,r){const o=100/(r-e)*(t-e);return X3(o,[0,100])}function PO(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function NO(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function MO(t,e,r){const n=t/2,o=Gm([0,50],[0,n]);return(n-o(e)*r)*r}function IO(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function DO(t,e){if(e>0){const r=IO(t);return Math.min(...r)>=e}return!0}function Gm(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function jO(t){return(String(t).split(".")[1]||"").length}function LO(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var BO=t4,FO=o4,VO=a4;function yl({className:t,defaultValue:e,value:r,min:n=0,max:s=100,...o}){const l=A.useMemo(()=>Array.isArray(r)?r:Array.isArray(e)?e:[n,s],[r,e,n,s]),u=A.useMemo(()=>((l[0]??n)-n)/(s-n)*100,[l,n,s]),f=16*(1-u/100);return T.jsxs(BO,{"data-slot":"slider",defaultValue:e,value:r,min:n,max:s,className:wr("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...o,children:[T.jsx(FO,{"data-slot":"slider-track",className:wr("bg-surface-tertiary relative grow overflow-visible rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:T.jsx("div",{className:"bg-primary absolute h-full rounded-full pointer-events-none",style:{width:`calc(${u}% + ${f}px)`}})}),Array.from({length:l.length},(p,h)=>T.jsx(VO,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},h))]})}const xs={p162d9080:"M148.801 22.825L153.817 16.5506H157.298L152.865 22.1063L158.353 29.5828H154.586L150.217 23.4861H148.801V29.5828H145.466V12.0623H148.801V22.825Z",p1a069e00:"M63.4216 16.0945C64.5254 16.0946 65.5173 16.2784 66.3971 16.6463C67.2771 16.9983 68.0216 17.4946 68.6296 18.1346C69.2534 18.7585 69.7256 19.4789 70.0456 20.2947C70.3655 21.0946 70.5251 21.9428 70.5251 22.8387V23.3426C70.5251 24.2065 70.3656 25.0387 70.0456 25.8387C69.7416 26.6386 69.2854 27.3589 68.6774 27.9988C68.0694 28.6228 67.3249 29.1182 66.445 29.4861C65.5651 29.8541 64.5574 30.0388 63.4216 30.0389C62.2696 30.0389 61.2527 29.8541 60.3727 29.4861C59.4931 29.1182 58.7491 28.6226 58.1413 27.9988C57.5334 27.3589 57.0697 26.6385 56.7497 25.8387C56.4457 25.0387 56.2937 24.2065 56.2936 23.3426V22.8387C56.2936 21.9428 56.4532 21.0947 56.7731 20.2947C57.1091 19.4788 57.5812 18.7586 58.1891 18.1346C58.8131 17.4946 59.5651 16.9983 60.445 16.6463C61.325 16.2783 62.3176 16.0945 63.4216 16.0945ZM63.4216 18.95C62.6376 18.95 61.9575 19.1348 61.3815 19.5027C60.8215 19.8547 60.3896 20.3426 60.0856 20.9666C59.7817 21.5745 59.6296 22.2781 59.6296 23.0779C59.6296 23.8619 59.7733 24.5663 60.0612 25.1902C60.3652 25.7982 60.7972 26.2861 61.3571 26.6541C61.9171 27.0061 62.6056 27.1824 63.4216 27.1824C64.2374 27.1824 64.9251 27.0061 65.485 26.6541C66.045 26.2861 66.4695 25.7982 66.7575 25.1902C67.0454 24.5663 67.1891 23.8618 67.1891 23.0779C67.1891 22.2782 67.037 21.5745 66.7331 20.9666C66.4451 20.3427 66.0131 19.8547 65.4372 19.5027C64.8773 19.1348 64.2054 18.9501 63.4216 18.95Z",p1e7c6300:"M137.441 16.0945C138.577 16.0946 139.593 16.3184 140.489 16.7664C141.385 17.1984 142.097 17.8066 142.625 18.5906C143.169 19.3745 143.473 20.2862 143.537 21.326H140.297C140.216 20.6543 139.929 20.0942 139.433 19.6463C138.953 19.1983 138.289 18.9744 137.441 18.9744C136.705 18.9744 136.089 19.1508 135.593 19.5027C135.113 19.8547 134.753 20.3426 134.513 20.9666C134.273 21.5745 134.153 22.2782 134.153 23.0779C134.153 23.8459 134.265 24.5428 134.489 25.1668C134.729 25.7907 135.089 26.2787 135.569 26.6307C136.065 26.9825 136.697 27.158 137.465 27.158C138.04 27.158 138.537 27.0544 138.953 26.8465C139.369 26.6385 139.697 26.3502 139.937 25.9822C140.193 25.6143 140.353 25.1981 140.417 24.7342H143.657C143.593 25.7901 143.281 26.7184 142.721 27.5184C142.177 28.3024 141.449 28.918 140.537 29.366C139.641 29.814 138.617 30.0389 137.465 30.0389C136.329 30.0388 135.345 29.8465 134.513 29.4627C133.697 29.0787 133.009 28.5665 132.449 27.9266C131.905 27.2866 131.497 26.5664 131.225 25.7664C130.953 24.9664 130.817 24.1502 130.817 23.3182V22.8621C130.817 21.9823 130.953 21.1425 131.225 20.3426C131.513 19.5266 131.937 18.8064 132.497 18.1824C133.057 17.5424 133.745 17.0387 134.561 16.6707C135.393 16.2867 136.353 16.0945 137.441 16.0945Z",p20246600:"M94.2946 16.1424C95.8463 16.1424 97.022 16.6464 97.822 17.6541C98.6219 18.646 99.0221 20.1342 99.0221 22.118V29.5828H95.6862V21.8309C95.6862 21.0309 95.4539 20.3825 94.9899 19.8865C94.542 19.3907 93.9185 19.1425 93.1188 19.1424C92.303 19.1424 91.6386 19.3982 91.1266 19.91C90.6306 20.406 90.3825 21.0786 90.3825 21.9266V29.5828H87.0466V16.5506H89.6862V19.7742C89.764 19.4356 89.8583 19.1208 89.9743 18.8309C90.3263 17.9349 90.8468 17.2623 91.5348 16.8143C92.2387 16.3665 93.1104 16.1424 94.1501 16.1424H94.2946Z",p2ec28770:"M123.35 16.0945C124.758 16.0946 125.935 16.4061 126.879 17.0301C127.839 17.6381 128.558 18.447 129.038 19.4549C129.518 20.4468 129.758 21.5188 129.758 22.6707V23.8709H119.963C120.02 24.3735 120.132 24.8375 120.302 25.2625C120.558 25.8864 120.95 26.3828 121.478 26.7508C122.006 27.1027 122.678 27.2781 123.494 27.2781C124.31 27.2781 124.974 27.1186 125.486 26.7986C125.998 26.4626 126.326 26.054 126.47 25.574H129.542C129.35 26.47 128.982 27.2546 128.438 27.9266C127.894 28.5985 127.198 29.1182 126.35 29.4861C125.518 29.8541 124.566 30.0389 123.494 30.0389C122.374 30.0388 121.39 29.8467 120.542 29.4627C119.71 29.0787 119.014 28.5665 118.454 27.9266C117.91 27.2706 117.494 26.542 117.206 25.742C116.934 24.9423 116.799 24.1265 116.799 23.2947V22.8387C116.799 21.9748 116.934 21.1425 117.206 20.3426C117.494 19.5267 117.91 18.8064 118.454 18.1824C119.014 17.5424 119.702 17.0387 120.518 16.6707C121.334 16.2867 122.278 16.0945 123.35 16.0945ZM123.35 18.8543C122.614 18.8543 121.99 19.0223 121.478 19.3582C120.966 19.6941 120.574 20.1823 120.302 20.8221C120.177 21.1275 120.083 21.4641 120.019 21.8309H126.57C126.511 21.4159 126.415 21.0391 126.278 20.702C126.038 20.1103 125.67 19.6547 125.174 19.3348C124.695 19.0148 124.086 18.8543 123.35 18.8543Z",p316d8d70:"M114.729 29.5828H112.089V26.8758C112.015 27.0483 111.937 27.2159 111.849 27.3748C111.353 28.2547 110.696 28.9181 109.881 29.366C109.081 29.7979 108.169 30.0144 107.145 30.0145C106.233 30.0145 105.393 29.8466 104.625 29.5106C103.857 29.1746 103.192 28.7025 102.632 28.0945C102.073 27.4866 101.641 26.7822 101.337 25.9822C101.033 25.1664 100.881 24.2864 100.881 23.3426V22.8387C100.881 21.9107 101.025 21.0385 101.313 20.2225C101.617 19.4065 102.033 18.6947 102.561 18.0867C103.105 17.4788 103.753 17.0067 104.505 16.6707C105.272 16.3188 106.121 16.1424 107.049 16.1424C108.073 16.1424 108.969 16.3663 109.737 16.8143C110.406 17.1829 110.957 17.7153 111.393 18.41V12.0623H114.729V29.5828ZM107.889 18.95C107.169 18.95 106.528 19.1263 105.968 19.4783C105.425 19.8143 104.992 20.2949 104.673 20.9188C104.369 21.5427 104.216 22.2706 104.216 23.1024C104.216 23.9342 104.377 24.662 104.697 25.2859C105.017 25.8939 105.449 26.366 105.993 26.702C106.553 27.038 107.185 27.2068 107.889 27.2068C108.545 27.2068 109.145 27.0622 109.689 26.7742C110.233 26.4702 110.665 26.0382 110.985 25.4783C111.321 24.9024 111.489 24.2305 111.489 23.4627V22.5027C111.489 21.7349 111.321 21.0948 110.985 20.5828C110.649 20.0548 110.209 19.6546 109.665 19.3826C109.121 19.0947 108.529 18.9501 107.889 18.95Z",p34081500:"M75.6305 24.3748C75.6306 25.1746 75.8545 25.8148 76.3024 26.2947C76.7504 26.7586 77.3588 26.9901 78.1266 26.9901C78.8945 26.99 79.5188 26.7418 79.9987 26.2459C80.4944 25.75 80.7419 25.078 80.7419 24.2303V16.5262H84.0778V29.5828H81.4382V26.5399C81.3706 26.8186 81.2915 27.0808 81.1979 27.326C80.8619 28.206 80.3582 28.8702 79.6862 29.3182C79.0143 29.7661 78.1745 29.99 77.1667 29.9901H77.0221C75.5183 29.99 74.3502 29.4946 73.5182 28.5027C72.7023 27.5108 72.2947 26.0386 72.2946 24.0867V16.5262H75.6305V24.3748Z",p3bbcc680:"M47.8971 11.5584C49.2251 11.5584 50.3698 11.7907 51.3298 12.2547C52.2895 12.7187 53.0333 13.3746 53.5612 14.2225C54.0892 15.0545 54.3532 16.0386 54.3532 17.1746H51.0173C51.0173 16.6946 50.8969 16.2543 50.6569 15.8543C50.4329 15.4384 50.0895 15.1099 49.6257 14.8699C49.1777 14.6139 48.6011 14.4861 47.8971 14.4861C47.2253 14.4862 46.6654 14.5982 46.2175 14.8221C45.7696 15.046 45.4336 15.3503 45.2096 15.7342C44.9857 16.1181 44.8737 16.5343 44.8737 16.9822C44.8737 17.5262 45.0733 18.0067 45.4733 18.4227C45.8733 18.8226 46.5059 19.054 47.3698 19.118L48.905 19.2625C50.1529 19.3585 51.2491 19.6226 52.193 20.0545C53.137 20.4865 53.8656 21.0705 54.3776 21.8065C54.9055 22.5424 55.1696 23.4306 55.1696 24.4705C55.1696 25.5744 54.8813 26.5503 54.3054 27.3983C53.7294 28.2302 52.9056 28.8786 51.8337 29.3426C50.7777 29.8066 49.5294 30.0389 48.0895 30.0389C46.5375 30.0389 45.225 29.7907 44.153 29.2947C43.0971 28.7988 42.2892 28.1186 41.7292 27.2547C41.1692 26.3747 40.8893 25.3821 40.8893 24.2781H44.2253C44.2253 24.7421 44.3531 25.1984 44.6091 25.6463C44.8651 26.0783 45.2737 26.43 45.8337 26.702C46.4097 26.9739 47.1616 27.1102 48.0895 27.1102C48.9214 27.1101 49.6175 26.9908 50.1774 26.7508C50.7374 26.5108 51.1535 26.1983 51.4255 25.8143C51.6974 25.4143 51.8337 24.9664 51.8337 24.4705C51.8337 23.8466 51.5696 23.3502 51.0417 22.9822C50.5137 22.5983 49.6974 22.3585 48.5934 22.2625L47.0573 22.1424C45.3774 21.9984 44.0331 21.4788 43.0251 20.5828C42.0331 19.6708 41.5378 18.4702 41.5378 16.9822C41.5378 15.8623 41.8018 14.9023 42.3298 14.1024C42.8578 13.2865 43.5939 12.6622 44.5378 12.2303C45.4976 11.7824 46.6174 11.5584 47.8971 11.5584Z",pa4d6570:"M2.94141 3.3643C2.94141 3.29154 2.94141 3.25516 2.95578 3.22718C2.96833 3.20277 2.98877 3.18256 3.01333 3.1703C3.04147 3.15625 3.07769 3.15667 3.15012 3.15751C10.5741 3.24358 16.8951 7.91576 19.4144 14.4731C19.5709 14.8804 19.6491 15.084 19.7027 15.1049C19.7501 15.1234 19.7997 15.1142 19.8374 15.0799C19.8799 15.0412 19.8799 14.8263 19.8799 14.3964V6.14528C19.8799 6.04091 19.8799 5.98873 19.9023 5.95566C19.9218 5.92705 19.9528 5.90691 19.9868 5.90077C20.0261 5.89367 20.0732 5.9146 20.1675 5.95647C24.1875 7.74255 27.3305 11.1422 28.779 15.3325C28.9801 15.9142 29.0806 16.2051 29.1344 16.2275C29.1827 16.2477 29.2319 16.2395 29.271 16.2046C29.3145 16.1658 29.3145 15.8635 29.3145 15.2587V12.1475C29.3145 11.9958 29.3145 11.9199 29.346 11.8833C29.3729 11.8521 29.4151 11.835 29.4562 11.8388C29.5043 11.8431 29.5561 11.8967 29.6598 12.0039C31.8621 14.2808 33.2196 17.3801 33.2197 20.7979C33.2197 24.2158 31.8621 27.3149 29.6598 29.5919C29.5561 29.6991 29.5043 29.7527 29.4562 29.757C29.4151 29.7608 29.373 29.7437 29.346 29.7125C29.3145 29.6759 29.3145 29.6 29.3145 29.4483V25.8427C29.3145 25.238 29.3145 24.9357 29.271 24.8969C29.2319 24.8621 29.1828 24.8538 29.1344 24.874C29.0806 24.8964 28.9801 25.1873 28.779 25.7689C27.3304 29.9587 24.1873 33.3571 20.1675 35.1432C20.0733 35.1851 20.0261 35.206 19.9868 35.1989C19.9528 35.1928 19.9218 35.1726 19.9023 35.144C19.8799 35.111 19.8799 35.0588 19.8799 34.9544V27.1997C19.8799 26.7697 19.8799 26.5548 19.8374 26.5161C19.7997 26.4818 19.7501 26.4726 19.7027 26.4911C19.6491 26.512 19.5709 26.7157 19.4144 27.1231C16.8953 33.6808 10.5743 38.3532 3.15012 38.4393C3.07769 38.4401 3.04147 38.4405 3.01333 38.4265C2.98877 38.4142 2.96833 38.394 2.95578 38.3696C2.94141 38.3416 2.94141 38.3052 2.94141 38.2325V3.3643Z"};function $O(){return T.jsx("div",{className:"relative size-full scale-90 md:scale-100","data-name":"logo",children:T.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 161 42",children:T.jsx("g",{id:"logo",children:T.jsxs("g",{id:"Vector",children:[T.jsx("path",{d:xs.p3bbcc680,fill:"var(--fill-0, black)",className:"dark:fill-white"}),T.jsx("path",{clipRule:"evenodd",d:xs.p1a069e00,fill:"var(--fill-0, black)",className:"dark:fill-white",fillRule:"evenodd"}),T.jsx("path",{clipRule:"evenodd",d:xs.p2ec28770,fill:"var(--fill-0, black)",className:"dark:fill-white",fillRule:"evenodd"}),T.jsx("path",{d:xs.p1e7c6300,fill:"var(--fill-0, black)",className:"dark:fill-white"}),T.jsx("path",{clipRule:"evenodd",d:xs.p316d8d70,fill:"var(--fill-0, black)",className:"dark:fill-white",fillRule:"evenodd"}),T.jsx("path",{d:xs.p34081500,fill:"var(--fill-0, black)",className:"dark:fill-white"}),T.jsx("path",{d:xs.p20246600,fill:"var(--fill-0, black)",className:"dark:fill-white"}),T.jsx("path",{d:xs.p162d9080,fill:"var(--fill-0, black)",className:"dark:fill-white"}),T.jsx("path",{d:xs.pa4d6570,fill:"var(--fill-0, black)",className:"dark:fill-white"})]})})})})}const c4="adutuuffuthtwxqprnqg",UO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFkdXR1dWZmdXRodHd4cXBybnFnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5Mjk1NzcsImV4cCI6MjA4MDUwNTU3N30.s0hoPW1kwDGs1Ob_PqN9jpQYZvr-KbO1gp1N28cVoPM";var Ss={},oc={};const HO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Md=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},d4=class extends Md{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Rp=class extends Md{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},kp=class extends Md{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var sd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sd||(sd={}));class zO{constructor(e,{headers:r={},customFetch:n,region:s=sd.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=HO(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Xe(this,arguments,void 0,function*(r,n={}){var s;let o,l;try{const{headers:u,method:c,body:f,signal:p,timeout:h}=n;let g={},{region:w}=n;w||(w=this.region);const R=new URL(`${this.url}/${r}`);w&&w!=="any"&&(g["x-region"]=w,R.searchParams.set("forceFunctionRegion",w));let b;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(g["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(g["Content-Type"]="application/json",b=JSON.stringify(f)):b=f;let S=p;h&&(l=new AbortController,o=setTimeout(()=>l.abort(),h),p?(S=l.signal,p.addEventListener("abort",()=>l.abort())):S=l.signal);const E=yield this.fetch(R.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:b,signal:S}).catch(L=>{throw new d4(L)}),P=E.headers.get("x-relay-error");if(P&&P==="true")throw new Rp(E);if(!E.ok)throw new kp(E);let y=((s=E.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return y==="application/json"?j=yield E.json():y==="application/octet-stream"||y==="application/pdf"?j=yield E.blob():y==="text/event-stream"?j=E:y==="multipart/form-data"?j=yield E.formData():j=yield E.text(),{data:j,error:null,response:E}}catch(u){return{data:null,error:u,response:u instanceof kp||u instanceof Rp?u.context:void 0}}finally{o&&clearTimeout(o)}})}}const WO=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return sd},FunctionsClient:zO,FunctionsError:Md,FunctionsFetchError:d4,FunctionsHttpError:kp,FunctionsRelayError:Rp},Symbol.toStringTag,{value:"Module"})),f4=jl(WO);var Ur={};const Ea=jl(gA);var ac={},lc={},uc={},cc={},dc={},fc={},U2;function h4(){if(U2)return fc;U2=1,Object.defineProperty(fc,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return fc.default=t,fc}var H2;function p4(){if(H2)return dc;H2=1,Object.defineProperty(dc,"__esModule",{value:!0});const e=Ea.__importDefault(h4());let r=class{constructor(s){var o,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var f,p,h,g;let w=null,R=null,b=null,S=c.status,E=c.statusText;if(c.ok){if(this.method!=="HEAD"){const L=await c.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?R=L:R=JSON.parse(L))}const y=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),j=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&j&&j.length>1&&(b=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(w={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,b=null,S=406,E="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const y=await c.text();try{w=JSON.parse(y),Array.isArray(w)&&c.status===404&&(R=[],w=null,S=200,E="OK")}catch{c.status===404&&y===""?(S=204,E="No Content"):w={message:y}}if(w&&this.isMaybeSingle&&(!((g=w?.details)===null||g===void 0)&&g.includes("0 rows"))&&(w=null,S=200,E="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:R,count:b,status:S,statusText:E}});return this.shouldThrowOnError||(u=u.catch(c=>{var f,p,h,g,w,R;let b="";const S=c?.cause;if(S){const E=(f=S?.message)!==null&&f!==void 0?f:"",P=(p=S?.code)!==null&&p!==void 0?p:"";b=`${(h=c?.name)!==null&&h!==void 0?h:"FetchError"}: ${c?.message}`,b+=`

Caused by: ${(g=S?.name)!==null&&g!==void 0?g:"Error"}: ${E}`,P&&(b+=` (${P})`),S?.stack&&(b+=`
${S.stack}`)}else b=(w=c?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(R=c?.name)!==null&&R!==void 0?R:"FetchError"}: ${c?.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}};return dc.default=r,dc}var z2;function m4(){if(z2)return cc;z2=1,Object.defineProperty(cc,"__esModule",{value:!0});const e=Ea.__importDefault(p4());let r=class extends e.default{select(s){let o=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:u=l}={}){const c=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(f,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:c=!1,format:f="text"}={}){var p;const h=[s?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${g}"; options=${h};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return cc.default=r,cc}var W2;function Km(){if(W2)return uc;W2=1,Object.defineProperty(uc,"__esModule",{value:!0});const e=Ea.__importDefault(m4()),r=new RegExp("[,()]");let n=class extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}regexMatch(o,l){return this.url.searchParams.append(o,`match.${l}`),this}regexIMatch(o,l){return this.url.searchParams.append(o,`imatch.${l}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}isDistinct(o,l){return this.url.searchParams.append(o,`isdistinct.${l}`),this}in(o,l){const u=Array.from(new Set(l)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:u,type:c}={}){let f="";c==="plain"?f="pl":c==="phrase"?f="ph":c==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${f}fts${p}.${l}`),this}match(o){return Object.entries(o).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(o,l,u){return this.url.searchParams.append(o,`not.${l}.${u}`),this}or(o,{foreignTable:l,referencedTable:u=l}={}){const c=u?`${u}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,l,u){return this.url.searchParams.append(o,`${l}.${u}`),this}};return uc.default=n,uc}var q2;function g4(){if(q2)return lc;q2=1,Object.defineProperty(lc,"__esModule",{value:!0});const e=Ea.__importDefault(Km());let r=class{constructor(s,{headers:o={},schema:l,fetch:u}){this.url=s,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(s,o){const{head:l=!1,count:u}=o??{},c=l?"HEAD":"GET";let f=!1;const p=(s??"*").split("").map(h=>/\s/.test(h)&&!f?"":(h==='"'&&(f=!f),h)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:l=!0}={}){var u;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:c=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((g,w)=>g.concat(Object.keys(w)),[]);if(h.length>0){const g=[...new Set(h)].map(w=>`"${w}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var o;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return lc.default=r,lc}var G2;function qO(){if(G2)return ac;G2=1,Object.defineProperty(ac,"__esModule",{value:!0});const t=Ea,e=t.__importDefault(g4()),r=t.__importDefault(Km());let n=class v4{constructor(o,{headers:l={},schema:u,fetch:c}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=c}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new v4(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:c=!1,count:f}={}){var p;let h;const g=new URL(`${this.url}/rpc/${o}`);let w;u||c?(h=u?"HEAD":"GET",Object.entries(l).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{g.searchParams.append(b,S)})):(h="POST",w=l);const R=new Headers(this.headers);return f&&R.set("Prefer",`count=${f}`),new r.default({method:h,url:g,headers:R,schema:this.schemaName,body:w,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};return ac.default=n,ac}var K2;function y4(){if(K2)return Ur;K2=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.PostgrestError=Ur.PostgrestBuilder=Ur.PostgrestTransformBuilder=Ur.PostgrestFilterBuilder=Ur.PostgrestQueryBuilder=Ur.PostgrestClient=void 0;const t=Ea,e=t.__importDefault(qO());Ur.PostgrestClient=e.default;const r=t.__importDefault(g4());Ur.PostgrestQueryBuilder=r.default;const n=t.__importDefault(Km());Ur.PostgrestFilterBuilder=n.default;const s=t.__importDefault(m4());Ur.PostgrestTransformBuilder=s.default;const o=t.__importDefault(p4());Ur.PostgrestBuilder=o.default;const l=t.__importDefault(h4());return Ur.PostgrestError=l.default,Ur.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:l.default},Ur}class _4{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const GO="2.87.0",KO=`realtime-js/${GO}`,w4="1.0.0",YO="2.0.0",Y2=w4,Ap=1e4,XO=1e3,QO=100;var Hi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Hi||(Hi={}));var dr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dr||(dr={}));var Wn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Wn||(Wn={}));var Op;(function(t){t.websocket="websocket"})(Op||(Op={}));var zi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zi||(zi={}));class ZO{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,r,n){var s,o;const l=e.topic,u=(s=e.ref)!==null&&s!==void 0?s:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(p).length===0?"":JSON.stringify(p);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+l.length+f.length+h.length,w=new ArrayBuffer(this.HEADER_LENGTH+g);let R=new DataView(w),b=0;R.setUint8(b++,this.KINDS.userBroadcastPush),R.setUint8(b++,c.length),R.setUint8(b++,u.length),R.setUint8(b++,l.length),R.setUint8(b++,f.length),R.setUint8(b++,h.length),R.setUint8(b++,r),Array.from(c,E=>R.setUint8(b++,E.charCodeAt(0))),Array.from(u,E=>R.setUint8(b++,E.charCodeAt(0))),Array.from(l,E=>R.setUint8(b++,E.charCodeAt(0))),Array.from(f,E=>R.setUint8(b++,E.charCodeAt(0))),Array.from(h,E=>R.setUint8(b++,E.charCodeAt(0)));var S=new Uint8Array(w.byteLength+n.byteLength);return S.set(new Uint8Array(w),0),S.set(new Uint8Array(n),w.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,o,l,u,c]=n;return r({join_ref:s,ref:o,topic:l,event:u,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let c=this.HEADER_LENGTH+4;const f=n.decode(e.slice(c,c+s));c=c+s;const p=n.decode(e.slice(c,c+o));c=c+o;const h=n.decode(e.slice(c,c+l));c=c+l;const g=e.slice(c,e.byteLength),w=u===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,R={type:this.BROADCAST_EVENT,event:p,payload:w};return l>0&&(R.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class b4{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $t;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($t||($t={}));const X2=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=JO(l,t,e,s),o),{}):{}},JO=(t,e,r,n)=>{const s=e.find(u=>u.name===t),o=s?.type,l=r[t];return o&&!n.includes(o)?x4(o,l):Pp(l)},x4=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return nP(e,r)}switch(t){case $t.bool:return eP(e);case $t.float4:case $t.float8:case $t.int2:case $t.int4:case $t.int8:case $t.numeric:case $t.oid:return tP(e);case $t.json:case $t.jsonb:return rP(e);case $t.timestamp:return sP(e);case $t.abstime:case $t.date:case $t.daterange:case $t.int4range:case $t.int8range:case $t.money:case $t.reltime:case $t.text:case $t.time:case $t.timestamptz:case $t.timetz:case $t.tsrange:case $t.tstzrange:return Pp(e);default:return Pp(e)}},Pp=t=>t,eP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rP=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nP=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const l=t.slice(1,r);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>x4(e,u))}return t},sP=t=>typeof t=="string"?t.replace(" ","T"):t,S4=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Jh{constructor(e,r,n={},s=Ap){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Np;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Np||(Np={}));let E4=class Ic{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ic.syncState(this.state,s,o,l),this.pendingDiffs.forEach(c=>{this.state=Ic.syncDiff(this.state,c,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ic.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),l=this.transformState(r),u={},c={};return this.map(o,(f,p)=>{l[f]||(c[f]=p)}),this.map(l,(f,p)=>{const h=o[f];if(h){const g=p.map(S=>S.presence_ref),w=h.map(S=>S.presence_ref),R=p.filter(S=>w.indexOf(S.presence_ref)<0),b=h.filter(S=>g.indexOf(S.presence_ref)<0);R.length>0&&(u[f]=R),b.length>0&&(c[f]=b)}else u[f]=p}),this.syncDiff(o,{joins:u,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(u,c)=>{var f;const p=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(c),p.length>0){const h=e[u].map(w=>w.presence_ref),g=p.filter(w=>h.indexOf(w.presence_ref)<0);e[u].unshift(...g)}n(u,p,c)}),this.map(l,(u,c)=>{let f=e[u];if(!f)return;const p=c.map(h=>h.presence_ref);f=f.filter(h=>p.indexOf(h.presence_ref)<0),e[u]=f,s(u,f,c),f.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Mp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Mp||(Mp={}));var ta;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ta||(ta={}));var is;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(is||(is={}));const iP=dr;let C4=class T4{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jh(this,Wn.join,this.params,this.timeout),this.rejoinTimer=new b4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new E4(this),this.broadcastEndpointURL=S4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==dr.closed){const{config:{broadcast:l,presence:u,private:c}}=this.params,f=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[ta.PRESENCE]&&this.bindings[ta.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},g={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(is.CHANNEL_ERROR,w)),this._onClose(()=>e?.(is.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var R;if(this.socket.setAuth(),w===void 0){e?.(is.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,S=(R=b?.length)!==null&&R!==void 0?R:0,E=[];for(let P=0;P<S;P++){const y=b[P],{filter:{event:j,schema:L,table:G,filter:U}}=y,$=w&&w[P];if($&&$.event===j&&$.schema===L&&$.table===G&&$.filter===U)E.push(Object.assign(Object.assign({},y),{id:$.id}));else{this.unsubscribe(),this.state=dr.errored,e?.(is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(is.SUBSCRIBED);return}}).receive("error",w=>{this.state=dr.errored,e?.(is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===dr.joined&&e===ta.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(u.status===202)return{success:!0};let c=u.statusText;try{const f=await u.json();c=f.error||f.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,c;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Jh(this,Wn.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jh(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>QO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const l=e.toLocaleLowerCase(),{close:u,error:c,leave:f,join:p}=Wn;if(n&&[u,c,f,p].indexOf(l)>=0&&n!==this._joinRef())return;let g=this._onMessage(l,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var R,b,S;return((R=w.filter)===null||R===void 0?void 0:R.event)==="*"||((S=(b=w.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(w=>w.callback(g,n)):(o=this.bindings[l])===null||o===void 0||o.filter(w=>{var R,b,S,E,P,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const j=w.id,L=(R=w.filter)===null||R===void 0?void 0:R.event;return j&&((b=r.ids)===null||b===void 0?void 0:b.includes(j))&&(L==="*"||L?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const j=(P=(E=w?.filter)===null||E===void 0?void 0:E.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return j==="*"||j===((y=r?.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof g=="object"&&"ids"in g){const R=g.data,{schema:b,table:S,commit_timestamp:E,type:P,errors:y}=R;g=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:E,eventType:P,new:{},old:{},errors:y}),this._getPayloadRecords(R))}w.callback(g,n)})}_isClosed(){return this.state===dr.closed}_isJoined(){return this.state===dr.joined}_isJoining(){return this.state===dr.joining}_isLeaving(){return this.state===dr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&T4.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Wn.close,{},e)}_onError(e){this._on(Wn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=X2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=X2(e.columns,e.old_record)),r}};const e0=()=>{},hc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oP=[1e3,2e3,5e3,1e4],aP=1e4,lP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let uP=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ap,this.transport=null,this.heartbeatIntervalMs=hc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=e0,this.ref=0,this.reconnectTimer=null,this.vsn=Y2,this.logger=e0,this.conn=null,this.sendBuffer=[],this.serializer=new ZO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Op.websocket}`,this.httpEndpoint=S4(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hi.connecting:return zi.Connecting;case Hi.open:return zi.Open;case Hi.closing:return zi.Closing;default:return zi.Closed}}isConnected(){return this.connectionState()===zi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new C4(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,l=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(XO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:l}=r,u=l?`(${l})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(s,o,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hi.open||this.conn.readyState===Hi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Wn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([lP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:KO};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Wn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new b4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,l,u,c,f,p,h,g,w;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Ap,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:hc.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:e0,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:Y2,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(R=>oP[R-1]||aP),this.vsn){case w4:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((R,b)=>b(JSON.stringify(R))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:((R,b)=>b(JSON.parse(R)));break;case YO:this.encode=(g=e?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const cP=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:iP,get REALTIME_LISTEN_TYPES(){return ta},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Mp},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Np},get REALTIME_SUBSCRIBE_STATES(){return is},RealtimeChannel:C4,RealtimeClient:uP,RealtimePresence:E4,WebSocketFactory:_4},Symbol.toStringTag,{value:"Module"})),R4=jl(cP);class Ul extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Kt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class k4 extends Ul{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class id extends Ul{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Ym=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dP=()=>Response,Ip=t=>{if(Array.isArray(t))return t.map(r=>Ip(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Ip(n)}),e},fP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hP=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),t0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},pP=(t,e,r)=>Xe(void 0,void 0,void 0,function*(){const n=yield dP();t instanceof n&&!r?.noResolveJson?t.json().then(s=>{const o=t.status||500,l=s?.statusCode||o+"";e(new k4(t0(s),o,l))}).catch(s=>{e(new id(t0(s),s))}):e(new id(t0(t),t))}),mP=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||!n?s:(fP(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(n)):s.body=n,e?.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Hl(t,e,r,n,s,o){return Xe(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(r,mP(e,n,s,o)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>pP(c,u,n))})})}function kl(t,e,r,n){return Xe(this,void 0,void 0,function*(){return Hl(t,"GET",e,r,n)})}function zn(t,e,r,n,s){return Xe(this,void 0,void 0,function*(){return Hl(t,"POST",e,n,s,r)})}function Dp(t,e,r,n,s){return Xe(this,void 0,void 0,function*(){return Hl(t,"PUT",e,n,s,r)})}function gP(t,e,r,n){return Xe(this,void 0,void 0,function*(){return Hl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Xm(t,e,r,n,s){return Xe(this,void 0,void 0,function*(){return Hl(t,"DELETE",e,n,s,r)})}class vP{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Kt(e))return{data:null,error:e};throw e}})}}var A4;class yP{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[A4]="BlobDownloadBuilder",this.promise=null}asStream(){return new vP(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Kt(e))return{data:null,error:e};throw e}})}}A4=Symbol.toStringTag;const _P={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Q2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wP{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Ym(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Xe(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Q2),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),s?.headers&&(u=Object.assign(Object.assign({},u),s.headers));const f=this._removeEmptyFolders(r),p=this._getFinalPath(f),h=yield(e=="PUT"?Dp:zn)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Kt(o))return{data:null,error:o};throw o}})}upload(e,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Xe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let c;const f=Object.assign({upsert:Q2.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",f.cacheControl)):(c=n,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const h=yield Dp(this.fetch,u.toString(),c,{headers:p});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Kt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const o=yield zn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new Ul("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield zn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Xe(this,void 0,void 0,function*(){try{const s=yield zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),l=o?`?${o}`:"",u=this._getFinalPath(e),c=()=>kl(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new yP(c,this.shouldThrowOnError)}info(e){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield kl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ip(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}exists(e){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield gP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n)&&n instanceof id){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const u=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&s.push(c);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}remove(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},_P),r),{prefix:e||""});return{data:yield zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}})}listV2(e,r){return Xe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield zn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const O4="2.87.0",P4={"X-Client-Info":`storage-js/${O4}`};class bP{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},P4),r),this.fetch=Ym(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Xe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield kl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}getBucket(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}createBucket(e){return Xe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield zn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return Xe(this,void 0,void 0,function*(){try{return{data:yield Dp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Al=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xP(t,e,r){const n=new URL(e,t);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function SP(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function EP(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:l}){const u=xP(t.baseUrl,n,s),c=await SP(t.auth),f=await e(u,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...l},body:o?JSON.stringify(o):void 0}),p=await f.text(),h=(f.headers.get("content-type")||"").includes("application/json"),g=h&&p?JSON.parse(p):p;if(!f.ok){const w=h?g:void 0,R=w?.error;throw new Al(R?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:R?.type,icebergCode:R?.code,details:w})}return{status:f.status,headers:f.headers,data:g}}}}function pc(t){return t.join("")}var CP=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:pc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pc(t.namespace)}`}),!0}catch(e){if(e instanceof Al&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Al&&r.status===409)return;throw r}}};function jo(t){return t.join("")}var TP=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Al&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Al&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},RP=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=EP({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new CP(this.client,e),this.tableOps=new TP(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class N4{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},P4),r),this.fetch=Ym(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Xe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield kl(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}from(e){if(!hP(e))throw new Ul("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new RP({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Xe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(o,l){const u=o[l];return typeof u!="function"?u:(...c)=>Xe(this,void 0,void 0,function*(){try{return{data:yield u.apply(o,c),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}})}})}}const Qm={"X-Client-Info":`storage-js/${O4}`,"Content-Type":"application/json"};class Zm extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function on(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Dc extends Zm{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class M4 extends Zm{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var jp;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(jp||(jp={}));const Id=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kP=()=>Response,I4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},AP=t=>Array.from(new Float32Array(t)),OP=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Z2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PP=(t,e,r)=>Xe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=l?.statusCode||l?.code||s+"";e(new Dc(Z2(l),s,u))}).catch(()=>{const l=s+"",u=o.statusText||`HTTP ${s} error`;e(new Dc(u,s,l))});else{const l=s+"",u=o.statusText||`HTTP ${s} error`;e(new Dc(u,s,l))}}else e(new M4(Z2(t),t))}),NP=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return n?(I4(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function MP(t,e,r,n,s,o){return Xe(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(r,NP(e,n,s,o)).then(c=>{if(!c.ok)throw c;if(n?.noResolveJson)return c;const f=c.headers.get("content-type");return!f||!f.includes("application/json")?{}:c.json()}).then(c=>l(c)).catch(c=>PP(c,u,n))})})}function gn(t,e,r,n,s){return Xe(this,void 0,void 0,function*(){return MP(t,"POST",e,n,s,r)})}class D4{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qm),r),this.fetch=Id(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Xe(this,void 0,void 0,function*(){try{return{data:(yield gn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Xe(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}listIndexes(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Xe(this,void 0,void 0,function*(){try{return{data:(yield gn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}}class j4{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qm),r),this.fetch=Id(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Xe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}getVectors(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}listVectors(e){return Xe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield gn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}queryVectors(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Xe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}}class L4{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qm),r),this.fetch=Id(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Xe(this,void 0,void 0,function*(){try{return{data:(yield gn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}getBucket(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}listBuckets(){return Xe(this,arguments,void 0,function*(e={}){try{return{data:yield gn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Xe(this,void 0,void 0,function*(){try{return{data:(yield gn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}}class B4 extends L4{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new F4(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Xe(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Xe(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Xe(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Xe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class F4 extends D4{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Xe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Xe(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Xe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Xe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new V4(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class V4 extends j4{constructor(e,r,n,s,o){super(e,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Xe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Xe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Xe(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Xe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Xe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class IP extends bP{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new wP(this.url,this.headers,e,this.fetch)}get vectors(){return new B4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new N4(this.url+"/iceberg",this.headers,this.fetch)}}const DP=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:N4,StorageApiError:k4,StorageClient:IP,StorageError:Ul,StorageUnknownError:id,StorageVectorsApiError:Dc,StorageVectorsClient:B4,StorageVectorsError:Zm,get StorageVectorsErrorCode(){return jp},StorageVectorsUnknownError:M4,VectorBucketApi:L4,VectorBucketScope:F4,VectorDataApi:j4,VectorIndexApi:D4,VectorIndexScope:V4,isPlainObject:I4,isStorageError:Kt,isStorageVectorsError:on,normalizeToFloat32:AP,resolveFetch:Id,resolveResponse:kP,validateVectorDimension:OP},Symbol.toStringTag,{value:"Module"})),jP=jl(DP);var r0={},ul={},J2;function LP(){return J2||(J2=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.version=void 0,ul.version="2.87.0"),ul}var e_;function BP(){return e_||(e_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=LP();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(r0)),r0}var n0={},t_;function FP(){return t_||(t_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...o)=>s(...o):(...o)=>fetch(...o);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(s,o,l)=>{const u=(0,t.resolveFetch)(l),c=(0,t.resolveHeadersConstructor)();return async(f,p)=>{var h;const g=(h=await o())!==null&&h!==void 0?h:s;let w=new c(p?.headers);return w.has("apikey")||w.set("apikey",s),w.has("Authorization")||w.set("Authorization",`Bearer ${g}`),u(f,Object.assign(Object.assign({},p),{headers:w}))}};t.fetchWithAuth=n})(n0)),n0}var Es={},r_;function VP(){if(r_)return Es;r_=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.isBrowser=void 0,Es.uuid=t,Es.ensureTrailingSlash=e,Es.applySettingDefaults=n,Es.validateSupabaseUrl=s;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var l=Math.random()*16|0,u=o=="x"?l:l&3|8;return u.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const r=()=>typeof window<"u";Es.isBrowser=r;function n(o,l){var u,c;const{db:f,auth:p,realtime:h,global:g}=o,{db:w,auth:R,realtime:b,global:S}=l,E={db:Object.assign(Object.assign({},w),f),auth:Object.assign(Object.assign({},R),p),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},S),g),{headers:Object.assign(Object.assign({},(u=S?.headers)!==null&&u!==void 0?u:{}),(c=g?.headers)!==null&&c!==void 0?c:{})}),accessToken:async()=>""};return o.accessToken?E.accessToken=o.accessToken:delete E.accessToken,E}function s(o){const l=o?.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Es}var cl={};const $4="2.87.0",Ho=30*1e3,Lp=3,s0=Lp*Ho,$P="http://localhost:9999",UP="supabase.auth.token",HP={"X-Client-Info":`gotrue-js/${$4}`},Bp="X-Supabase-Api-Version",U4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WP=600*1e3;let ca=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function at(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let H4=class extends ca{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function z4(t){return at(t)&&t.name==="AuthApiError"}let ai=class extends ca{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Is=class extends ca{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}},nn=class extends Is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function W4(t){return at(t)&&t.name==="AuthSessionMissingError"}let Fi=class extends Is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},fl=class extends Is{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},hl=class extends Is{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function q4(t){return at(t)&&t.name==="AuthImplicitGrantRedirectError"}let Fp=class extends Is{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},od=class extends Is{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function jc(t){return at(t)&&t.name==="AuthRetryableFetchError"}let Vp=class extends Is{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function qP(t){return at(t)&&t.name==="AuthWeakPasswordError"}let ad=class extends Is{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),n_=` 	
\r=`.split(""),GP=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<n_.length;e+=1)t[n_[e].charCodeAt(0)]=-2;for(let e=0;e<ld.length;e+=1)t[ld[e].charCodeAt(0)]=e;return t})();function s_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ld[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ld[n]),e.queuedBits-=6}}function G4(t,e,r){const n=GP[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function i_(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{XP(l,n,r)};for(let l=0;l<t.length;l+=1)G4(t.charCodeAt(l),s,o);return e.join("")}function KP(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function YP(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}KP(n,e)}}function XP(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ra(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)G4(t.charCodeAt(s),r,n);return new Uint8Array(e)}function QP(t){const e=[];return YP(t,r=>e.push(r)),new Uint8Array(e)}function qi(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>s_(s,r,n)),s_(null,r,n),e.join("")}function ZP(t){return Math.round(Date.now()/1e3)+t}function JP(){return Symbol("auth-callback")}const Mr=()=>typeof window<"u"&&typeof document<"u",Di={tested:!1,writable:!1},K4=()=>{if(!Mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Di.tested)return Di.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Di.tested=!0,Di.writable=!0}catch{Di.tested=!0,Di.writable=!1}return Di.writable};function eN(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Y4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ji=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Nr=async(t,e)=>{await t.removeItem(e)};class Dd{constructor(){this.promise=new Dd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Dd.promiseConstructor=Promise;function i0(t){const e=t.split(".");if(e.length!==3)throw new ad("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!zP.test(e[n]))throw new ad("JWT not in base64url format");return{header:JSON.parse(i_(e[0])),payload:JSON.parse(i_(e[1])),signature:ra(e[2]),raw:{header:e[0],payload:e[1]}}}async function rN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nN(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){n(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function sN(t){return("0"+t.toString(16)).substr(-2)}function iN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,sN).join("")}async function oN(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function aN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await oN(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lo(t,e,r=!1){const n=iN();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await zo(t,`${e}-code-verifier`,s);const o=await aN(n);return[o,n===o?"plain":"s256"]}const lN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uN(t){const e=t.headers.get(Bp);if(!e||!e.match(lN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function dN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bo(t){if(!fN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function o0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hN(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function o_(t){return JSON.parse(JSON.stringify(t))}const Vi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pN=[502,503,504];async function a_(t){var e;if(!tN(t))throw new od(Vi(t),0);if(pN.includes(t.status))throw new od(Vi(t),t.status);let r;try{r=await t.json()}catch(o){throw new ai(Vi(o),o)}let n;const s=uN(t);if(s&&s.getTime()>=U4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Vp(Vi(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new nn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Vp(Vi(r),t.status,r.weak_password.reasons);throw new H4(Vi(r),t.status||500,n)}const mN=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ht(t,e,r,n){var s;const o=Object.assign({},n?.headers);o[Bp]||(o[Bp]=U4["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const l=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await gN(t,e,r+u,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function gN(t,e,r,n,s,o){const l=mN(e,n,s,o);let u;try{u=await t(r,Object.assign({},l))}catch(c){throw console.error(c),new od(Vi(c),0)}if(u.ok||await a_(u),n?.noResolveJson)return u;try{return await u.json()}catch(c){await a_(c)}}function Un(t){var e;let r=null;_N(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ZP(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function l_(t){const e=Un(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function li(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vN(t){return{data:t,error:null}}function yN(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,l=gi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},l);return{data:{properties:u,user:c},error:null}}function u_(t){return t}function _N(t){return t.access_token&&t.refresh_token&&t.expires_in}const Lc=["global","local","others"];let Jm=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Y4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Lc[0]){if(Lc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lc.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:li})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=gi(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yN,redirectTo:r?.redirectTo})}catch(r){if(at(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:li})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},p=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:u_});if(p.error)throw p.error;const h=await p.json(),g=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(c=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return w.length>0&&(w.forEach(R=>{const b=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(R.split(";")[1].split("=")[1]);f[`${S}Page`]=b}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if(at(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Bo(e);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:li})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Bo(e);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:li})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Bo(e);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:li})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Bo(e.userId);try{const{data:r,error:n}=await ht(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(at(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Bo(e.userId),Bo(e.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,l,u,c;try{const f={nextPage:null,lastPage:0,total:0},p=await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:u_});if(p.error)throw p.error;const h=await p.json(),g=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(c=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return w.length>0&&(w.forEach(R=>{const b=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(R.split(";")[1].split("=")[1]);f[`${S}Page`]=b}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if(at(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(at(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(at(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ht(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(at(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ht(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(at(r))return{data:null,error:r};throw r}}};function c_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const $i={debug:!!(globalThis&&K4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class e1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let X4=class extends e1{};class wN extends e1{}async function Q4(t,e,r){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),$i.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw $i.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new X4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($i.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const d_={};async function bN(t,e,r){var n;const s=(n=d_[t])!==null&&n!==void 0?n:Promise.resolve(),o=Promise.race([s.catch(()=>null),e>=0?new Promise((l,u)=>{setTimeout(()=>{u(new wN(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(async()=>await r());return d_[t]=o.catch(async l=>{if(l&&l.isAcquireTimeout)return await s,null;throw l}),await o}function xN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Z4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function SN(t){return parseInt(t,16)}function EN(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function CN(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:c,resources:f,scheme:p,uri:h,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=Z4(t.address),R=p?`${p}://${n}`:n,b=t.statement?`${t.statement}
`:"",S=`${R} wants you to sign in with your Ethereum account:
${w}

${b}`;let E=`URI: ${h}
Version: ${g}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(E+=`
Expiration Time: ${s.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),c&&(E+=`
Request ID: ${c}`),f){let P=`
Resources:`;for(const y of f){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);P+=`
- ${y}`}E+=P}return`${S}
${E}`}class fr extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class ud extends fr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function TN({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new fr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(J4(l)){if(o.rp.id!==l)return new fr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new fr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function RN({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(J4(n)){if(r.rpId!==n)return new fr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class kN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const AN=new kN;function ON(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=gi(t,["challenge","user","excludeCredentials"]),o=ra(e).buffer,l=Object.assign(Object.assign({},r),{id:ra(r.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:o,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const f=n[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:ra(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function PN(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=gi(t,["challenge","allowCredentials"]),s=ra(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:ra(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function NN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:qi(new Uint8Array(t.response.attestationObject)),clientDataJSON:qi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function MN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:qi(new Uint8Array(s.authenticatorData)),clientDataJSON:qi(new Uint8Array(s.clientDataJSON)),signature:qi(new Uint8Array(s.signature)),userHandle:s.userHandle?qi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function J4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function f_(){var t,e;return!!(Mr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function IN(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ud("Browser returned unexpected credential type",e)}:{data:null,error:new ud("Empty credential response",e)}}catch(e){return{data:null,error:TN({error:e,options:t})}}}async function DN(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ud("Browser returned unexpected credential type",e)}:{data:null,error:new ud("Empty credential response",e)}}catch(e){return{data:null,error:RN({error:e,options:t})}}}const jN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},LN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cd(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))n[o]=l;else if(r(l))n[o]=l;else if(e(l)){const u=n[o];e(u)?n[o]=cd(u,l):n[o]=cd(l)}else n[o]=l}return n}function BN(t,e){return cd(jN,t,e||{})}function FN(t,e){return cd(LN,t,e||{})}class VN{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:u};const c=s??AN.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=BN(l.webauthn.credential_options.publicKey,o?.create),{data:p,error:h}=await IN({publicKey:f,signal:c});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{const f=FN(l.webauthn.credential_options.publicKey,o?.request),{data:p,error:h}=await DN(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:c}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(l){return at(l)?{data:null,error:l}:{data:null,error:new ai("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ca("rpId is required for WebAuthn authentication")};try{if(!f_())return{data:null,error:new ai("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!l)return{data:null,error:u};const{webauthn:c}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(l){return at(l)?{data:null,error:l}:{data:null,error:new ai("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ca("rpId is required for WebAuthn registration")};try{if(!f_())return{data:null,error:new ai("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(l){return at(l)?{data:null,error:l}:{data:null,error:new ai("Unexpected error in register",l)}}}}xN();const $N={url:$P,storageKey:UP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function h_(t,e,r){return await r()}const Fo={};let t1=class $p{get jwks(){var e,r;return(r=(e=Fo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Fo[this.storageKey]=Object.assign(Object.assign({},Fo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Fo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fo[this.storageKey]=Object.assign(Object.assign({},Fo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},$N),e);if(this.storageKey=o.storageKey,this.instanceID=(r=$p.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,$p.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Mr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Jm({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Y4(o.fetch),this.lock=o.lock||h_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Mr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Q4:this.lock=h_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new VN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:K4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=c_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=c_(this.memoryStorage)),Mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$4}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Mr()&&(r=eN(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Mr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),q4(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return at(r)?this._returnResult({error:r}):this._returnResult({error:new ai("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Un}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(o){if(at(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:p,password:h,options:g}=e;let w=null,R=null;this.flowType==="pkce"&&([w,R]=await Lo(this.storage,this.storageKey)),o=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:p,password:h,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:w,code_challenge_method:R},xform:Un})}else if("phone"in e){const{phone:p,password:h,options:g}=e;o=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:h,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(s=g?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Un})}else throw new fl("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await Nr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const c=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(o){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),at(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:l,options:u}=e;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:l_})}else if("phone"in e){const{phone:o,password:l,options:u}=e;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:l_})}else throw new fl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new Fi;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(at(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,l,u,c,f,p,h,g;let w,R;if("message"in e)w=e.message,R=e.signature;else{const{chain:b,wallet:S,statement:E,options:P}=e;let y;if(Mr())if(typeof S=="object")y=S;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")y=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=S}const j=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href),L=await y.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=Z4(L[0]);let U=(n=P?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!U){const ee=await y.request({method:"eth_chainId"});U=SN(ee)}const $={domain:j.host,address:G,statement:E,uri:j.href,version:"1",chainId:U,nonce:(s=P?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=P?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=P?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=P?.signInWithEthereum)===null||p===void 0?void 0:p.resources};w=CN($),R=await y.request({method:"personal_sign",params:[EN(w),G]})}try{const{data:b,error:S}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:R},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Un});if(S)throw S;if(!b||!b.session||!b.user){const E=new Fi;return this._returnResult({data:{user:null,session:null},error:E})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:S})}catch(b){if(at(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var r,n,s,o,l,u,c,f,p,h,g,w;let R,b;if("message"in e)R=e.message,b=e.signature;else{const{chain:S,wallet:E,statement:P,options:y}=e;let j;if(Mr())if(typeof E=="object")j=E;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))j=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=E}const L=new URL((r=y?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const G=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),P?{statement:P}:null));let U;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")U=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)U=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)R=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),b=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${L.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(s=(n=y?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=y?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((l=y?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((u=y?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((f=y?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(p=y?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const G=await j.signMessage(new TextEncoder().encode(R),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=G}}try{const{data:S,error:E}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:qi(b)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Un});if(E)throw E;if(!S||!S.session||!S.user){const P=new Fi;return this._returnResult({data:{user:null,session:null},error:P})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:E})}catch(S){if(at(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await ji(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:l}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Un});if(await Nr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new Fi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),at(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:l}=e,u=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Un}),{data:c,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c||!c.session||!c.user){const p=new Fi;return this._returnResult({data:{user:null,session:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:f})}catch(r){if(at(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,o,l;try{if("email"in e){const{email:u,options:c}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Lo(this.storage,this.storageKey));const{error:h}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:u,options:c}=e,{data:f,error:p}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=c?.data)!==null&&s!==void 0?s:{},create_user:(o=c?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(l=c?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new fl("You must provide either an email or phone number.")}catch(u){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),at(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Un});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,f=l.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(s){if(at(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,o,l;try{let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Lo(this.storage,this.storageKey));const f=await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:vN});return!((o=f.data)===null||o===void 0)&&o.url&&Mr()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),at(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new nn;const{error:s}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(at(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:l}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:l,error:u}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new fl("You must provide either an email or phone number and a type")}catch(r){if(at(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<s0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await ji(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=o0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=hN(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:li}):await this._useSession(async r=>{var n,s,o;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:li})})}catch(r){if(at(r))return W4(r)&&(await this._removeSession(),await Nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new nn;const l=s.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await Lo(this.storage,this.storageKey));const{data:f,error:p}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:l.access_token,xform:li});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),at(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nn;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:l}=i0(e.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{data:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(at(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:u}=r;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new nn;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(at(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Mr())throw new hl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fp("No code detected.");const{data:P,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:c,token_type:f}=e;if(!o||!u||!l||!f)throw new hl("No session defined in URL");const p=Math.round(Date.now()/1e3),h=parseInt(u);let g=p+h;c&&(g=parseInt(c));const w=g-p;w*1e3<=Ho&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${h}s`);const R=g-h;p-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,g,p):p-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,g,p);const{data:b,error:S}=await this._getUser(o);if(S)throw S;const E={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:g,refresh_token:l,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(n){if(at(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(z4(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=JP(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Lo(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),at(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var l,u,c,f,p;const{data:h,error:g}=o;if(g)throw g;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(f=h.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return Mr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(at(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:l,provider:u,token:c,access_token:f,nonce:p}=e,h=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:c,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Un}),{data:g,error:w}=h;return w?this._returnResult({data:{user:null,session:null},error:w}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Fi}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:w}))}catch(s){if(await Nr(this.storage,`${this.storageKey}-code-verifier`),at(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:l}=r;if(l)throw l;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await nN(async s=>(s>0&&await rN(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Un})),(s,o)=>{const l=200*Math.pow(2,s);return o&&jc(o)&&Date.now()+l-n<Ho})}catch(n){if(this._debug(r,"error",n),at(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Mr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ji(this.storage,this.storageKey);if(s&&this.userStorage){let l=await ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await zo(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l?.user)!==null&&e!==void 0?e:o0()}else if(s&&!s.user&&!s.user){const l=await ji(this.storage,this.storageKey+"-user");l&&l?.user?(s.user=l.user,await Nr(this.storage,this.storageKey+"-user"),await zo(this.storage,this.storageKey,s)):s.user=o0()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<s0;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${s0}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),jc(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(s.access_token);!u&&l?.user?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dd;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new nn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),at(o)){const l={data:null,error:o};return jc(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Nr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zo(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=o_(s);await zo(this.storage,this.storageKey,o)}else{const s=o_(r);await zo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Nr(this.storage,this.storageKey),await Nr(this.storage,this.storageKey+"-code-verifier"),await Nr(this.storage,this.storageKey+"-user"),this.userStorage&&await Nr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ho);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ho);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ho}ms, refresh threshold is ${Lp} ticks`),s<=Lp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof e1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,l]=await Lo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await ht(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:f}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c?.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?NN(e.webauthn.credential_response):MN(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:c}=await ht(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:c}))})}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=await ht(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:ON(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:PN(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r?.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=i0(n.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ht(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new nn})})}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new nn});const l=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Mr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new nn});const l=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Mr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ht(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new nn})})}catch(e){if(at(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ht(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new nn})})}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+WP>s)return n;const{data:o,error:l}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:w,error:R}=await this.getSession();if(R||!w.session)return this._returnResult({data:null,error:R});n=w.session.access_token}const{header:s,payload:o,signature:l,raw:{header:u,payload:c}}=i0(n);r?.allowExpired||cN(o.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:o,header:s,signature:l},error:null}}const p=dN(s.alg),h=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,h,l,QP(`${u}.${c}`)))throw new ad("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}};t1.nextInstanceID={};const UN=Jm,HN=t1,zN=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:UN,AuthApiError:H4,AuthClient:HN,AuthError:ca,AuthImplicitGrantRedirectError:hl,AuthInvalidCredentialsError:fl,AuthInvalidJwtError:ad,AuthInvalidTokenResponseError:Fi,AuthPKCEGrantCodeExchangeError:Fp,AuthRetryableFetchError:od,AuthSessionMissingError:nn,AuthUnknownError:ai,AuthWeakPasswordError:Vp,CustomAuthError:Is,GoTrueAdminApi:Jm,GoTrueClient:t1,NavigatorLockAcquireTimeoutError:X4,SIGN_OUT_SCOPES:Lc,isAuthApiError:z4,isAuthError:at,isAuthImplicitGrantRedirectError:q4,isAuthRetryableFetchError:jc,isAuthSessionMissingError:W4,isAuthWeakPasswordError:qP,lockInternals:$i,navigatorLock:Q4,processLock:bN},Symbol.toStringTag,{value:"Module"})),eS=jl(zN);var p_;function WN(){if(p_)return cl;p_=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.SupabaseAuthClient=void 0;const t=eS;let e=class extends t.AuthClient{constructor(n){super(n)}};return cl.SupabaseAuthClient=e,cl}var m_;function g_(){if(m_)return oc;m_=1,Object.defineProperty(oc,"__esModule",{value:!0});const t=f4,e=y4(),r=R4,n=jP,s=BP(),o=FP(),l=VP(),u=WN();class c{constructor(p,h,g){var w,R,b;this.supabaseUrl=p,this.supabaseKey=h;const S=(0,l.validateSupabaseUrl)(p);if(!h)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const E=`sb-${S.hostname.split(".")[0]}-auth-token`,P={db:s.DEFAULT_DB_OPTIONS,realtime:s.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},s.DEFAULT_AUTH_OPTIONS),{storageKey:E}),global:s.DEFAULT_GLOBAL_OPTIONS},y=(0,l.applySettingDefaults)(g??{},P);this.storageKey=(w=y.auth.storageKey)!==null&&w!==void 0?w:"",this.headers=(R=y.global.headers)!==null&&R!==void 0?R:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(j,L)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(L)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((b=y.auth)!==null&&b!==void 0?b:{},this.headers,y.global.fetch),this.fetch=(0,o.fetchWithAuth)(h,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(j=>this.realtime.setAuth(j)).catch(j=>console.warn("Failed to set initial Realtime auth token:",j)),this.rest=new e.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,g?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(p){return this.rest.from(p)}schema(p){return this.rest.schema(p)}rpc(p,h={},g={head:!1,get:!1,count:void 0}){return this.rest.rpc(p,h,g)}channel(p,h={config:{}}){return this.realtime.channel(p,h)}getChannels(){return this.realtime.getChannels()}removeChannel(p){return this.realtime.removeChannel(p)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var p,h;if(this.accessToken)return await this.accessToken();const{data:g}=await this.auth.getSession();return(h=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&h!==void 0?h:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:p,persistSession:h,detectSessionInUrl:g,storage:w,userStorage:R,storageKey:b,flowType:S,lock:E,debug:P,throwOnError:y},j,L){const G={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},G),j),storageKey:b,autoRefreshToken:p,persistSession:h,detectSessionInUrl:g,storage:w,userStorage:R,flowType:S,lock:E,debug:P,throwOnError:y,fetch:L,hasCustomAuthorizationHeader:Object.keys(this.headers).some(U=>U.toLowerCase()==="authorization")})}_initRealtimeClient(p){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},p),{params:Object.assign({apikey:this.supabaseKey},p?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((h,g)=>{this._handleTokenChanged(h,"CLIENT",g?.access_token)})}_handleTokenChanged(p,h,g){(p==="TOKEN_REFRESHED"||p==="SIGNED_IN")&&this.changedAccessToken!==g?(this.changedAccessToken=g,this.realtime.setAuth(g)):p==="SIGNED_OUT"&&(this.realtime.setAuth(),h=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return oc.default=c,oc}var v_;function qN(){return v_||(v_=1,(function(t){var e=Ss&&Ss.__createBinding||(Object.create?(function(p,h,g,w){w===void 0&&(w=g);var R=Object.getOwnPropertyDescriptor(h,g);(!R||("get"in R?!h.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(p,w,R)}):(function(p,h,g,w){w===void 0&&(w=g),p[w]=h[g]})),r=Ss&&Ss.__exportStar||function(p,h){for(var g in p)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&e(h,p,g)},n=Ss&&Ss.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=n(g_());r(eS,t);var o=y4();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var l=f4;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),r(R4,t);var u=g_();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(u).default}});const c=(p,h,g)=>new s.default(p,h,g);t.createClient=c;function f(){if(typeof window<"u"||typeof process>"u")return!1;const p=process.version;if(p==null)return!1;const h=p.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Ss)),Ss}var tS=qN();const rS=ha(tS),GN=Db({__proto__:null,default:rS},[tS]),{PostgrestError:NH,FunctionsHttpError:MH,FunctionsFetchError:IH,FunctionsRelayError:DH,FunctionsError:jH,FunctionRegion:LH,SupabaseClient:BH,createClient:KN,GoTrueAdminApi:FH,GoTrueClient:VH,AuthAdminApi:$H,AuthClient:UH,navigatorLock:HH,NavigatorLockAcquireTimeoutError:zH,lockInternals:WH,processLock:qH,SIGN_OUT_SCOPES:GH,AuthError:KH,AuthApiError:YH,AuthUnknownError:XH,CustomAuthError:QH,AuthSessionMissingError:ZH,AuthInvalidTokenResponseError:JH,AuthInvalidCredentialsError:ez,AuthImplicitGrantRedirectError:tz,AuthPKCEGrantCodeExchangeError:rz,AuthRetryableFetchError:nz,AuthWeakPasswordError:sz,AuthInvalidJwtError:iz,isAuthError:oz,isAuthApiError:az,isAuthSessionMissingError:lz,isAuthImplicitGrantRedirectError:uz,isAuthRetryableFetchError:cz,isAuthWeakPasswordError:dz,RealtimePresence:fz,RealtimeChannel:hz,RealtimeClient:pz,REALTIME_LISTEN_TYPES:mz,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:gz,REALTIME_PRESENCE_LISTEN_EVENTS:vz,REALTIME_SUBSCRIBE_STATES:yz,REALTIME_CHANNEL_STATES:_z}=rS||GN,YN=`https://${c4}.supabase.co`,XN=UO,ci=KN(YN,XN,{auth:{flowType:"pkce",autoRefreshToken:!0,detectSessionInUrl:!0,persistSession:!0}});function QN(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const ZN=t=>{switch(t){case"success":return tM;case"info":return nM;case"warning":return rM;case"error":return sM;default:return null}},JN=Array(12).fill(0),eM=({visible:t,className:e})=>De.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},De.createElement("div",{className:"sonner-spinner"},JN.map((r,n)=>De.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),tM=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rM=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nM=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sM=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iM=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},De.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),De.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oM=()=>{const[t,e]=De.useState(document.hidden);return De.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Up=1;class aM{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...s}=e,o=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Up++,l=this.toasts.find(c=>c.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:n}),{...c,...e,id:o,dismissible:u,title:n}):c):this.addToast({title:n,...s,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=n!==void 0,l;const u=s.then(async f=>{if(l=["resolve",f],De.isValidElement(f))o=!1,this.create({id:n,type:"default",message:f});else if(uM(f)&&!f.ok){o=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,R=typeof h=="object"&&!De.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...R})}else if(f instanceof Error){o=!1;const h=typeof r.error=="function"?await r.error(f):r.error,g=typeof r.description=="function"?await r.description(f):r.description,R=typeof h=="object"&&!De.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...R})}else if(r.success!==void 0){o=!1;const h=typeof r.success=="function"?await r.success(f):r.success,g=typeof r.description=="function"?await r.description(f):r.description,R=typeof h=="object"&&!De.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:g,...R})}}).catch(async f=>{if(l=["reject",f],r.error!==void 0){o=!1;const p=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,w=typeof p=="object"&&!De.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:h,...w})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((f,p)=>u.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{const n=r?.id||Up++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const sn=new aM,lM=(t,e)=>{const r=e?.id||Up++;return sn.addToast({title:t,...e,id:r}),r},uM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",cM=lM,dM=()=>sn.toasts,fM=()=>sn.getActiveToasts(),Tt=Object.assign(cM,{success:sn.success,info:sn.info,warning:sn.warning,error:sn.error,custom:sn.custom,message:sn.message,promise:sn.promise,dismiss:sn.dismiss,loading:sn.loading},{getHistory:dM,getToasts:fM});QN("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function mc(t){return t.label!==void 0}const hM=3,pM="24px",mM="16px",y_=4e3,gM=356,vM=14,yM=45,_M=200;function ns(...t){return t.filter(Boolean).join(" ")}function wM(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const bM=t=>{var e,r,n,s,o,l,u,c,f;const{invert:p,toast:h,unstyled:g,interacting:w,setHeights:R,visibleToasts:b,heights:S,index:E,toasts:P,expanded:y,removeToast:j,defaultRichColors:L,closeButton:G,style:U,cancelButtonStyle:$,actionButtonStyle:ee,className:ie="",descriptionClassName:re="",duration:z,position:ve,gap:K,expandByDefault:B,classNames:k,icons:I,closeButtonAriaLabel:M="Close toast"}=t,[H,D]=De.useState(null),[v,_]=De.useState(null),[x,O]=De.useState(!1),[F,Q]=De.useState(!1),[X,W]=De.useState(!1),[se,le]=De.useState(!1),[be,Ce]=De.useState(!1),[Te,je]=De.useState(0),[Ue,lt]=De.useState(0),Et=De.useRef(h.duration||z||y_),V=De.useRef(null),Y=De.useRef(null),Le=E===0,Be=E+1<=b,We=h.type,Ge=h.dismissible!==!1,he=h.className||"",Ie=h.descriptionClassName||"",nt=De.useMemo(()=>S.findIndex(ut=>ut.toastId===h.id)||0,[S,h.id]),qe=De.useMemo(()=>{var ut;return(ut=h.closeButton)!=null?ut:G},[h.closeButton,G]),Ne=De.useMemo(()=>h.duration||z||y_,[h.duration,z]),yt=De.useRef(0),xt=De.useRef(0),bt=De.useRef(0),At=De.useRef(null),[Lt,Nt]=ve.split("-"),Bt=De.useMemo(()=>S.reduce((ut,Z,J)=>J>=nt?ut:ut+Z.height,0),[S,nt]),ur=oM(),rr=h.invert||p,mr=We==="loading";xt.current=De.useMemo(()=>nt*K+Bt,[nt,Bt]),De.useEffect(()=>{Et.current=Ne},[Ne]),De.useEffect(()=>{O(!0)},[]),De.useEffect(()=>{const ut=Y.current;if(ut){const Z=ut.getBoundingClientRect().height;return lt(Z),R(J=>[{toastId:h.id,height:Z,position:h.position},...J]),()=>R(J=>J.filter(ne=>ne.toastId!==h.id))}},[R,h.id]),De.useLayoutEffect(()=>{if(!x)return;const ut=Y.current,Z=ut.style.height;ut.style.height="auto";const J=ut.getBoundingClientRect().height;ut.style.height=Z,lt(J),R(ne=>ne.find(de=>de.toastId===h.id)?ne.map(de=>de.toastId===h.id?{...de,height:J}:de):[{toastId:h.id,height:J,position:h.position},...ne])},[x,h.title,h.description,R,h.id,h.jsx,h.action,h.cancel]);const or=De.useCallback(()=>{Q(!0),je(xt.current),R(ut=>ut.filter(Z=>Z.toastId!==h.id)),setTimeout(()=>{j(h)},_M)},[h,j,R,xt]);De.useEffect(()=>{if(h.promise&&We==="loading"||h.duration===1/0||h.type==="loading")return;let ut;return y||w||ur?(()=>{if(bt.current<yt.current){const ne=new Date().getTime()-yt.current;Et.current=Et.current-ne}bt.current=new Date().getTime()})():(()=>{Et.current!==1/0&&(yt.current=new Date().getTime(),ut=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),or()},Et.current))})(),()=>clearTimeout(ut)},[y,w,h,We,ur,or]),De.useEffect(()=>{h.delete&&(or(),h.onDismiss==null||h.onDismiss.call(h,h))},[or,h.delete]);function kr(){var ut;if(I?.loading){var Z;return De.createElement("div",{className:ns(k?.loader,h==null||(Z=h.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":We==="loading"},I.loading)}return De.createElement(eM,{className:ns(k?.loader,h==null||(ut=h.classNames)==null?void 0:ut.loader),visible:We==="loading"})}const Kr=h.icon||I?.[We]||ZN(We);var xr,Nn;return De.createElement("li",{tabIndex:0,ref:Y,className:ns(ie,he,k?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,k?.default,k?.[We],h==null||(r=h.classNames)==null?void 0:r[We]),"data-sonner-toast":"","data-rich-colors":(xr=h.richColors)!=null?xr:L,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":x,"data-promise":!!h.promise,"data-swiped":be,"data-removed":F,"data-visible":Be,"data-y-position":Lt,"data-x-position":Nt,"data-index":E,"data-front":Le,"data-swiping":X,"data-dismissible":Ge,"data-type":We,"data-invert":rr,"data-swipe-out":se,"data-swipe-direction":v,"data-expanded":!!(y||B&&x),"data-testid":h.testId,style:{"--index":E,"--toasts-before":E,"--z-index":P.length-E,"--offset":`${F?Te:xt.current}px`,"--initial-height":B?"auto":`${Ue}px`,...U,...h.style},onDragEnd:()=>{W(!1),D(null),At.current=null},onPointerDown:ut=>{ut.button!==2&&(mr||!Ge||(V.current=new Date,je(xt.current),ut.target.setPointerCapture(ut.pointerId),ut.target.tagName!=="BUTTON"&&(W(!0),At.current={x:ut.clientX,y:ut.clientY})))},onPointerUp:()=>{var ut,Z,J;if(se||!Ge)return;At.current=null;const ne=Number(((ut=Y.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ae=Number(((Z=Y.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),de=new Date().getTime()-((J=V.current)==null?void 0:J.getTime()),te=H==="x"?ne:ae,fe=Math.abs(te)/de;if(Math.abs(te)>=yM||fe>.11){je(xt.current),h.onDismiss==null||h.onDismiss.call(h,h),_(H==="x"?ne>0?"right":"left":ae>0?"down":"up"),or(),le(!0);return}else{var me,ce;(me=Y.current)==null||me.style.setProperty("--swipe-amount-x","0px"),(ce=Y.current)==null||ce.style.setProperty("--swipe-amount-y","0px")}Ce(!1),W(!1),D(null)},onPointerMove:ut=>{var Z,J,ne;if(!At.current||!Ge||((Z=window.getSelection())==null?void 0:Z.toString().length)>0)return;const de=ut.clientY-At.current.y,te=ut.clientX-At.current.x;var fe;const me=(fe=t.swipeDirections)!=null?fe:wM(ve);!H&&(Math.abs(te)>1||Math.abs(de)>1)&&D(Math.abs(te)>Math.abs(de)?"x":"y");let ce={x:0,y:0};const Se=ge=>1/(1.5+Math.abs(ge)/20);if(H==="y"){if(me.includes("top")||me.includes("bottom"))if(me.includes("top")&&de<0||me.includes("bottom")&&de>0)ce.y=de;else{const ge=de*Se(de);ce.y=Math.abs(ge)<Math.abs(de)?ge:de}}else if(H==="x"&&(me.includes("left")||me.includes("right")))if(me.includes("left")&&te<0||me.includes("right")&&te>0)ce.x=te;else{const ge=te*Se(te);ce.x=Math.abs(ge)<Math.abs(te)?ge:te}(Math.abs(ce.x)>0||Math.abs(ce.y)>0)&&Ce(!0),(J=Y.current)==null||J.style.setProperty("--swipe-amount-x",`${ce.x}px`),(ne=Y.current)==null||ne.style.setProperty("--swipe-amount-y",`${ce.y}px`)}},qe&&!h.jsx&&We!=="loading"?De.createElement("button",{"aria-label":M,"data-disabled":mr,"data-close-button":!0,onClick:mr||!Ge?()=>{}:()=>{or(),h.onDismiss==null||h.onDismiss.call(h,h)},className:ns(k?.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(Nn=I?.close)!=null?Nn:iM):null,(We||h.icon||h.promise)&&h.icon!==null&&(I?.[We]!==null||h.icon)?De.createElement("div",{"data-icon":"",className:ns(k?.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||kr():null,h.type!=="loading"?Kr:null):null,De.createElement("div",{"data-content":"",className:ns(k?.content,h==null||(o=h.classNames)==null?void 0:o.content)},De.createElement("div",{"data-title":"",className:ns(k?.title,h==null||(l=h.classNames)==null?void 0:l.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?De.createElement("div",{"data-description":"",className:ns(re,Ie,k?.description,h==null||(u=h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),De.isValidElement(h.cancel)?h.cancel:h.cancel&&mc(h.cancel)?De.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||$,onClick:ut=>{mc(h.cancel)&&Ge&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,ut),or())},className:ns(k?.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,De.isValidElement(h.action)?h.action:h.action&&mc(h.action)?De.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||ee,onClick:ut=>{mc(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,ut),!ut.defaultPrevented&&or())},className:ns(k?.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function __(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function xM(t,e){const r={};return[t,e].forEach((n,s)=>{const o=s===1,l=o?"--mobile-offset":"--offset",u=o?mM:pM;function c(f){["top","right","bottom","left"].forEach(p=>{r[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${l}-${f}`]=u:r[`${l}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):c(u)}),r}const SM=De.forwardRef(function(e,r){const{id:n,invert:s,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:c,className:f,offset:p,mobileOffset:h,theme:g="light",richColors:w,duration:R,style:b,visibleToasts:S=hM,toastOptions:E,dir:P=__(),gap:y=vM,icons:j,containerAriaLabel:L="Notifications"}=e,[G,U]=De.useState([]),$=De.useMemo(()=>n?G.filter(x=>x.toasterId===n):G.filter(x=>!x.toasterId),[G,n]),ee=De.useMemo(()=>Array.from(new Set([o].concat($.filter(x=>x.position).map(x=>x.position)))),[$,o]),[ie,re]=De.useState([]),[z,ve]=De.useState(!1),[K,B]=De.useState(!1),[k,I]=De.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=De.useRef(null),H=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=De.useRef(null),v=De.useRef(!1),_=De.useCallback(x=>{U(O=>{var F;return(F=O.find(Q=>Q.id===x.id))!=null&&F.delete||sn.dismiss(x.id),O.filter(({id:Q})=>Q!==x.id)})},[]);return De.useEffect(()=>sn.subscribe(x=>{if(x.dismiss){requestAnimationFrame(()=>{U(O=>O.map(F=>F.id===x.id?{...F,delete:!0}:F))});return}setTimeout(()=>{tx.flushSync(()=>{U(O=>{const F=O.findIndex(Q=>Q.id===x.id);return F!==-1?[...O.slice(0,F),{...O[F],...x},...O.slice(F+1)]:[x,...O]})})})}),[G]),De.useEffect(()=>{if(g!=="system"){I(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;const x=window.matchMedia("(prefers-color-scheme: dark)");try{x.addEventListener("change",({matches:O})=>{I(O?"dark":"light")})}catch{x.addListener(({matches:F})=>{try{I(F?"dark":"light")}catch(Q){console.error(Q)}})}},[g]),De.useEffect(()=>{G.length<=1&&ve(!1)},[G]),De.useEffect(()=>{const x=O=>{var F;if(l.every(W=>O[W]||O.code===W)){var X;ve(!0),(X=M.current)==null||X.focus()}O.code==="Escape"&&(document.activeElement===M.current||(F=M.current)!=null&&F.contains(document.activeElement))&&ve(!1)};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[l]),De.useEffect(()=>{if(M.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,v.current=!1)}},[M.current]),De.createElement("section",{ref:r,"aria-label":`${L} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ee.map((x,O)=>{var F;const[Q,X]=x.split("-");return $.length?De.createElement("ol",{key:x,dir:P==="auto"?__():P,tabIndex:-1,ref:M,className:f,"data-sonner-toaster":!0,"data-sonner-theme":k,"data-y-position":Q,"data-x-position":X,style:{"--front-toast-height":`${((F=ie[0])==null?void 0:F.height)||0}px`,"--width":`${gM}px`,"--gap":`${y}px`,...b,...xM(p,h)},onBlur:W=>{v.current&&!W.currentTarget.contains(W.relatedTarget)&&(v.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||v.current||(v.current=!0,D.current=W.relatedTarget)},onMouseEnter:()=>ve(!0),onMouseMove:()=>ve(!0),onMouseLeave:()=>{K||ve(!1)},onDragEnd:()=>ve(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},$.filter(W=>!W.position&&O===0||W.position===x).map((W,se)=>{var le,be;return De.createElement(bM,{key:W.id,icons:j,index:se,toast:W,defaultRichColors:w,duration:(le=E?.duration)!=null?le:R,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:s,visibleToasts:S,closeButton:(be=E?.closeButton)!=null?be:c,interacting:K,position:x,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:_,toasts:$.filter(Ce=>Ce.position==W.position),heights:ie.filter(Ce=>Ce.position==W.position),setHeights:re,expandByDefault:u,gap:y,expanded:z,swipeDirections:e.swipeDirections})})):null}))}),Ds=`https://${c4}.supabase.co/functions/v1/make-server-153b1965`;async function EM(){const{data:{session:t}}=await ci.auth.getSession();return t?.access_token||null}async function CM(){await ci.auth.signOut(),Tt.error("Session expired. Please log in again."),window.location.href=window.location.origin}async function js(t,e={}){const r=await EM();if(!r)throw new Error("Not authenticated");const n=await fetch(t,{...e,headers:{Authorization:`Bearer ${r}`,...e.headers}});if(n.status===401)throw await CM(),new Error("Session expired. Please log in again.");return n}async function TM(){const t=await js(`${Ds}/settings`);if(!t.ok)throw new Error("Failed to fetch settings");return t.json()}async function RM(t){const e=await js(`${Ds}/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to save settings");return e.json()}async function kM(){const t=await js(`${Ds}/sounds`);if(!t.ok)throw new Error("Failed to fetch sounds");return t.json()}async function AM(t){const e=await js(`${Ds}/sounds/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sounds:t})});if(!e.ok)throw new Error("Failed to save sounds");return e.json()}async function OM(t){const e=await js(`${Ds}/sounds/${t}`,{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete sound");return e.json()}async function PM(t){const e=new FormData;e.append("file",t);const r=await js(`${Ds}/upload`,{method:"POST",body:e});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to upload file")}return r.json()}async function NM(){const t=await js(`${Ds}/storage-usage`);if(!t.ok)throw new Error("Failed to fetch storage usage");return t.json()}function pl(t,e=1){return(t/1048576).toFixed(e)+" MB"}async function MM(){const t=await js(`${Ds}/reset-to-defaults`,{method:"POST"});if(!t.ok)throw new Error("Failed to reset to defaults");return t.json()}async function IM(){const t=await js(`${Ds}/delete-account`,{method:"DELETE"});if(!t.ok)throw new Error("Failed to delete account");return t.json()}async function DM(t){try{return(await fetch(t,{method:"HEAD"})).headers.get("content-length")}catch(e){return console.error("Error fetching file size:",e),null}}async function jM(t){const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch audio");return e.arrayBuffer()}function LM({className:t,onClick:e}){const{t:r}=Pn(),n="https://www.buymeacoffee.com/hbhb",s=()=>{e?.()};return T.jsx(Pt,{asChild:!0,variant:"ghost",className:`group gap-2 text-sm text-foreground-primary hover:bg-surface-secondary ${t||""}`,children:T.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",onClick:s,children:[T.jsx(DC,{size:16,className:"transition-transform duration-200 group-hover:scale-110"}),T.jsx("span",{children:r("common.buyMeACoffee")})]})})}const r1=({isScrolled:t,isDarkMode:e,toggleTheme:r,user:n,masterVolume:s,onMasterVolumeChange:o,searchQuery:l,onSearchQueryChange:u,storageUsage:c,onSignIn:f,onSignOut:p,onResetToDefaults:h,onDeleteAccount:g,fileInputRef:w,onFileUpload:R,onAddAudioClick:b})=>{const{t:S}=Pn(),[E,P]=A.useState(!1),[y,j]=A.useState(!1),[L,G]=A.useState(!1),U=A.useRef(null);A.useRef(null);const $=A.useRef(s);A.useEffect(()=>{E&&U.current&&U.current.focus()},[E]);const ee=()=>{u(""),P(!1)};return T.jsx("header",{className:`sticky top-0 z-50 transition-all duration-300 bg-background ${t?"border-b border-border shadow-sm":""}`,children:T.jsxs("div",{className:"container mx-auto pl-[20px] pr-[16px] sm:px-4 h-[56px] md:h-16 flex items-center justify-between gap-2 md:gap-4 overflow-hidden",children:[!E&&T.jsx("button",{onClick:ee,className:"flex items-center gap-2 shrink-0 hover:opacity-70 transition-opacity",children:T.jsx("div",{className:"h-[32px] w-[112px]",children:T.jsx($O,{})})}),E&&T.jsxs("div",{className:"md:hidden flex-1 relative",children:[T.jsx(nd,{ref:U,type:"text",placeholder:S("header.searchPlaceholder"),className:"h-10 bg-surface-tertiary border-transparent focus:bg-card transition-all w-full pr-8",value:l,onChange:ie=>u(ie.target.value)}),l&&T.jsx("button",{onClick:()=>{u(""),U.current?.focus()},className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors p-1 rounded-full hover:bg-surface-secondary",children:T.jsx(xd,{size:16})})]}),T.jsxs("div",{className:"hidden md:flex items-center gap-2 shrink-0 ml-auto",children:[!1,T.jsxs("div",{className:"hidden xl:flex items-center gap-2 px-3 py-1.5 rounded-lg",children:[s===0?T.jsx(qo,{size:18,className:"text-foreground-secondary shrink-0"}):T.jsx(Wo,{size:18,className:"text-foreground-secondary shrink-0"}),T.jsx(yl,{value:[s],min:0,max:1,step:.05,onValueChange:ie=>o(ie[0]),onPointerDown:()=>{$.current=s},onValueCommit:ie=>{Ut({name:"event_volume_controlled",params:{volume_type:"master",source_id:"master",prev_vol:$.current,curr_vol:ie[0]}})},className:"w-28"}),T.jsxs("span",{className:"text-xs font-mono text-foreground-secondary min-w-[2rem] text-right",children:[Math.round(s*100),"%"]})]}),T.jsxs(ea,{children:[T.jsx(Yi,{asChild:!0,children:T.jsx(Pt,{variant:"ghost",size:"icon",className:"xl:hidden rounded-full hover:bg-gray-200 dark:hover:bg-[#323234] text-foreground-secondary hover:text-foreground-primary",children:s===0?T.jsx(qo,{size:24}):T.jsx(Wo,{size:24})})}),T.jsx(Xi,{className:"w-80 p-4 bg-card border-surface-border",align:"end",children:T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("label",{className:"text-sm font-medium text-foreground-primary",children:S("header.masterVolume")}),T.jsxs("span",{className:"text-sm font-mono text-foreground-secondary",children:[Math.round(s*100),"%"]})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[s===0?T.jsx(qo,{size:18,className:"text-foreground-secondary shrink-0"}):T.jsx(Wo,{size:18,className:"text-foreground-secondary shrink-0"}),T.jsx(yl,{value:[s],min:0,max:1,step:.01,onValueChange:ie=>o(ie[0]),onPointerDown:()=>{$.current=s},onValueCommit:ie=>{Ut({name:"event_volume_controlled",params:{volume_type:"master",source_id:"master",prev_vol:$.current,curr_vol:ie[0]}})},className:"flex-1"})]})]})})]}),T.jsx(Pt,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full hover:bg-gray-200 dark:hover:bg-[#323234] text-foreground-secondary hover:text-foreground-primary",children:e?T.jsx(Uy,{size:24}):T.jsx(By,{size:24})}),T.jsx(V2,{}),n?T.jsxs(ea,{open:y,onOpenChange:j,children:[T.jsx(Yi,{asChild:!0,children:T.jsx("button",{className:"w-9 h-9 rounded-full overflow-hidden border-2 border-gray-200 dark:border-[#323234] hover:border-gray-300 dark:hover:border-[#404042] transition-colors shrink-0 mr-1",children:n.user_metadata?.avatar_url||n.user_metadata?.picture?T.jsx("img",{src:n.user_metadata?.avatar_url||n.user_metadata?.picture,alt:n.email||"User",className:"w-full h-full object-cover"}):T.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-[#323234] flex items-center justify-center",children:T.jsx(iT,{size:18,className:"text-foreground-secondary"})})})}),T.jsx(Xi,{className:"w-64 p-3 bg-card border-surface-border",align:"end",children:T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"px-2 py-2",children:[T.jsx("p",{className:"text-xs text-foreground-secondary mb-1",children:S("header.signedInAs")}),T.jsx("p",{className:"text-sm font-medium text-foreground-primary truncate",children:n.email})]}),T.jsxs("div",{className:"px-3 py-3 bg-surface-tertiary rounded-lg",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("p",{className:"text-xs font-medium text-foreground-primary",children:S("header.storage")}),T.jsxs("span",{className:"text-xs font-mono text-foreground-secondary",children:[Math.round(c?.usagePercent||0),"%"]})]}),T.jsx("div",{className:"w-full bg-black/10 dark:bg-white/10 rounded-full h-2.5 overflow-hidden mb-2",children:T.jsx("div",{className:"h-full rounded-full transition-all duration-300 bg-primary",style:{width:`${Math.min(c?.usagePercent||0,100)}%`}})}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{className:"text-xs font-mono text-foreground-primary",children:pl(c?.currentUsage||0)}),T.jsxs("span",{className:"text-xs font-mono text-foreground-tertiary",children:["/ ",pl(c?.maxStorage||15*1024*1024)]})]})]}),T.jsx("div",{className:"border-t dark:border-[#323234]"}),T.jsxs(Pt,{onClick:()=>{j(!1),h()},variant:"ghost",className:"w-full justify-start gap-2 text-sm text-foreground-primary hover:bg-surface-secondary",children:[T.jsx(Vy,{size:16}),S("header.resetToDefaults")]}),T.jsx(LM,{className:"w-full justify-start"}),T.jsxs(Pt,{onClick:p,variant:"ghost",className:"w-full justify-start gap-2 text-sm text-foreground-primary hover:bg-surface-secondary",children:[T.jsx(Ly,{size:16}),S("header.signOut")]}),T.jsx("div",{className:"border-t dark:border-[#323234]"}),T.jsxs(Pt,{onClick:()=>{j(!1),g()},variant:"ghost",className:"w-full justify-start gap-2 text-sm text-muted-foreground hover:text-foreground hover:bg-muted/50",children:[T.jsx(Wc,{size:16}),S("header.deleteAccount")]})]})})]}):T.jsxs(Pt,{onClick:()=>{Ut({name:"click_signup",params:{trigger_source:"Header_btn"}}),f()},variant:"outline",className:"gap-2 text-sm mr-[4px] mt-[0px] mb-[0px] ml-[0px]",children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"currentColor"}),T.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"currentColor"}),T.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"currentColor"}),T.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"currentColor"})]}),S("header.signInWithGoogle")]}),T.jsx("input",{type:"file",ref:w,className:"hidden",accept:"audio/*",multiple:!0,onChange:R}),T.jsxs(Pt,{onClick:()=>{Ut({name:"click_add_sound",params:{method:"header"}}),b()},className:"gap-2 shadow-lg",children:[T.jsx(fp,{size:18}),T.jsx("span",{className:"hidden sm:inline",children:S("header.addAudio")})]})]}),T.jsx("div",{className:"md:hidden flex items-center gap-2 shrink-0",children:E?T.jsx(Pt,{variant:"ghost",size:"sm",onClick:()=>P(!1),className:"text-sm",children:S("header.cancel")}):T.jsxs(T.Fragment,{children:[!1,T.jsxs(ea,{open:L,onOpenChange:G,children:[T.jsx(Yi,{asChild:!0,children:T.jsx(Pt,{variant:"ghost",className:"w-10 h-10 p-0 rounded-full hover:bg-gray-200 dark:hover:bg-[#323234] text-foreground-secondary hover:text-foreground-primary",children:T.jsx($C,{size:24})})}),T.jsx(Xi,{className:"w-[calc(100vw-32px)] max-w-[360px] p-2 bg-card border-surface-border",align:"end",sideOffset:8,collisionPadding:16,children:T.jsxs("div",{className:"space-y-1",children:[n?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"px-3 py-2 bg-surface-tertiary rounded-md mb-2",children:[T.jsx("p",{className:"text-xs text-foreground-secondary mb-1",children:S("header.signedInAs")}),T.jsx("p",{className:"text-sm font-medium text-foreground-primary truncate",children:n.email})]}),T.jsxs("div",{className:"px-3 py-3 bg-surface-tertiary rounded-md mb-2",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("p",{className:"text-xs font-medium text-foreground-primary",children:S("header.storage")}),T.jsxs("span",{className:"text-xs font-mono text-foreground-secondary",children:[Math.round(c?.usagePercent||0),"%"]})]}),T.jsx("div",{className:"w-full bg-black/10 dark:bg-white/10 rounded-full h-2.5 overflow-hidden mb-2",children:T.jsx("div",{className:"h-full rounded-full transition-all duration-300 bg-primary",style:{width:`${Math.min(c?.usagePercent||0,100)}%`}})}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{className:"text-xs font-mono text-foreground-primary",children:pl(c?.currentUsage||0)}),T.jsxs("span",{className:"text-xs font-mono text-foreground-tertiary",children:["/ ",pl(c?.maxStorage||15*1024*1024)]})]})]}),T.jsxs("button",{onClick:()=>{G(!1),h()},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground-primary rounded-md hover:bg-surface-tertiary transition-colors",children:[T.jsx(Vy,{size:16}),T.jsx("span",{children:S("header.resetToDefaults")})]}),T.jsxs("button",{onClick:p,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground-primary rounded-md hover:bg-surface-tertiary transition-colors",children:[T.jsx(Ly,{size:16,className:"text-foreground-secondary"}),T.jsx("span",{children:S("header.signOut")})]}),T.jsx("div",{className:"h-px bg-surface-border my-1"}),T.jsxs("button",{onClick:()=>{G(!1),g()},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-muted-foreground hover:text-foreground rounded-md hover:bg-muted/50 transition-colors",children:[T.jsx(Wc,{size:16}),T.jsx("span",{children:S("header.deleteAccount")})]}),T.jsx("div",{className:"h-px bg-surface-border my-1"})]}):T.jsxs(T.Fragment,{children:[T.jsxs("button",{onClick:()=>{Ut({name:"click_signup",params:{trigger_source:"Header_btn"}}),f()},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground-primary rounded-md hover:bg-surface-tertiary transition-colors",children:[T.jsx(BC,{size:16,className:"text-foreground-secondary"}),T.jsx("span",{children:S("header.signInWithGoogle")})]}),T.jsx("div",{className:"h-px bg-surface-border my-1"})]}),T.jsxs("div",{className:"px-3 py-2 rounded-md",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("label",{className:"text-sm font-medium text-foreground-primary",children:S("header.masterVolume")}),T.jsxs("span",{className:"text-xs font-mono text-foreground-secondary",children:[Math.round(s*100),"%"]})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[s===0?T.jsx(qo,{size:16,className:"text-foreground-secondary shrink-0"}):T.jsx(Wo,{size:16,className:"text-foreground-secondary shrink-0"}),T.jsx(yl,{value:[s],min:0,max:1,step:.01,onValueChange:ie=>o(ie[0]),className:"flex-1"})]})]}),T.jsx("div",{className:"h-px bg-surface-border my-1"}),T.jsxs("button",{onClick:r,className:"flex items-center justify-between w-full px-3 py-2 rounded-md hover:bg-surface-tertiary transition-colors",children:[T.jsx("span",{className:"text-sm font-medium text-foreground-primary",children:S("header.theme")}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-xs text-foreground-secondary",children:S(e?"header.themeDark":"header.themeLight")}),e?T.jsx(By,{size:16,className:"text-foreground-secondary"}):T.jsx(Uy,{size:16,className:"text-foreground-secondary"})]})]}),T.jsx("div",{className:"h-px bg-surface-border my-1"}),T.jsx(V2,{variant:"mobile"})]})})]}),T.jsx("input",{type:"file",ref:w,className:"hidden",accept:"audio/*",multiple:!0,onChange:R}),T.jsx(Pt,{onClick:()=>{Ut({name:"click_add_sound",params:{method:"header"}}),b()},size:"icon",className:"shadow-lg rounded-full",children:T.jsx(fp,{size:24})})]})})]})})},nS=A.createContext({dragDropManager:void 0});function Cn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var w_=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),b_=function(){return Math.random().toString(36).substring(7).split("").join(".")},x_={INIT:"@@redux/INIT"+b_(),REPLACE:"@@redux/REPLACE"+b_()};function BM(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function sS(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Cn(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Cn(1));return r(sS)(t,e)}if(typeof t!="function")throw new Error(Cn(2));var s=t,o=e,l=[],u=l,c=!1;function f(){u===l&&(u=l.slice())}function p(){if(c)throw new Error(Cn(3));return o}function h(b){if(typeof b!="function")throw new Error(Cn(4));if(c)throw new Error(Cn(5));var S=!0;return f(),u.push(b),function(){if(S){if(c)throw new Error(Cn(6));S=!1,f();var P=u.indexOf(b);u.splice(P,1),l=null}}}function g(b){if(!BM(b))throw new Error(Cn(7));if(typeof b.type>"u")throw new Error(Cn(8));if(c)throw new Error(Cn(9));try{c=!0,o=s(o,b)}finally{c=!1}for(var S=l=u,E=0;E<S.length;E++){var P=S[E];P()}return b}function w(b){if(typeof b!="function")throw new Error(Cn(10));s=b,g({type:x_.REPLACE})}function R(){var b,S=h;return b={subscribe:function(P){if(typeof P!="object"||P===null)throw new Error(Cn(11));function y(){P.next&&P.next(p())}y();var j=S(y);return{unsubscribe:j}}},b[w_]=function(){return this},b}return g({type:x_.INIT}),n={dispatch:g,subscribe:h,getState:p,replaceReducer:w},n[w_]=R,n}function wt(t,e,...r){if(FM()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;n=new Error(e.replace(/%s/g,function(){return r[s++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function FM(){return typeof process<"u"&&!0}function VM(t,e,r){return e.split(".").reduce((n,s)=>n&&n[s]?n[s]:r||null,t)}function $M(t,e){return t.filter(r=>r!==e)}function iS(t){return typeof t=="object"}function UM(t,e){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};t.forEach(n),e.forEach(n);const s=[];return r.forEach((o,l)=>{o===1&&s.push(l)}),s}function HM(t,e){return t.filter(r=>e.indexOf(r)>-1)}const n1="dnd-core/INIT_COORDS",jd="dnd-core/BEGIN_DRAG",s1="dnd-core/PUBLISH_DRAG_SOURCE",Ld="dnd-core/HOVER",Bd="dnd-core/DROP",Fd="dnd-core/END_DRAG";function S_(t,e){return{type:n1,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const zM={type:n1,payload:{clientOffset:null,sourceClientOffset:null}};function WM(t){return function(r=[],n={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:l}=n,u=t.getMonitor(),c=t.getRegistry();t.dispatch(S_(o)),qM(r,u,c);const f=YM(r,u);if(f==null){t.dispatch(zM);return}let p=null;if(o){if(!l)throw new Error("getSourceClientOffset must be defined");GM(l),p=l(f)}t.dispatch(S_(o,p));const g=c.getSource(f).beginDrag(u,f);if(g==null)return;KM(g),c.pinSource(f);const w=c.getSourceType(f);return{type:jd,payload:{itemType:w,item:g,sourceId:f,clientOffset:o||null,sourceClientOffset:p||null,isSourcePublic:!!s}}}}function qM(t,e,r){wt(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){wt(r.getSource(n),"Expected sourceIds to be registered.")})}function GM(t){wt(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function KM(t){wt(iS(t),"Item must be an object.")}function YM(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function XM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){XM(t,s,r[s])})}return t}function ZM(t){return function(r={}){const n=t.getMonitor(),s=t.getRegistry();JM(n),rI(n).forEach((l,u)=>{const c=eI(l,u,s,n),f={type:Bd,payload:{dropResult:QM({},r,c)}};t.dispatch(f)})}}function JM(t){wt(t.isDragging(),"Cannot call drop while not dragging."),wt(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function eI(t,e,r,n){const s=r.getTarget(t);let o=s?s.drop(n,t):void 0;return tI(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function tI(t){wt(typeof t>"u"||iS(t),"Drop result must either be an object or undefined.")}function rI(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function nI(t){return function(){const r=t.getMonitor(),n=t.getRegistry();sI(r);const s=r.getSourceId();return s!=null&&(n.getSource(s,!0).endDrag(r,s),n.unpinSource()),{type:Fd}}}function sI(t){wt(t.isDragging(),"Cannot call endDrag while not dragging.")}function Hp(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function iI(t){return function(r,{clientOffset:n}={}){oI(r);const s=r.slice(0),o=t.getMonitor(),l=t.getRegistry(),u=o.getItemType();return lI(s,l,u),aI(s,o,l),uI(s,o,l),{type:Ld,payload:{targetIds:s,clientOffset:n||null}}}}function oI(t){wt(Array.isArray(t),"Expected targetIds to be an array.")}function aI(t,e,r){wt(e.isDragging(),"Cannot call hover while not dragging."),wt(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const s=t[n];wt(t.lastIndexOf(s)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(s);wt(o,"Expected targetIds to be registered.")}}function lI(t,e,r){for(let n=t.length-1;n>=0;n--){const s=t[n],o=e.getTargetType(s);Hp(o,r)||t.splice(n,1)}}function uI(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function cI(t){return function(){if(t.getMonitor().isDragging())return{type:s1}}}function dI(t){return{beginDrag:WM(t),publishDragSource:cI(t),hover:iI(t),drop:ZM(t),endDrag:nI(t)}}class fI{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(o){return(...l)=>{const u=o.apply(e,l);typeof u<"u"&&r(u)}}const s=dI(this);return Object.keys(s).reduce((o,l)=>{const u=s[l];return o[l]=n(u),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function hI(t,e){return{x:t.x+e.x,y:t.y+e.y}}function oS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pI(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:oS(hI(e,n),r)}function mI(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:oS(e,r)}const _l=[],i1=[];_l.__IS_NONE__=!0;i1.__IS_ALL__=!0;function gI(t,e){return t===_l?!1:t===i1||typeof e>"u"?!0:HM(e,t).length>0}class vI{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;wt(typeof e=="function","listener must be a function."),wt(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const o=()=>{const l=this.store.getState(),u=l.stateId;try{u===s||u===s+1&&!gI(l.dirtyHandlerIds,n)||e()}finally{s=u}};return this.store.subscribe(o)}subscribeToOffsetChange(e){wt(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return wt(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(wt(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),s=this.getItemType();return Hp(n,s)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(wt(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),s=this.getItemType();return n!==s?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),o=this.getItemType();if(o&&!Hp(s,o))return!1;const l=this.getTargetIds();if(!l.length)return!1;const u=l.indexOf(e);return n?u===l.length-1:u>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return pI(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return mI(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const E_=typeof global<"u"?global:self,aS=E_.MutationObserver||E_.WebKitMutationObserver;function lS(t){return function(){const r=setTimeout(s,0),n=setInterval(s,50);function s(){clearTimeout(r),clearInterval(n),t()}}}function yI(t){let e=1;const r=new aS(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const _I=typeof aS=="function"?yI:lS;class wI{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,s=e.length-this.index;n<s;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=_I(this.flush),this.requestErrorThrow=lS(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class bI{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class xI{create(e){const r=this.freeTasks,n=r.length?r.pop():new bI(this.onError,s=>r[r.length]=s);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const uS=new wI,SI=new xI(uS.registerPendingError);function EI(t){uS.enqueueTask(SI.create(t))}const o1="dnd-core/ADD_SOURCE",a1="dnd-core/ADD_TARGET",l1="dnd-core/REMOVE_SOURCE",Vd="dnd-core/REMOVE_TARGET";function CI(t){return{type:o1,payload:{sourceId:t}}}function TI(t){return{type:a1,payload:{targetId:t}}}function RI(t){return{type:l1,payload:{sourceId:t}}}function kI(t){return{type:Vd,payload:{targetId:t}}}function AI(t){wt(typeof t.canDrag=="function","Expected canDrag to be a function."),wt(typeof t.beginDrag=="function","Expected beginDrag to be a function."),wt(typeof t.endDrag=="function","Expected endDrag to be a function.")}function OI(t){wt(typeof t.canDrop=="function","Expected canDrop to be a function."),wt(typeof t.hover=="function","Expected hover to be a function."),wt(typeof t.drop=="function","Expected beginDrag to be a function.")}function zp(t,e){if(e&&Array.isArray(t)){t.forEach(r=>zp(r,!1));return}wt(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Rn;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Rn||(Rn={}));let PI=0;function NI(){return PI++}function MI(t){const e=NI().toString();switch(t){case Rn.SOURCE:return`S${e}`;case Rn.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function C_(t){switch(t[0]){case"S":return Rn.SOURCE;case"T":return Rn.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function T_(t,e){const r=t.entries();let n=!1;do{const{done:s,value:[,o]}=r.next();if(o===e)return!0;n=!!s}while(!n);return!1}class II{addSource(e,r){zp(e),AI(r);const n=this.addHandler(Rn.SOURCE,e,r);return this.store.dispatch(CI(n)),n}addTarget(e,r){zp(e,!0),OI(r);const n=this.addHandler(Rn.TARGET,e,r);return this.store.dispatch(TI(n)),n}containsHandler(e){return T_(this.dragSources,e)||T_(this.dropTargets,e)}getSource(e,r=!1){return wt(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return wt(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return wt(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return wt(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return C_(e)===Rn.SOURCE}isTargetId(e){return C_(e)===Rn.TARGET}removeSource(e){wt(this.getSource(e),"Expected an existing source."),this.store.dispatch(RI(e)),EI(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){wt(this.getTarget(e),"Expected an existing target."),this.store.dispatch(kI(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);wt(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){wt(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const s=MI(e);return this.types.set(s,r),e===Rn.SOURCE?this.dragSources.set(s,n):e===Rn.TARGET&&this.dropTargets.set(s,n),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const DI=(t,e)=>t===e;function jI(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function LI(t,e,r=DI){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function BI(t=_l,e){switch(e.type){case Ld:break;case o1:case a1:case Vd:case l1:return _l;case jd:case s1:case Fd:case Bd:default:return i1}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,s=UM(r,n);if(!(s.length>0||!LI(r,n)))return _l;const l=n[n.length-1],u=r[r.length-1];return l!==u&&(l&&s.push(l),u&&s.push(u)),s}function FI(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){FI(t,s,r[s])})}return t}const R_={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function $I(t=R_,e){const{payload:r}=e;switch(e.type){case n1:case jd:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Ld:return jI(t.clientOffset,r.clientOffset)?t:VI({},t,{clientOffset:r.clientOffset});case Fd:case Bd:return R_;default:return t}}function UI(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){UI(t,s,r[s])})}return t}const HI={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function zI(t=HI,e){const{payload:r}=e;switch(e.type){case jd:return Vo({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case s1:return Vo({},t,{isSourcePublic:!0});case Ld:return Vo({},t,{targetIds:r.targetIds});case Vd:return t.targetIds.indexOf(r.targetId)===-1?t:Vo({},t,{targetIds:$M(t.targetIds,r.targetId)});case Bd:return Vo({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Fd:return Vo({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function WI(t=0,e){switch(e.type){case o1:case a1:return t+1;case l1:case Vd:return t-1;default:return t}}function qI(t=0){return t+1}function GI(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){GI(t,s,r[s])})}return t}function YI(t={},e){return{dirtyHandlerIds:BI(t.dirtyHandlerIds,{type:e.type,payload:KI({},e.payload,{prevTargetIds:VM(t,"dragOperation.targetIds",[])})}),dragOffset:$I(t.dragOffset,e),refCount:WI(t.refCount,e),dragOperation:zI(t.dragOperation,e),stateId:qI(t.stateId)}}function XI(t,e=void 0,r={},n=!1){const s=QI(n),o=new vI(s,new II(s)),l=new fI(s,o),u=t(l,e,r);return l.receiveBackend(u),l}function QI(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return sS(YI,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function ZI(t,e){if(t==null)return{};var r=JI(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JI(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}let k_=0;const Bc=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var eD=A.memo(function(e){var{children:r}=e,n=ZI(e,["children"]);const[s,o]=tD(n);return A.useEffect(()=>{if(o){const l=cS();return++k_,()=>{--k_===0&&(l[Bc]=null)}}},[]),T.jsx(nS.Provider,{value:s,children:r})});function tD(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=rD(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function rD(t,e=cS(),r,n){const s=e;return s[Bc]||(s[Bc]={dragDropManager:XI(t,e,r,n)}),s[Bc]}function cS(){return typeof global<"u"?global:window}var a0,A_;function nD(){return A_||(A_=1,a0=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=n;s--!==0;){var l=o[s];if(!t(e[l],r[l]))return!1}return!0}return e!==e&&r!==r}),a0}var sD=nD();const iD=ha(sD),eo=typeof window<"u"?A.useLayoutEffect:A.useEffect;function dS(t,e,r){const[n,s]=A.useState(()=>e(t)),o=A.useCallback(()=>{const l=e(t);iD(n,l)||(s(l),r&&r())},[n,t,r]);return eo(o),[n,o]}function oD(t,e,r){const[n,s]=dS(t,e,r);return eo(function(){const l=t.getHandlerId();if(l!=null)return t.subscribeToStateChange(s,{handlerIds:[l]})},[t,s]),n}function fS(t,e,r){return oD(e,t||(()=>({})),()=>r.reconnect())}function hS(t,e){const r=[];return typeof t!="function"&&r.push(t),A.useMemo(()=>typeof t=="function"?t():t,r)}function aD(t){return A.useMemo(()=>t.hooks.dragSource(),[t])}function lD(t){return A.useMemo(()=>t.hooks.dragPreview(),[t])}let l0=!1,u0=!1;class uD{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){wt(!l0,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return l0=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{l0=!1}}isDragging(){if(!this.sourceId)return!1;wt(!u0,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return u0=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{u0=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let c0=!1;class cD{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;wt(!c0,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return c0=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{c0=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function dD(t,e,r){const n=r.getRegistry(),s=n.addTarget(t,e);return[s,()=>n.removeTarget(s)]}function fD(t,e,r){const n=r.getRegistry(),s=n.addSource(t,e);return[s,()=>n.removeSource(s)]}function Wp(t,e,r,n){let s;if(s!==void 0)return!!s;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),l=Object.keys(e);if(o.length!==l.length)return!1;const u=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<o.length;c++){const f=o[c];if(!u(f))return!1;const p=t[f],h=e[f];if(s=void 0,s===!1||s===void 0&&p!==h)return!1}return!0}function qp(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hD(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function pD(t){return(e=null,r=null)=>{if(!A.isValidElement(e)){const o=e;return t(o,r),o}const n=e;return hD(n),mD(n,r?o=>t(o,r):t)}}function pS(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const s=pD(n);e[r]=()=>s}}),e}function O_(t,e){typeof t=="function"?t(e):t.current=e}function mD(t,e){const r=t.ref;return wt(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?A.cloneElement(t,{ref:n=>{O_(r,n),O_(e,n)}}):A.cloneElement(t,{ref:e})}class gD{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Wp(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Wp(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=pS({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,qp(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,qp(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class vD{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Wp(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=pS({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,qp(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function ro(){const{dragDropManager:t}=A.useContext(nS);return wt(t!=null,"Expected drag drop context"),t}function yD(t,e){const r=ro(),n=A.useMemo(()=>new gD(r.getBackend()),[r]);return eo(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),eo(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function _D(){const t=ro();return A.useMemo(()=>new uD(t),[t])}class wD{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,s=this.monitor,{isDragging:o}=n;return o?o(s):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:s}=e;s&&s(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function bD(t,e,r){const n=A.useMemo(()=>new wD(t,e,r),[e,r]);return A.useEffect(()=>{n.spec=t},[t]),n}function xD(t){return A.useMemo(()=>{const e=t.type;return wt(e!=null,"spec.type must be defined"),e},[t])}function SD(t,e,r){const n=ro(),s=bD(t,e,r),o=xD(t);eo(function(){if(o!=null){const[u,c]=fD(o,s,n);return e.receiveHandlerId(u),r.receiveHandlerId(u),c}},[n,e,r,s,o])}function ED(t,e){const r=hS(t);wt(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=_D(),s=yD(r.options,r.previewOptions);return SD(r,n,s),[fS(r.collect,n,s),aD(s),lD(s)]}function CD(t){const r=ro().getMonitor(),[n,s]=dS(r,t);return A.useEffect(()=>r.subscribeToOffsetChange(s)),A.useEffect(()=>r.subscribeToStateChange(s)),n}function TD(t){return A.useMemo(()=>t.hooks.dropTarget(),[t])}function RD(t){const e=ro(),r=A.useMemo(()=>new vD(e.getBackend()),[e]);return eo(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function kD(){const t=ro();return A.useMemo(()=>new cD(t),[t])}function AD(t){const{accept:e}=t;return A.useMemo(()=>(wt(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class OD{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function PD(t,e){const r=A.useMemo(()=>new OD(t,e),[e]);return A.useEffect(()=>{r.spec=t},[t]),r}function ND(t,e,r){const n=ro(),s=PD(t,e),o=AD(t);eo(function(){const[u,c]=dD(o,s,n);return e.receiveHandlerId(u),r.receiveHandlerId(u),c},[n,e,s,r,o.map(l=>l.toString()).join("|")])}function MD(t,e){const r=hS(t),n=kD(),s=RD(r.options);return ND(r,n,s),[fS(r.collect,n,s),TD(s)]}function mS(t){let e=null;return()=>(e==null&&(e=t()),e)}function ID(t,e){return t.filter(r=>r!==e)}function DD(t,e){const r=new Set,n=o=>r.add(o);t.forEach(n),e.forEach(n);const s=[];return r.forEach(o=>s.push(o)),s}class jD{enter(e){const r=this.entered.length,n=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=DD(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=ID(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class LD{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const s=this.config.exposeProperties[n];s!=null&&(r[n]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const gS="__NATIVE_FILE__",vS="__NATIVE_URL__",yS="__NATIVE_TEXT__",_S="__NATIVE_HTML__",P_=Object.freeze(Object.defineProperty({__proto__:null,FILE:gS,HTML:_S,TEXT:yS,URL:vS},Symbol.toStringTag,{value:"Module"}));function d0(t,e,r){const n=e.reduce((s,o)=>s||t.getData(o),"");return n??r}const Gp={[gS]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[_S]:{exposeProperties:{html:(t,e)=>d0(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[vS]:{exposeProperties:{urls:(t,e)=>d0(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[yS]:{exposeProperties:{text:(t,e)=>d0(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function BD(t,e){const r=Gp[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new LD(r);return n.loadDataTransfer(e),n}function f0(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Gp).filter(r=>{const n=Gp[r];return n?.matchesTypes?n.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const FD=mS(()=>/firefox/i.test(navigator.userAgent)),wS=mS(()=>!!window.safari);class N_{interpolate(e){const{xs:r,ys:n,c1s:s,c2s:o,c3s:l}=this;let u=r.length-1;if(e===r[u])return n[u];let c=0,f=l.length-1,p;for(;c<=f;){p=Math.floor(.5*(c+f));const w=r[p];if(w<e)c=p+1;else if(w>e)f=p-1;else return n[p]}u=Math.max(0,f);const h=e-r[u],g=h*h;return n[u]+s[u]*h+o[u]*g+l[u]*h*g}constructor(e,r){const{length:n}=e,s=[];for(let w=0;w<n;w++)s.push(w);s.sort((w,R)=>e[w]<e[R]?-1:1);const o=[],l=[];let u,c;for(let w=0;w<n-1;w++)u=e[w+1]-e[w],c=r[w+1]-r[w],o.push(u),l.push(c/u);const f=[l[0]];for(let w=0;w<o.length-1;w++){const R=l[w],b=l[w+1];if(R*b<=0)f.push(0);else{u=o[w];const S=o[w+1],E=u+S;f.push(3*E/((E+S)/R+(E+u)/b))}}f.push(l[l.length-1]);const p=[],h=[];let g;for(let w=0;w<f.length-1;w++){g=l[w];const R=f[w],b=1/o[w],S=R+f[w+1]-g-g;p.push((g-R-S)*b),h.push(S*b*b)}this.xs=e,this.ys=r,this.c1s=f,this.c2s=p,this.c3s=h}}const VD=1;function bS(t){const e=t.nodeType===VD?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function gc(t){return{x:t.clientX,y:t.clientY}}function $D(t){var e;return t.nodeName==="IMG"&&(FD()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function UD(t,e,r,n){let s=t?e.width:r,o=t?e.height:n;return wS()&&t&&(o/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:o}}function HD(t,e,r,n,s){const o=$D(e),u=bS(o?t:e),c={x:r.x-u.x,y:r.y-u.y},{offsetWidth:f,offsetHeight:p}=t,{anchorX:h,anchorY:g}=n,{dragPreviewWidth:w,dragPreviewHeight:R}=UD(o,e,f,p),b=()=>{let G=new N_([0,.5,1],[c.y,c.y/p*R,c.y+R-p]).interpolate(g);return wS()&&o&&(G+=(window.devicePixelRatio-1)*R),G},S=()=>new N_([0,.5,1],[c.x,c.x/f*w,c.x+w-f]).interpolate(h),{offsetX:E,offsetY:P}=s,y=E===0||E,j=P===0||P;return{x:y?E:S(),y:j?P:b()}}class zD{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function WD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){WD(t,s,r[s])})}return t}class qD{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const s=l=>this.handleDragStart(l,e),o=l=>this.handleSelectStart(l);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",s),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",s),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=l=>this.handleDragEnter(l,e),s=l=>this.handleDragOver(l,e),o=l=>this.handleDrop(l,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",s),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",s),r.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return M_({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return M_({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(P_).some(r=>P_[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=BD(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const o=this.sourceNodes.get(s);return o&&bS(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const l=gc(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:l});const{dataTransfer:u}=s,c=f0(u);if(this.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){const p=this.monitor.getSourceId(),h=this.sourceNodes.get(p),g=this.sourcePreviewNodes.get(p)||h;if(g){const{anchorX:w,anchorY:R,offsetX:b,offsetY:S}=this.getCurrentSourcePreviewNodeOptions(),y=HD(h,g,l,{anchorX:w,anchorY:R},{offsetX:b,offsetY:S});u.setDragImage(g,y.x,y.y)}}try{u?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:f}=this.getCurrentSourcePreviewNodeOptions();f?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(u&&!u.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:u}=s,c=f0(u);c&&this.beginDragNativeItem(c,u)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,o.length>0&&this.actions.hover(o,{clientOffset:gc(s)}),o.some(u=>this.monitor.canDropOnTarget(u))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=gc(s),this.scheduleHover(o),(o||[]).some(u=>this.monitor.canDropOnTarget(u))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;s.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}else f0(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:gc(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const o=s.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(s.preventDefault(),o.dragDrop()))},this.options=new zD(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new jD(this.isNodeInDocument)}}let vc;function GD(){return vc||(vc=new Image,vc.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),vc}const KD=function(e,r,n){return new qD(e,r,n)};function YD(t){const e=XD(t),r=A.forwardRef((n,s)=>{const{children:o,...l}=n,u=A.Children.toArray(o),c=u.find(ZD);if(c){const f=c.props.children,p=u.map(h=>h===c?A.Children.count(f)>1?A.Children.only(null):A.isValidElement(f)?f.props.children:null:h);return T.jsx(e,{...l,ref:s,children:A.isValidElement(f)?A.cloneElement(f,void 0,p):null})}return T.jsx(e,{...l,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function XD(t){const e=A.forwardRef((r,n)=>{const{children:s,...o}=r;if(A.isValidElement(s)){const l=ej(s),u=JD(o,s.props);return s.type!==A.Fragment&&(u.ref=n?ga(n,l):l),A.cloneElement(s,u)}return A.Children.count(s)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var QD=Symbol("radix.slottable");function ZD(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===QD}function JD(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...u)=>{const c=o(...u);return s(...u),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function ej(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var $d="Dialog",[xS,SS]=_a($d),[tj,Xn]=xS($d),ES=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,u=A.useRef(null),c=A.useRef(null),[f,p]=Um({prop:n,defaultProp:s??!1,onChange:o,caller:$d});return T.jsx(tj,{scope:e,triggerRef:u,contentRef:c,contentId:Oc(),titleId:Oc(),descriptionId:Oc(),open:f,onOpenChange:p,onOpenToggle:A.useCallback(()=>p(h=>!h),[p]),modal:l,children:r})};ES.displayName=$d;var CS="DialogTrigger",TS=A.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Xn(CS,r),o=lr(e,s.triggerRef);return T.jsx(br.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":d1(s.open),...n,ref:o,onClick:pr(t.onClick,s.onOpenToggle)})});TS.displayName=CS;var u1="DialogPortal",[rj,RS]=xS(u1,{forceMount:void 0}),kS=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=Xn(u1,e);return T.jsx(rj,{scope:e,forceMount:r,children:A.Children.map(n,l=>T.jsx(xa,{present:r||o.open,children:T.jsx($m,{asChild:!0,container:s,children:l})}))})};kS.displayName=u1;var dd="DialogOverlay",AS=A.forwardRef((t,e)=>{const r=RS(dd,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Xn(dd,t.__scopeDialog);return o.modal?T.jsx(xa,{present:n||o.open,children:T.jsx(sj,{...s,ref:e})}):null});AS.displayName=dd;var nj=YD("DialogOverlay.RemoveScroll"),sj=A.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Xn(dd,r);return T.jsx(Wm,{as:nj,allowPinchZoom:!0,shards:[s.contentRef],children:T.jsx(br.div,{"data-state":d1(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),to="DialogContent",OS=A.forwardRef((t,e)=>{const r=RS(to,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Xn(to,t.__scopeDialog);return T.jsx(xa,{present:n||o.open,children:o.modal?T.jsx(ij,{...s,ref:e}):T.jsx(oj,{...s,ref:e})})});OS.displayName=to;var ij=A.forwardRef((t,e)=>{const r=Xn(to,t.__scopeDialog),n=A.useRef(null),s=lr(e,r.contentRef,n);return A.useEffect(()=>{const o=n.current;if(o)return l3(o)},[]),T.jsx(PS,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pr(t.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:pr(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:pr(t.onFocusOutside,o=>o.preventDefault())})}),oj=A.forwardRef((t,e)=>{const r=Xn(to,t.__scopeDialog),n=A.useRef(!1),s=A.useRef(!1);return T.jsx(PS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;r.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),PS=A.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,u=Xn(to,r),c=A.useRef(null),f=lr(e,c);return Dx(),T.jsxs(T.Fragment,{children:[T.jsx(Nm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:T.jsx(Pm,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":d1(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),T.jsxs(T.Fragment,{children:[T.jsx(lj,{titleId:u.titleId}),T.jsx(cj,{contentRef:c,descriptionId:u.descriptionId})]})]})}),c1="DialogTitle",NS=A.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Xn(c1,r);return T.jsx(br.h2,{id:s.titleId,...n,ref:e})});NS.displayName=c1;var MS="DialogDescription",IS=A.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Xn(MS,r);return T.jsx(br.p,{id:s.descriptionId,...n,ref:e})});IS.displayName=MS;var DS="DialogClose",jS=A.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Xn(DS,r);return T.jsx(br.button,{type:"button",...n,ref:e,onClick:pr(t.onClick,()=>s.onOpenChange(!1))})});jS.displayName=DS;function d1(t){return t?"open":"closed"}var LS="DialogTitleWarning",[aj,BS]=n7(LS,{contentName:to,titleName:c1,docsSlug:"dialog"}),lj=({titleId:t})=>{const e=BS(LS),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},uj="DialogDescriptionWarning",cj=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BS(uj).contentName}}.`;return A.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},FS=ES,VS=TS,$S=kS,US=AS,f1=OS,HS=NS,zS=IS,Ud=jS;function Kp({...t}){return T.jsx(FS,{"data-slot":"dialog",...t})}const dj=A.forwardRef((t,e)=>T.jsx(VS,{ref:e,"data-slot":"dialog-trigger",...t}));dj.displayName="DialogTrigger";function WS({...t}){return T.jsx($S,{"data-slot":"dialog-portal",...t})}const fj=A.forwardRef((t,e)=>T.jsx(Ud,{ref:e,"data-slot":"dialog-close",...t}));fj.displayName="DialogClose";const h1=A.forwardRef(({className:t,...e},r)=>T.jsx(US,{ref:r,"data-slot":"dialog-overlay",className:wr("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));h1.displayName="DialogOverlay";const Yp=A.forwardRef(({className:t,children:e,...r},n)=>T.jsxs(WS,{"data-slot":"dialog-portal",children:[T.jsx(h1,{}),T.jsxs(f1,{ref:n,"data-slot":"dialog-content",className:wr("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,T.jsxs(Ud,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[T.jsx(xd,{}),T.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yp.displayName="DialogContent";function I_({className:t,...e}){return T.jsx("div",{"data-slot":"dialog-header",className:wr("flex flex-col gap-2 text-center sm:text-left",t),...e})}const Xp=A.forwardRef(({className:t,...e},r)=>T.jsx(HS,{ref:r,"data-slot":"dialog-title",className:wr("text-lg leading-none font-semibold",t),...e}));Xp.displayName="DialogTitle";const qS=A.forwardRef(({className:t,...e},r)=>T.jsx(zS,{ref:r,"data-slot":"dialog-description",className:wr("text-muted-foreground text-sm",t),...e}));qS.displayName="DialogDescription";var hj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pj=hj.reduce((t,e)=>{const r=yx(`Primitive.${e}`),n=A.forwardRef((s,o)=>{const{asChild:l,...u}=s,c=l?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(c,{...u,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),mj="Label",GS=A.forwardRef((t,e)=>T.jsx(pj.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));GS.displayName=mj;var gj=GS;function h0({className:t,...e}){return T.jsx(gj,{"data-slot":"label",className:wr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const vj=({audioUrl:t,currentTime:e,duration:r,isPlaying:n,trimStart:s,trimEnd:o})=>{const[l,u]=A.useState([]),[c,f]=A.useState(!1),p=A.useRef(null);return A.useEffect(()=>{const h=()=>{f(document.documentElement.classList.contains("dark"))};h();const g=new MutationObserver(h);return g.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>g.disconnect()},[]),A.useEffect(()=>{(async()=>{try{const g=window.AudioContext||window.webkitAudioContext,w=new g;let R;try{R=await jM(t)}catch(G){_t.warn("Waveform fetch failed, using fallback",G);const U=Array.from({length:80},()=>Math.random()*.5+.2);u(U),w.close();return}const S=(await w.decodeAudioData(R)).getChannelData(0),E=80,P=Math.floor(S.length/E),y=[];for(let G=0;G<E;G++){let U=P*G,$=0;for(let ee=0;ee<P;ee++)$+=Math.abs(S[U+ee]);y.push($/P)}const j=Math.max(...y),L=y.map(G=>G/j);u(L),w.close()}catch{const w=Array.from({length:80},()=>Math.random()*.5+.2);u(w)}})()},[t]),A.useEffect(()=>{if(!p.current||l.length===0)return;const h=p.current,g=h.getContext("2d");if(!g)return;const w=h.width,R=h.height,b=w/l.length,S=r>0?e/r:0,E=s!==void 0&&r>0?s/r:0,P=o!==void 0&&r>0?o/r:1;g.clearRect(0,0,w,R);const y=getComputedStyle(document.documentElement),j=y.getPropertyValue("--foreground-primary").trim(),L=y.getPropertyValue("--foreground-muted").trim(),G=y.getPropertyValue("--foreground-tertiary").trim();l.forEach((U,$)=>{const ee=U*R*.8,ie=$*b,re=(R-ee)/2,z=$/l.length,ve=($+1)/l.length,K=(z+ve)/2,B=K>=E&&K<=P;K<=S&&S>0?B?g.fillStyle=j:(g.fillStyle=G,g.globalAlpha=.15):B?g.fillStyle=L:(g.fillStyle=G,g.globalAlpha=.15),g.fillRect(ie,re,b-1,ee),g.globalAlpha=1})},[l,e,r,n,c,s,o]),T.jsx("div",{className:"w-full h-12 flex items-center justify-center",children:T.jsx("canvas",{ref:p,width:400,height:48,className:"w-full h-full",style:{imageRendering:"crisp-edges"}})})};var yj=Symbol("radix.slottable");function _j(t){const e=({children:r})=>T.jsx(T.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=yj,e}var KS="AlertDialog",[wj]=_a(KS,[SS]),Ls=SS(),YS=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ls(e);return T.jsx(FS,{...n,...r,modal:!0})};YS.displayName=KS;var bj="AlertDialogTrigger",xj=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ls(r);return T.jsx(VS,{...s,...n,ref:e})});xj.displayName=bj;var Sj="AlertDialogPortal",XS=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ls(e);return T.jsx($S,{...n,...r})};XS.displayName=Sj;var Ej="AlertDialogOverlay",QS=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ls(r);return T.jsx(US,{...s,...n,ref:e})});QS.displayName=Ej;var na="AlertDialogContent",[Cj,Tj]=wj(na),Rj=_j("AlertDialogContent"),ZS=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,o=Ls(r),l=A.useRef(null),u=lr(e,l),c=A.useRef(null);return T.jsx(aj,{contentName:na,titleName:JS,docsSlug:"alert-dialog",children:T.jsx(Cj,{scope:r,cancelRef:c,children:T.jsxs(f1,{role:"alertdialog",...o,...s,ref:u,onOpenAutoFocus:pr(s.onOpenAutoFocus,f=>{f.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[T.jsx(Rj,{children:n}),T.jsx(Aj,{contentRef:l})]})})})});ZS.displayName=na;var JS="AlertDialogTitle",e5=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ls(r);return T.jsx(HS,{...s,...n,ref:e})});e5.displayName=JS;var t5="AlertDialogDescription",r5=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ls(r);return T.jsx(zS,{...s,...n,ref:e})});r5.displayName=t5;var kj="AlertDialogAction",n5=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ls(r);return T.jsx(Ud,{...s,...n,ref:e})});n5.displayName=kj;var s5="AlertDialogCancel",i5=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=Tj(s5,r),o=Ls(r),l=lr(e,s);return T.jsx(Ud,{...o,...n,ref:l})});i5.displayName=s5;var Aj=({contentRef:t})=>{const e=`\`${na}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${na}\` by passing a \`${t5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${na}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return A.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Oj=YS,Pj=XS,Nj=QS,Mj=ZS,Ij=n5,Dj=i5,jj=e5,Lj=r5;function Bj({...t}){return T.jsx(Oj,{"data-slot":"alert-dialog",...t})}function Fj({...t}){return T.jsx(Pj,{"data-slot":"alert-dialog-portal",...t})}function Vj({className:t,...e}){return T.jsx(Nj,{"data-slot":"alert-dialog-overlay",className:wr("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function $j({className:t,...e}){return T.jsxs(Fj,{children:[T.jsx(Vj,{}),T.jsx(Mj,{"data-slot":"alert-dialog-content",className:wr("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function Uj({className:t,...e}){return T.jsx("div",{"data-slot":"alert-dialog-header",className:wr("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Hj({className:t,...e}){return T.jsx("div",{"data-slot":"alert-dialog-footer",className:wr("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function zj({className:t,...e}){return T.jsx(jj,{"data-slot":"alert-dialog-title",className:wr("text-lg font-semibold",t),...e})}function Wj({className:t,...e}){return T.jsx(Lj,{"data-slot":"alert-dialog-description",className:wr("text-muted-foreground text-sm",t),...e})}function qj({className:t,...e}){return T.jsx(Ij,{className:wr(Om(),t),...e})}function Gj({className:t,...e}){return T.jsx(Dj,{className:wr(Om({variant:"outline"}),t),...e})}const p1=A.createContext({});function m1(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const g1=typeof window<"u",o5=g1?A.useLayoutEffect:A.useEffect,Hd=A.createContext(null);function v1(t,e){t.indexOf(e)===-1&&t.push(e)}function y1(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Os=(t,e,r)=>r>e?e:r<t?t:r;let _1=()=>{};const Ps={},a5=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function l5(t){return typeof t=="object"&&t!==null}const u5=t=>/^0[^.\s]+$/u.test(t);function w1(t){let e;return()=>(e===void 0&&(e=t()),e)}const On=t=>t,Kj=(t,e)=>r=>e(t(r)),zl=(...t)=>t.reduce(Kj),Ol=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class b1{constructor(){this.subscriptions=[]}add(e){return v1(this.subscriptions,e),()=>y1(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const us=t=>t*1e3,An=t=>t/1e3;function c5(t,e){return e?t*(1e3/e):0}const d5=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Yj=1e-7,Xj=12;function Qj(t,e,r,n,s){let o,l,u=0;do l=e+(r-e)/2,o=d5(l,n,s)-t,o>0?r=l:e=l;while(Math.abs(o)>Yj&&++u<Xj);return l}function Wl(t,e,r,n){if(t===e&&r===n)return On;const s=o=>Qj(o,0,1,t,r);return o=>o===0||o===1?o:d5(s(o),e,n)}const f5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,h5=t=>e=>1-t(1-e),p5=Wl(.33,1.53,.69,.99),x1=h5(p5),m5=f5(x1),g5=t=>(t*=2)<1?.5*x1(t):.5*(2-Math.pow(2,-10*(t-1))),S1=t=>1-Math.sin(Math.acos(t)),v5=h5(S1),y5=f5(S1),Zj=Wl(.42,0,1,1),Jj=Wl(0,0,.58,1),_5=Wl(.42,0,.58,1),eL=t=>Array.isArray(t)&&typeof t[0]!="number",w5=t=>Array.isArray(t)&&typeof t[0]=="number",tL={linear:On,easeIn:Zj,easeInOut:_5,easeOut:Jj,circIn:S1,circInOut:y5,circOut:v5,backIn:x1,backInOut:m5,backOut:p5,anticipate:g5},rL=t=>typeof t=="string",D_=t=>{if(w5(t)){_1(t.length===4);const[e,r,n,s]=t;return Wl(e,r,n,s)}else if(rL(t))return tL[t];return t},yc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nL(t,e){let r=new Set,n=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(p){l.has(p)&&(f.schedule(p),t()),p(u)}const f={schedule:(p,h=!1,g=!1)=>{const R=g&&s?r:n;return h&&l.add(p),R.has(p)||R.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(u=p,s){o=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,o&&(o=!1,f.process(p))}};return f}const sL=40;function b5(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,l=yc.reduce((y,j)=>(y[j]=nL(o),y),{}),{setup:u,read:c,resolveKeyframes:f,preUpdate:p,update:h,preRender:g,render:w,postRender:R}=l,b=()=>{const y=Ps.useManualTiming?s.timestamp:performance.now();r=!1,Ps.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(y-s.timestamp,sL),1)),s.timestamp=y,s.isProcessing=!0,u.process(s),c.process(s),f.process(s),p.process(s),h.process(s),g.process(s),w.process(s),R.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(b))},S=()=>{r=!0,n=!0,s.isProcessing||t(b)};return{schedule:yc.reduce((y,j)=>{const L=l[j];return y[j]=(G,U=!1,$=!1)=>(r||S(),L.schedule(G,U,$)),y},{}),cancel:y=>{for(let j=0;j<yc.length;j++)l[yc[j]].cancel(y)},state:s,steps:l}}const{schedule:Yt,cancel:pi,state:Ir,steps:p0}=b5(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0);let Fc;function iL(){Fc=void 0}const an={now:()=>(Fc===void 0&&an.set(Ir.isProcessing||Ps.useManualTiming?Ir.timestamp:performance.now()),Fc),set:t=>{Fc=t,queueMicrotask(iL)}},x5=t=>e=>typeof e=="string"&&e.startsWith(t),E1=x5("--"),oL=x5("var(--"),C1=t=>oL(t)?aL.test(t.split("/*")[0].trim()):!1,aL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ca={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pl={...Ca,transform:t=>Os(0,1,t)},_c={...Ca,default:1},wl=t=>Math.round(t*1e5)/1e5,T1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lL(t){return t==null}const uL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,R1=(t,e)=>r=>!!(typeof r=="string"&&uL.test(r)&&r.startsWith(t)||e&&!lL(r)&&Object.prototype.hasOwnProperty.call(r,e)),S5=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,o,l,u]=n.match(T1);return{[t]:parseFloat(s),[e]:parseFloat(o),[r]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},cL=t=>Os(0,255,t),m0={...Ca,transform:t=>Math.round(cL(t))},Gi={test:R1("rgb","red"),parse:S5("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+m0.transform(t)+", "+m0.transform(e)+", "+m0.transform(r)+", "+wl(Pl.transform(n))+")"};function dL(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Qp={test:R1("#"),parse:dL,transform:Gi.transform},ql=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),oi=ql("deg"),cs=ql("%"),pt=ql("px"),fL=ql("vh"),hL=ql("vw"),j_={...cs,parse:t=>cs.parse(t)/100,transform:t=>cs.transform(t*100)},Go={test:R1("hsl","hue"),parse:S5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+cs.transform(wl(e))+", "+cs.transform(wl(r))+", "+wl(Pl.transform(n))+")"},hr={test:t=>Gi.test(t)||Qp.test(t)||Go.test(t),parse:t=>Gi.test(t)?Gi.parse(t):Go.test(t)?Go.parse(t):Qp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gi.transform(t):Go.transform(t),getAnimatableNone:t=>{const e=hr.parse(t);return e.alpha=0,hr.transform(e)}},pL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mL(t){return isNaN(t)&&typeof t=="string"&&(t.match(T1)?.length||0)+(t.match(pL)?.length||0)>0}const E5="number",C5="color",gL="var",vL="var(",L_="${}",yL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nl(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(yL,c=>(hr.test(c)?(n.color.push(o),s.push(C5),r.push(hr.parse(c))):c.startsWith(vL)?(n.var.push(o),s.push(gL),r.push(c)):(n.number.push(o),s.push(E5),r.push(parseFloat(c))),++o,L_)).split(L_);return{values:r,split:u,indexes:n,types:s}}function T5(t){return Nl(t).values}function R5(t){const{split:e,types:r}=Nl(t),n=e.length;return s=>{let o="";for(let l=0;l<n;l++)if(o+=e[l],s[l]!==void 0){const u=r[l];u===E5?o+=wl(s[l]):u===C5?o+=hr.transform(s[l]):o+=s[l]}return o}}const _L=t=>typeof t=="number"?0:hr.test(t)?hr.getAnimatableNone(t):t;function wL(t){const e=T5(t);return R5(t)(e.map(_L))}const mi={test:mL,parse:T5,createTransformer:R5,getAnimatableNone:wL};function g0(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function bL({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,o=0,l=0;if(!e)s=o=l=r;else{const u=r<.5?r*(1+e):r+e-r*e,c=2*r-u;s=g0(c,u,t+1/3),o=g0(c,u,t),l=g0(c,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:n}}function fd(t,e){return r=>r>0?e:t}const er=(t,e,r)=>t+(e-t)*r,v0=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},xL=[Qp,Gi,Go],SL=t=>xL.find(e=>e.test(t));function B_(t){const e=SL(t);if(!e)return!1;let r=e.parse(t);return e===Go&&(r=bL(r)),r}const F_=(t,e)=>{const r=B_(t),n=B_(e);if(!r||!n)return fd(t,e);const s={...r};return o=>(s.red=v0(r.red,n.red,o),s.green=v0(r.green,n.green,o),s.blue=v0(r.blue,n.blue,o),s.alpha=er(r.alpha,n.alpha,o),Gi.transform(s))},Zp=new Set(["none","hidden"]);function EL(t,e){return Zp.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function CL(t,e){return r=>er(t,e,r)}function k1(t){return typeof t=="number"?CL:typeof t=="string"?C1(t)?fd:hr.test(t)?F_:kL:Array.isArray(t)?k5:typeof t=="object"?hr.test(t)?F_:TL:fd}function k5(t,e){const r=[...t],n=r.length,s=t.map((o,l)=>k1(o)(o,e[l]));return o=>{for(let l=0;l<n;l++)r[l]=s[l](o);return r}}function TL(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=k1(t[s])(t[s],e[s]));return s=>{for(const o in n)r[o]=n[o](s);return r}}function RL(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][n[o]],u=t.values[l]??0;r[s]=u,n[o]++}return r}const kL=(t,e)=>{const r=mi.createTransformer(e),n=Nl(t),s=Nl(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Zp.has(t)&&!s.values.length||Zp.has(e)&&!n.values.length?EL(t,e):zl(k5(RL(n,s),s.values),r):fd(t,e)};function A5(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?er(t,e,r):k1(t)(t,e)}const AL=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Yt.update(e,r),stop:()=>pi(e),now:()=>Ir.isProcessing?Ir.timestamp:an.now()}},O5=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let o=0;o<s;o++)n+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},hd=2e4;function A1(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<hd;)e+=r,n=t.next(e);return e>=hd?1/0:e}function OL(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(A1(n),hd);return{type:"keyframes",ease:o=>n.next(s*o).value/e,duration:An(s)}}const PL=5;function P5(t,e,r){const n=Math.max(e-PL,0);return c5(r-t(n),e-n)}const ir={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},y0=.001;function NL({duration:t=ir.duration,bounce:e=ir.bounce,velocity:r=ir.velocity,mass:n=ir.mass}){let s,o,l=1-e;l=Os(ir.minDamping,ir.maxDamping,l),t=Os(ir.minDuration,ir.maxDuration,An(t)),l<1?(s=f=>{const p=f*l,h=p*t,g=p-r,w=Jp(f,l),R=Math.exp(-h);return y0-g/w*R},o=f=>{const h=f*l*t,g=h*r+r,w=Math.pow(l,2)*Math.pow(f,2)*t,R=Math.exp(-h),b=Jp(Math.pow(f,2),l);return(-s(f)+y0>0?-1:1)*((g-w)*R)/b}):(s=f=>{const p=Math.exp(-f*t),h=(f-r)*t+1;return-y0+p*h},o=f=>{const p=Math.exp(-f*t),h=(r-f)*(t*t);return p*h});const u=5/t,c=IL(s,o,u);if(t=us(t),isNaN(c))return{stiffness:ir.stiffness,damping:ir.damping,duration:t};{const f=Math.pow(c,2)*n;return{stiffness:f,damping:l*2*Math.sqrt(n*f),duration:t}}}const ML=12;function IL(t,e,r){let n=r;for(let s=1;s<ML;s++)n=n-t(n)/e(n);return n}function Jp(t,e){return t*Math.sqrt(1-e*e)}const DL=["duration","bounce"],jL=["stiffness","damping","mass"];function V_(t,e){return e.some(r=>t[r]!==void 0)}function LL(t){let e={velocity:ir.velocity,stiffness:ir.stiffness,damping:ir.damping,mass:ir.mass,isResolvedFromDuration:!1,...t};if(!V_(t,jL)&&V_(t,DL))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,o=2*Os(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ir.mass,stiffness:s,damping:o}}else{const r=NL(t);e={...e,...r,mass:ir.mass},e.isResolvedFromDuration=!0}return e}function pd(t=ir.visualDuration,e=ir.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const o=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],u={done:!1,value:o},{stiffness:c,damping:f,mass:p,duration:h,velocity:g,isResolvedFromDuration:w}=LL({...r,velocity:-An(r.velocity||0)}),R=g||0,b=f/(2*Math.sqrt(c*p)),S=l-o,E=An(Math.sqrt(c/p)),P=Math.abs(S)<5;n||(n=P?ir.restSpeed.granular:ir.restSpeed.default),s||(s=P?ir.restDelta.granular:ir.restDelta.default);let y;if(b<1){const L=Jp(E,b);y=G=>{const U=Math.exp(-b*E*G);return l-U*((R+b*E*S)/L*Math.sin(L*G)+S*Math.cos(L*G))}}else if(b===1)y=L=>l-Math.exp(-E*L)*(S+(R+E*S)*L);else{const L=E*Math.sqrt(b*b-1);y=G=>{const U=Math.exp(-b*E*G),$=Math.min(L*G,300);return l-U*((R+b*E*S)*Math.sinh($)+L*S*Math.cosh($))/L}}const j={calculatedDuration:w&&h||null,next:L=>{const G=y(L);if(w)u.done=L>=h;else{let U=L===0?R:0;b<1&&(U=L===0?us(R):P5(y,L,G));const $=Math.abs(U)<=n,ee=Math.abs(l-G)<=s;u.done=$&&ee}return u.value=u.done?l:G,u},toString:()=>{const L=Math.min(A1(j),hd),G=O5(U=>j.next(L*U).value,L,30);return L+"ms "+G},toTransition:()=>{}};return j}pd.applyToOptions=t=>{const e=OL(t,100,pd);return t.ease=e.ease,t.duration=us(e.duration),t.type="keyframes",t};function em({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:c,restDelta:f=.5,restSpeed:p}){const h=t[0],g={done:!1,value:h},w=$=>u!==void 0&&$<u||c!==void 0&&$>c,R=$=>u===void 0?c:c===void 0||Math.abs(u-$)<Math.abs(c-$)?u:c;let b=r*e;const S=h+b,E=l===void 0?S:l(S);E!==S&&(b=E-h);const P=$=>-b*Math.exp(-$/n),y=$=>E+P($),j=$=>{const ee=P($),ie=y($);g.done=Math.abs(ee)<=f,g.value=g.done?E:ie};let L,G;const U=$=>{w(g.value)&&(L=$,G=pd({keyframes:[g.value,R(g.value)],velocity:P5(y,$,g.value),damping:s,stiffness:o,restDelta:f,restSpeed:p}))};return U(0),{calculatedDuration:null,next:$=>{let ee=!1;return!G&&L===void 0&&(ee=!0,j($),U($)),L!==void 0&&$>=L?G.next($-L):(!ee&&j($),g)}}}function BL(t,e,r){const n=[],s=r||Ps.mix||A5,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const c=Array.isArray(e)?e[l]||On:e;u=zl(c,u)}n.push(u)}return n}function FL(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const o=t.length;if(_1(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=BL(e,n,s),c=u.length,f=p=>{if(l&&p<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(p<t[h+1]);h++);const g=Ol(t[h],t[h+1],p);return u[h](g)};return r?p=>f(Os(t[0],t[o-1],p)):f}function VL(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Ol(0,e,n);t.push(er(r,1,s))}}function $L(t){const e=[0];return VL(e,t.length-1),e}function UL(t,e){return t.map(r=>r*e)}function HL(t,e){return t.map(()=>e||_5).splice(0,t.length-1)}function bl({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=eL(n)?n.map(D_):D_(n),o={done:!1,value:e[0]},l=UL(r&&r.length===e.length?r:$L(e),t),u=FL(l,e,{ease:Array.isArray(s)?s:HL(e,s)});return{calculatedDuration:t,next:c=>(o.value=u(c),o.done=c>=t,o)}}const zL=t=>t!==null;function O1(t,{repeat:e,repeatType:r="loop"},n,s=1){const o=t.filter(zL),u=s<0||e&&r!=="loop"&&e%2===1?0:o.length-1;return!u||n===void 0?o[u]:n}const WL={decay:em,inertia:em,tween:bl,keyframes:bl,spring:pd};function N5(t){typeof t.type=="string"&&(t.type=WL[t.type])}class P1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const qL=t=>t/100;class N1 extends P1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==an.now()&&this.tick(an.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;N5(e);const{type:r=bl,repeat:n=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const c=r||bl;c!==bl&&typeof u[0]!="number"&&(this.mixKeyframes=zl(qL,A5(u[0],u[1])),u=[0,100]);const f=c({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=A1(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=f}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:p,repeat:h,repeatType:g,repeatDelay:w,type:R,onUpdate:b,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const E=this.currentTime-f*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?E<0:E>s;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let y=this.currentTime,j=n;if(h){const $=Math.min(this.currentTime,s)/u;let ee=Math.floor($),ie=$%1;!ie&&$>=1&&(ie=1),ie===1&&ee--,ee=Math.min(ee,h+1),!!(ee%2)&&(g==="reverse"?(ie=1-ie,w&&(ie-=w/u)):g==="mirror"&&(j=l)),y=Os(0,1,ie)*u}const L=P?{done:!1,value:p[0]}:j.next(y);o&&(L.value=o(L.value));let{done:G}=L;!P&&c!==null&&(G=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return U&&R!==em&&(L.value=O1(p,this.options,S,this.speed)),b&&b(L.value),U&&this.finish(),L}then(e,r){return this.finished.then(e,r)}get duration(){return An(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+An(e)}get time(){return An(this.currentTime)}set time(e){e=us(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(an.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=An(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=AL,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(an.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function GL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ki=t=>t*180/Math.PI,tm=t=>{const e=Ki(Math.atan2(t[1],t[0]));return rm(e)},KL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tm,rotateZ:tm,skewX:t=>Ki(Math.atan(t[1])),skewY:t=>Ki(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rm=t=>(t=t%360,t<0&&(t+=360),t),$_=tm,U_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),H_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),YL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:U_,scaleY:H_,scale:t=>(U_(t)+H_(t))/2,rotateX:t=>rm(Ki(Math.atan2(t[6],t[5]))),rotateY:t=>rm(Ki(Math.atan2(-t[2],t[0]))),rotateZ:$_,rotate:$_,skewX:t=>Ki(Math.atan(t[4])),skewY:t=>Ki(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function nm(t){return t.includes("scale")?1:0}function sm(t,e){if(!t||t==="none")return nm(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=YL,s=r;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=KL,s=u}if(!s)return nm(e);const o=n[e],l=s[1].split(",").map(QL);return typeof o=="function"?o(l):l[o]}const XL=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return sm(r,e)};function QL(t){return parseFloat(t.trim())}const Ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ra=new Set(Ta),z_=t=>t===Ca||t===pt,ZL=new Set(["x","y","z"]),JL=Ta.filter(t=>!ZL.has(t));function eB(t){const e=[];return JL.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Qi={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sm(e,"x"),y:(t,{transform:e})=>sm(e,"y")};Qi.translateX=Qi.x;Qi.translateY=Qi.y;const Zi=new Set;let im=!1,om=!1,am=!1;function M5(){if(om){const t=Array.from(Zi).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=eB(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([o,l])=>{n.getValue(o)?.set(l)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}om=!1,im=!1,Zi.forEach(t=>t.complete(am)),Zi.clear()}function I5(){Zi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(om=!0)})}function tB(){am=!0,I5(),M5(),am=!1}class M1{constructor(e,r,n,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Zi.add(this),im||(im=!0,Yt.read(I5),Yt.resolveKeyframes(M5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const o=s?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const u=n.readValue(r,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}GL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Zi.delete(this)}cancel(){this.state==="scheduled"&&(Zi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rB=t=>t.startsWith("--");function nB(t,e,r){rB(e)?t.style.setProperty(e,r):t.style[e]=r}const sB=w1(()=>window.ScrollTimeline!==void 0),iB={};function oB(t,e){const r=w1(t);return()=>iB[e]??r()}const D5=oB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ml=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,W_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ml([0,.65,.55,1]),circOut:ml([.55,0,1,.45]),backIn:ml([.31,.01,.66,-.59]),backOut:ml([.33,1.53,.69,.99])};function j5(t,e){if(t)return typeof t=="function"?D5()?O5(t,e):"ease-out":w5(t)?ml(t):Array.isArray(t)?t.map(r=>j5(r,e)||W_.easeOut):W_[t]}function aB(t,e,r,{delay:n=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:c}={},f=void 0){const p={[e]:r};c&&(p.offset=c);const h=j5(u,s);Array.isArray(h)&&(p.easing=h);const g={delay:n,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(p,g)}function L5(t){return typeof t=="function"&&"applyToOptions"in t}function lB({type:t,...e}){return L5(t)&&D5()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class uB extends P1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,_1(typeof e.type!="string");const f=lB(e);this.animation=aB(r,n,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=O1(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):nB(r,n,p),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return An(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+An(e)}get time(){return An(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=us(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&sB()?(this.animation.timeline=e,On):r(this)}}const B5={anticipate:g5,backInOut:m5,circInOut:y5};function cB(t){return t in B5}function dB(t){typeof t.ease=="string"&&cB(t.ease)&&(t.ease=B5[t.ease])}const q_=10;class fB extends uB{constructor(e){dB(e),N5(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:o,...l}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const u=new N1({...l,autoplay:!1}),c=us(this.finishedTime??this.time);r.setWithVelocity(u.sample(c-q_).value,u.sample(c).value,q_),u.stop()}}const G_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mi.test(t)||t==="0")&&!t.startsWith("url("));function hB(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function pB(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=G_(s,e),u=G_(o,e);return!l||!u?!1:hB(t)||(r==="spring"||L5(r))&&n}function lm(t){t.duration=0,t.type="keyframes"}const mB=new Set(["opacity","clipPath","filter","transform"]),gB=w1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vB(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return gB()&&r&&mB.has(r)&&(r!=="transform"||!f)&&!c&&!n&&s!=="mirror"&&o!==0&&l!=="inertia"}const yB=40;class _B extends P1{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:c,motionValue:f,element:p,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=an.now();const g={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:o,repeatType:l,name:c,motionValue:f,element:p,...h},w=p?.KeyframeResolver||M1;this.keyframeResolver=new w(u,(R,b,S)=>this.onKeyframesResolved(R,b,g,!S),c,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:c,isHandoff:f,onUpdate:p}=n;this.resolvedAt=an.now(),pB(e,o,l,u)||((Ps.instantAnimations||!c)&&p?.(O1(e,n,r)),e[0]=e[e.length-1],lm(n),n.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>yB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},w=!f&&vB(g)?new fB({...g,element:g.motionValue.owner.current}):new N1(g);w.finished.then(()=>this.notifyFinished()).catch(On),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tB()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const wB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bB(t){const e=wB.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function F5(t,e,r=1){const[n,s]=bB(t);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const l=o.trim();return a5(l)?parseFloat(l):l}return C1(s)?F5(s,e,r+1):s}function I1(t,e){return t?.[e]??t?.default??t}const V5=new Set(["width","height","top","left","right","bottom",...Ta]),xB={test:t=>t==="auto",parse:t=>t},$5=t=>e=>e.test(t),U5=[Ca,pt,cs,oi,hL,fL,xB],K_=t=>U5.find($5(t));function SB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||u5(t):!0}const EB=new Set(["brightness","contrast","saturate","opacity"]);function CB(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(T1)||[];if(!n)return t;const s=r.replace(n,"");let o=EB.has(e)?1:0;return n!==r&&(o*=100),e+"("+o+s+")"}const TB=/\b([a-z-]*)\(.*?\)/gu,um={...mi,getAnimatableNone:t=>{const e=t.match(TB);return e?e.map(CB).join(" "):t}},Y_={...Ca,transform:Math.round},RB={rotate:oi,rotateX:oi,rotateY:oi,rotateZ:oi,scale:_c,scaleX:_c,scaleY:_c,scaleZ:_c,skew:oi,skewX:oi,skewY:oi,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:Pl,originX:j_,originY:j_,originZ:pt},D1={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt,...RB,zIndex:Y_,fillOpacity:Pl,strokeOpacity:Pl,numOctaves:Y_},kB={...D1,color:hr,backgroundColor:hr,outlineColor:hr,fill:hr,stroke:hr,borderColor:hr,borderTopColor:hr,borderRightColor:hr,borderBottomColor:hr,borderLeftColor:hr,filter:um,WebkitFilter:um},H5=t=>kB[t];function z5(t,e){let r=H5(t);return r!==um&&(r=mi),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const AB=new Set(["auto","none","0"]);function OB(t,e,r){let n=0,s;for(;n<t.length&&!s;){const o=t[n];typeof o=="string"&&!AB.has(o)&&Nl(o).values.length&&(s=t[n]),n++}if(s&&r)for(const o of e)t[o]=z5(r,s)}class PB extends M1{constructor(e,r,n,s,o){super(e,r,n,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),C1(f))){const p=F5(f,r.current);p!==void 0&&(e[c]=p),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!V5.has(n)||e.length!==2)return;const[s,o]=e,l=K_(s),u=K_(o);if(l!==u)if(z_(l)&&z_(u))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else Qi[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||SB(e[s]))&&n.push(s);n.length&&OB(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=n.length-1,l=n[o];n[o]=Qi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,c])=>{e.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function NB(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=r?.[t]??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const W5=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function q5(t){return l5(t)&&"offsetHeight"in t}const X_=30,MB=t=>!isNaN(parseFloat(t));class IB{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const s=an.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=an.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new b1);const n=this.events[e].add(r);return e==="change"?()=>{n(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=an.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>X_)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,X_);return c5(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function da(t,e){return new IB(t,e)}const{schedule:j1}=b5(queueMicrotask,!1),Hn={x:!1,y:!1};function G5(){return Hn.x||Hn.y}function DB(t){return t==="x"||t==="y"?Hn[t]?null:(Hn[t]=!0,()=>{Hn[t]=!1}):Hn.x||Hn.y?null:(Hn.x=Hn.y=!0,()=>{Hn.x=Hn.y=!1})}function K5(t,e){const r=NB(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function Q_(t){return!(t.pointerType==="touch"||G5())}function jB(t,e,r={}){const[n,s,o]=K5(t,r),l=u=>{if(!Q_(u))return;const{target:c}=u,f=e(c,u);if(typeof f!="function"||!c)return;const p=h=>{Q_(h)&&(f(h),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,s)};return n.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const Y5=(t,e)=>e?t===e?!0:Y5(t,e.parentElement):!1,L1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,LB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BB(t){return LB.has(t.tagName)||t.tabIndex!==-1}const Vc=new WeakSet;function Z_(t){return e=>{e.key==="Enter"&&t(e)}}function _0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FB=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=Z_(()=>{if(Vc.has(r))return;_0(r,"down");const s=Z_(()=>{_0(r,"up")}),o=()=>_0(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function J_(t){return L1(t)&&!G5()}function VB(t,e,r={}){const[n,s,o]=K5(t,r),l=u=>{const c=u.currentTarget;if(!J_(u))return;Vc.add(c);const f=e(c,u),p=(w,R)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",g),Vc.has(c)&&Vc.delete(c),J_(w)&&typeof f=="function"&&f(w,{success:R})},h=w=>{p(w,c===window||c===document||r.useGlobalTarget||Y5(c,w.target))},g=w=>{p(w,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",g,s)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),q5(u)&&(u.addEventListener("focus",f=>FB(f,s)),!BB(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function X5(t){return l5(t)&&"ownerSVGElement"in t}function $B(t){return X5(t)&&t.tagName==="svg"}const Hr=t=>!!(t&&t.getVelocity),UB=[...U5,hr,mi],HB=t=>UB.find($5(t)),B1=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ew(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zB(...t){return e=>{let r=!1;const n=t.map(s=>{const o=ew(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():ew(t[s],null)}}}}function WB(...t){return A.useCallback(zB(...t),t)}class qB extends A.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=q5(n)&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function GB({children:t,isPresent:e,anchorX:r,root:n}){const s=A.useId(),o=A.useRef(null),l=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=A.useContext(B1),c=WB(o,t?.ref);return A.useInsertionEffect(()=>{const{width:f,height:p,top:h,left:g,right:w}=l.current;if(e||!o.current||!f||!p)return;const R=r==="left"?`left: ${g}`:`right: ${w}`;o.current.dataset.motionPopId=s;const b=document.createElement("style");u&&(b.nonce=u);const S=n??document.head;return S.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${R}px !important;
            top: ${h}px !important;
          }
        `),()=>{S.contains(b)&&S.removeChild(b)}},[e]),T.jsx(qB,{isPresent:e,childRef:o,sizeRef:l,children:A.cloneElement(t,{ref:c})})}const KB=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:o,mode:l,anchorX:u,root:c})=>{const f=m1(YB),p=A.useId();let h=!0,g=A.useMemo(()=>(h=!1,{id:p,initial:e,isPresent:r,custom:s,onExitComplete:w=>{f.set(w,!0);for(const R of f.values())if(!R)return;n&&n()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[r,f,n]);return o&&h&&(g={...g}),A.useMemo(()=>{f.forEach((w,R)=>f.set(R,!1))},[r]),A.useEffect(()=>{!r&&!f.size&&n&&n()},[r]),l==="popLayout"&&(t=T.jsx(GB,{isPresent:r,anchorX:u,root:c,children:t})),T.jsx(Hd.Provider,{value:g,children:t})};function YB(){return new Map}function Q5(t=!0){const e=A.useContext(Hd);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,o=A.useId();A.useEffect(()=>{if(t)return s(o)},[t]);const l=A.useCallback(()=>t&&n&&n(o),[o,n,t]);return!r&&n?[!1,l]:[!0]}const wc=t=>t.key||"";function tw(t){const e=[];return A.Children.forEach(t,r=>{A.isValidElement(r)&&e.push(r)}),e}const XB=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:c})=>{const[f,p]=Q5(l),h=A.useMemo(()=>tw(t),[t]),g=l&&!f?[]:h.map(wc),w=A.useRef(!0),R=A.useRef(h),b=m1(()=>new Map),[S,E]=A.useState(h),[P,y]=A.useState(h);o5(()=>{w.current=!1,R.current=h;for(let G=0;G<P.length;G++){const U=wc(P[G]);g.includes(U)?b.delete(U):b.get(U)!==!0&&b.set(U,!1)}},[P,g.length,g.join("-")]);const j=[];if(h!==S){let G=[...h];for(let U=0;U<P.length;U++){const $=P[U],ee=wc($);g.includes(ee)||(G.splice(U,0,$),j.push($))}return o==="wait"&&j.length&&(G=j),y(tw(G)),E(h),null}const{forceRender:L}=A.useContext(p1);return T.jsx(T.Fragment,{children:P.map(G=>{const U=wc(G),$=l&&!f?!1:h===P||g.includes(U),ee=()=>{if(b.has(U))b.set(U,!0);else return;let ie=!0;b.forEach(re=>{re||(ie=!1)}),ie&&(L?.(),y(R.current),l&&p?.(),n&&n())};return T.jsx(KB,{isPresent:$,initial:!w.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:c,onExitComplete:$?void 0:ee,anchorX:u,children:G},U)})})},Z5=A.createContext({strict:!1}),rw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fa={};for(const t in rw)fa[t]={isEnabled:e=>rw[t].some(r=>!!e[r])};function QB(t){for(const e in t)fa[e]={...fa[e],...t[e]}}const ZB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function md(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ZB.has(t)}let J5=t=>!md(t);function JB(t){typeof t=="function"&&(J5=e=>e.startsWith("on")?!md(e):t(e))}try{JB(require("@emotion/is-prop-valid").default)}catch{}function eF(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(J5(s)||r===!0&&md(s)||!e&&!md(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}const zd=A.createContext({});function Wd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ml(t){return typeof t=="string"||Array.isArray(t)}const F1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],V1=["initial",...F1];function qd(t){return Wd(t.animate)||V1.some(e=>Ml(t[e]))}function e8(t){return!!(qd(t)||t.variants)}function tF(t,e){if(qd(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Ml(r)?r:void 0,animate:Ml(n)?n:void 0}}return t.inherit!==!1?e:{}}function rF(t){const{initial:e,animate:r}=tF(t,A.useContext(zd));return A.useMemo(()=>({initial:e,animate:r}),[nw(e),nw(r)])}function nw(t){return Array.isArray(t)?t.join(" "):t}const Il={};function nF(t){for(const e in t)Il[e]=t[e],E1(e)&&(Il[e].isCSSVariable=!0)}function t8(t,{layout:e,layoutId:r}){return Ra.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Il[t]||t==="opacity")}const sF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iF=Ta.length;function oF(t,e,r){let n="",s=!0;for(let o=0;o<iF;o++){const l=Ta[o],u=t[l];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(l.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||r){const f=W5(u,D1[l]);if(!c){s=!1;const p=sF[l]||l;n+=`${p}(${f}) `}r&&(e[l]=f)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function $1(t,e,r){const{style:n,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const c in e){const f=e[c];if(Ra.has(c)){l=!0;continue}else if(E1(c)){s[c]=f;continue}else{const p=W5(f,D1[c]);c.startsWith("origin")?(u=!0,o[c]=p):n[c]=p}}if(e.transform||(l||r?n.transform=oF(e,t.transform,r):n.transform&&(n.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:p=0}=o;n.transformOrigin=`${c} ${f} ${p}`}}const U1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r8(t,e,r){for(const n in e)!Hr(e[n])&&!t8(n,r)&&(t[n]=e[n])}function aF({transformTemplate:t},e){return A.useMemo(()=>{const r=U1();return $1(r,e,t),Object.assign({},r.vars,r.style)},[e])}function lF(t,e){const r=t.style||{},n={};return r8(n,r,t),Object.assign(n,aF(t,e)),n}function uF(t,e){const r={},n=lF(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const cF={offset:"stroke-dashoffset",array:"stroke-dasharray"},dF={offset:"strokeDashoffset",array:"strokeDasharray"};function fF(t,e,r=1,n=0,s=!0){t.pathLength=1;const o=s?cF:dF;t[o.offset]=pt.transform(-n);const l=pt.transform(e),u=pt.transform(r);t[o.array]=`${l} ${u}`}function n8(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},c,f,p){if($1(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g}=t;h.transform&&(g.transform=h.transform,delete h.transform),(g.transform||h.transformOrigin)&&(g.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),g.transform&&(g.transformBox=p?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&fF(h,s,o,l,!1)}const s8=()=>({...U1(),attrs:{}}),i8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hF(t,e,r,n){const s=A.useMemo(()=>{const o=s8();return n8(o,e,i8(n),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};r8(o,t.style,t),s.style={...o,...s.style}}return s}const pF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function H1(t){return typeof t!="string"||t.includes("-")?!1:!!(pF.indexOf(t)>-1||/[A-Z]/u.test(t))}function mF(t,e,r,{latestValues:n},s,o=!1){const u=(H1(t)?hF:uF)(e,n,s,t),c=eF(e,typeof t=="string",o),f=t!==A.Fragment?{...c,...u,ref:r}:{},{children:p}=e,h=A.useMemo(()=>Hr(p)?p.get():p,[p]);return A.createElement(t,{...f,children:h})}function sw(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function z1(t,e,r,n){if(typeof e=="function"){const[s,o]=sw(n);e=e(r!==void 0?r:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=sw(n);e=e(r!==void 0?r:t.custom,s,o)}return e}function $c(t){return Hr(t)?t.get():t}function gF({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:vF(r,n,s,t),renderState:e()}}function vF(t,e,r,n){const s={},o=n(t,{});for(const g in o)s[g]=$c(o[g]);let{initial:l,animate:u}=t;const c=qd(t),f=e8(t);e&&f&&!c&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=r?r.initial===!1:!1;p=p||l===!1;const h=p?u:l;if(h&&typeof h!="boolean"&&!Wd(h)){const g=Array.isArray(h)?h:[h];for(let w=0;w<g.length;w++){const R=z1(t,g[w]);if(R){const{transitionEnd:b,transition:S,...E}=R;for(const P in E){let y=E[P];if(Array.isArray(y)){const j=p?y.length-1:0;y=y[j]}y!==null&&(s[P]=y)}for(const P in b)s[P]=b[P]}}}return s}const o8=t=>(e,r)=>{const n=A.useContext(zd),s=A.useContext(Hd),o=()=>gF(t,e,n,s);return r?o():m1(o)};function W1(t,e,r){const{style:n}=t,s={};for(const o in n)(Hr(n[o])||e.style&&Hr(e.style[o])||t8(o,t)||r?.getValue(o)?.liveStyle!==void 0)&&(s[o]=n[o]);return s}const yF=o8({scrapeMotionValuesFromProps:W1,createRenderState:U1});function a8(t,e,r){const n=W1(t,e,r);for(const s in t)if(Hr(t[s])||Hr(e[s])){const o=Ta.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[o]=t[s]}return n}const _F=o8({scrapeMotionValuesFromProps:a8,createRenderState:s8}),wF=Symbol.for("motionComponentSymbol");function Ko(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bF(t,e,r){return A.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Ko(r)&&(r.current=n))},[e])}const q1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xF="framerAppearId",l8="data-"+q1(xF),u8=A.createContext({});function SF(t,e,r,n,s){const{visualElement:o}=A.useContext(zd),l=A.useContext(Z5),u=A.useContext(Hd),c=A.useContext(B1).reducedMotion,f=A.useRef(null);n=n||l.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const p=f.current,h=A.useContext(u8);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&EF(f.current,r,s,h);const g=A.useRef(!1);A.useInsertionEffect(()=>{p&&g.current&&p.update(r,u)});const w=r[l8],R=A.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return o5(()=>{p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),R.current&&p.animationState&&p.animationState.animateChanges())}),A.useEffect(()=>{p&&(!R.current&&p.animationState&&p.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),R.current=!1),p.enteringChildren=void 0)}),p}function EF(t,e,r,n){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:c,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:c8(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&Ko(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:c,layoutRoot:f})}function c8(t){if(t)return t.options.allowProjection!==!1?t.projection:c8(t.parent)}function w0(t,{forwardMotionProps:e=!1}={},r,n){r&&QB(r);const s=H1(t)?_F:yF;function o(u,c){let f;const p={...A.useContext(B1),...u,layoutId:CF(u)},{isStatic:h}=p,g=rF(u),w=s(u,h);if(!h&&g1){TF();const R=RF(p);f=R.MeasureLayout,g.visualElement=SF(t,w,p,n,R.ProjectionNode)}return T.jsxs(zd.Provider,{value:g,children:[f&&g.visualElement?T.jsx(f,{visualElement:g.visualElement,...p}):null,mF(t,u,bF(w,g.visualElement,c),w,h,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=A.forwardRef(o);return l[wF]=t,l}function CF({layoutId:t}){const e=A.useContext(p1).id;return e&&t!==void 0?e+"-"+t:t}function TF(t,e){A.useContext(Z5).strict}function RF(t){const{drag:e,layout:r}=fa;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function kF(t,e){if(typeof Proxy>"u")return w0;const r=new Map,n=(o,l)=>w0(o,l,t,e),s=(o,l)=>n(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?n:(r.has(l)||r.set(l,w0(l,void 0,t,e)),r.get(l))})}function d8({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function AF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OF(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function b0(t){return t===void 0||t===1}function cm({scale:t,scaleX:e,scaleY:r}){return!b0(t)||!b0(e)||!b0(r)}function Ui(t){return cm(t)||f8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function f8(t){return iw(t.x)||iw(t.y)}function iw(t){return t&&t!=="0%"}function gd(t,e,r){const n=t-r,s=e*n;return r+s}function ow(t,e,r,n,s){return s!==void 0&&(t=gd(t,s,n)),gd(t,r,n)+e}function dm(t,e=0,r=1,n,s){t.min=ow(t.min,e,r,n,s),t.max=ow(t.max,e,r,n,s)}function h8(t,{x:e,y:r}){dm(t.x,e.translate,e.scale,e.originPoint),dm(t.y,r.translate,r.scale,r.originPoint)}const aw=.999999999999,lw=1.0000000000001;function PF(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=r[u],l=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xo(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,h8(t,l)),n&&Ui(o.latestValues)&&Xo(t,o.latestValues))}e.x<lw&&e.x>aw&&(e.x=1),e.y<lw&&e.y>aw&&(e.y=1)}function Yo(t,e){t.min=t.min+e,t.max=t.max+e}function uw(t,e,r,n,s=.5){const o=er(t.min,t.max,s);dm(t,e,r,o,n)}function Xo(t,e){uw(t.x,e.x,e.scaleX,e.scale,e.originX),uw(t.y,e.y,e.scaleY,e.scale,e.originY)}function p8(t,e){return d8(OF(t.getBoundingClientRect(),e))}function NF(t,e,r){const n=p8(t,r),{scroll:s}=e;return s&&(Yo(n.x,s.offset.x),Yo(n.y,s.offset.y)),n}const cw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qo=()=>({x:cw(),y:cw()}),dw=()=>({min:0,max:0}),_r=()=>({x:dw(),y:dw()}),fm={current:null},m8={current:!1};function MF(){if(m8.current=!0,!!g1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fm.current=t.matches;t.addEventListener("change",e),e()}else fm.current=!1}const IF=new WeakMap;function DF(t,e,r){for(const n in e){const s=e[n],o=r[n];if(Hr(s))t.addValue(n,s);else if(Hr(o))t.addValue(n,da(s,{owner:t}));else if(o!==s)if(t.hasValue(n)){const l=t.getValue(n);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(n);t.addValue(n,da(l!==void 0?l:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const fw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jF{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=M1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=an.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Yt.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=qd(r),this.isVariantNode=e8(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in h){const w=h[g];c[g]!==void 0&&Hr(w)&&w.set(c[g])}}mount(e){this.current=e,IF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),m8.current||MF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pi(this.notifyUpdate),pi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ra.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Yt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fa){const r=fa[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_r()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<fw.length;n++){const s=fw[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=DF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=da(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(a5(n)||u5(n))?n=parseFloat(n):!HB(n)&&mi.test(r)&&(n=z5(e,r)),this.setBaseTarget(e,Hr(n)?n.get():n)),Hr(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=z1(this.props,r,this.presenceContext?.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Hr(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new b1),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){j1.render(this.render)}}class g8 extends jF{constructor(){super(...arguments),this.KeyframeResolver=PB}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function v8(t,{style:e,vars:r},n,s){const o=t.style;let l;for(l in e)o[l]=e[l];s?.applyProjectionStyles(o,n);for(l in r)o.setProperty(l,r[l])}function LF(t){return window.getComputedStyle(t)}class BF extends g8{constructor(){super(...arguments),this.type="html",this.renderInstance=v8}readValueFromInstance(e,r){if(Ra.has(r))return this.projection?.isProjecting?nm(r):XL(e,r);{const n=LF(e),s=(E1(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return p8(e,r)}build(e,r,n){$1(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return W1(e,r,n)}}const y8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FF(t,e,r,n){v8(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(y8.has(s)?s:q1(s),e.attrs[s])}class VF extends g8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_r}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ra.has(r)){const n=H5(r);return n&&n.default||0}return r=y8.has(r)?r:q1(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return a8(e,r,n)}build(e,r,n){n8(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){FF(e,r,n,s)}mount(e){this.isSVGTag=i8(e.tagName),super.mount(e)}}const $F=(t,e)=>H1(t)?new VF(e):new BF(e,{allowProjection:t!==A.Fragment});function sa(t,e,r){const n=t.getProps();return z1(n,e,r!==void 0?r:n.custom,t)}const hm=t=>Array.isArray(t);function UF(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,da(r))}function HF(t){return hm(t)?t[t.length-1]||0:t}function zF(t,e){const r=sa(t,e);let{transitionEnd:n={},transition:s={},...o}=r||{};o={...o,...n};for(const l in o){const u=HF(o[l]);UF(t,l,u)}}function WF(t){return!!(Hr(t)&&t.add)}function pm(t,e){const r=t.getValue("willChange");if(WF(r))return r.add(e);if(!r&&Ps.WillChange){const n=new Ps.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function _8(t){return t.props[l8]}const qF=t=>t!==null;function GF(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(qF),o=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[o]}const KF={type:"spring",stiffness:500,damping:25,restSpeed:10},YF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XF={type:"keyframes",duration:.8},QF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZF=(t,{keyframes:e})=>e.length>2?XF:Ra.has(t)?t.startsWith("scale")?YF(e[1]):KF:QF;function JF({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:c,elapsed:f,...p}){return!!Object.keys(p).length}const G1=(t,e,r,n={},s,o)=>l=>{const u=I1(n,t)||{},c=u.delay||n.delay||0;let{elapsed:f=0}=n;f=f-us(c);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:g=>{e.set(g),u.onUpdate&&u.onUpdate(g)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};JF(u)||Object.assign(p,ZF(t,p)),p.duration&&(p.duration=us(p.duration)),p.repeatDelay&&(p.repeatDelay=us(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let h=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(lm(p),p.delay===0&&(h=!0)),(Ps.instantAnimations||Ps.skipAnimations)&&(h=!0,lm(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,h&&!o&&e.get()!==void 0){const g=GF(p.keyframes,u);if(g!==void 0){Yt.update(()=>{p.onUpdate(g),p.onComplete()});return}}return u.isSync?new N1(p):new _B(p)};function eV({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function w8(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;n&&(o=n);const c=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const h=t.getValue(p,t.latestValues[p]??null),g=u[p];if(g===void 0||f&&eV(f,p))continue;const w={delay:r,...I1(o||{},p)},R=h.get();if(R!==void 0&&!h.isAnimating&&!Array.isArray(g)&&g===R&&!w.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const E=_8(t);if(E){const P=window.MotionHandoffAnimation(E,p,Yt);P!==null&&(w.startTime=P,b=!0)}}pm(t,p),h.start(G1(p,h,g,t.shouldReduceMotion&&V5.has(p)?{type:!1}:w,t,b));const S=h.animation;S&&c.push(S)}return l&&Promise.all(c).then(()=>{Yt.update(()=>{l&&zF(t,l)})}),c}function b8(t,e,r,n=0,s=1){const o=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),l=t.size,u=(l-1)*n;return typeof r=="function"?r(o,l):s===1?o*n:u-o*n}function mm(t,e,r={}){const n=sa(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const o=n?()=>Promise.all(w8(t,n,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:h}=s;return tV(t,e,c,f,p,h,r)}:()=>Promise.resolve(),{when:u}=s;if(u){const[c,f]=u==="beforeChildren"?[o,l]:[l,o];return c().then(()=>f())}else return Promise.all([o(),l(r.delay)])}function tV(t,e,r=0,n=0,s=0,o=1,l){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(mm(c,e,{...l,delay:r+(typeof n=="function"?0:n)+b8(t.variantChildren,c,n,s,o)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function rV(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(o=>mm(t,o,r));n=Promise.all(s)}else if(typeof e=="string")n=mm(t,e,r);else{const s=typeof e=="function"?sa(t,e,r.custom):e;n=Promise.all(w8(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function x8(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const nV=V1.length;function S8(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?S8(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<nV;r++){const n=V1[r],s=t.props[n];(Ml(s)||s===!1)&&(e[n]=s)}return e}const sV=[...F1].reverse(),iV=F1.length;function oV(t){return e=>Promise.all(e.map(({animation:r,options:n})=>rV(t,r,n)))}function aV(t){let e=oV(t),r=hw(),n=!0;const s=c=>(f,p)=>{const h=sa(t,p,c==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:g,transitionEnd:w,...R}=h;f={...f,...R,...w}}return f};function o(c){e=c(t)}function l(c){const{props:f}=t,p=S8(t.parent)||{},h=[],g=new Set;let w={},R=1/0;for(let S=0;S<iV;S++){const E=sV[S],P=r[E],y=f[E]!==void 0?f[E]:p[E],j=Ml(y),L=E===c?P.isActive:null;L===!1&&(R=S);let G=y===p[E]&&y!==f[E]&&j;if(G&&n&&t.manuallyAnimateOnMount&&(G=!1),P.protectedKeys={...w},!P.isActive&&L===null||!y&&!P.prevProp||Wd(y)||typeof y=="boolean")continue;const U=lV(P.prevProp,y);let $=U||E===c&&P.isActive&&!G&&j||S>R&&j,ee=!1;const ie=Array.isArray(y)?y:[y];let re=ie.reduce(s(E),{});L===!1&&(re={});const{prevResolvedValues:z={}}=P,ve={...z,...re},K=I=>{$=!0,g.has(I)&&(ee=!0,g.delete(I)),P.needsAnimating[I]=!0;const M=t.getValue(I);M&&(M.liveStyle=!1)};for(const I in ve){const M=re[I],H=z[I];if(w.hasOwnProperty(I))continue;let D=!1;hm(M)&&hm(H)?D=!x8(M,H):D=M!==H,D?M!=null?K(I):g.add(I):M!==void 0&&g.has(I)?K(I):P.protectedKeys[I]=!0}P.prevProp=y,P.prevResolvedValues=re,P.isActive&&(w={...w,...re}),n&&t.blockInitialAnimation&&($=!1);const B=G&&U;$&&(!B||ee)&&h.push(...ie.map(I=>{const M={type:E};if(typeof I=="string"&&n&&!B&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,D=sa(H,I);if(H.enteringChildren&&D){const{delayChildren:v}=D.transition||{};M.delay=b8(H.enteringChildren,t,v)}}return{animation:I,options:M}}))}if(g.size){const S={};if(typeof f.initial!="boolean"){const E=sa(t,Array.isArray(f.initial)?f.initial[0]:f.initial);E&&E.transition&&(S.transition=E.transition)}g.forEach(E=>{const P=t.getBaseTarget(E),y=t.getValue(E);y&&(y.liveStyle=!0),S[E]=P??null}),h.push({animation:S})}let b=!!h.length;return n&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(h):Promise.resolve()}function u(c,f){if(r[c].isActive===f)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(c,f)),r[c].isActive=f;const p=l(c);for(const h in r)r[h].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>r,reset:()=>{r=hw()}}}function lV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!x8(e,t):!1}function Li(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hw(){return{animate:Li(!0),whileInView:Li(),whileHover:Li(),whileTap:Li(),whileDrag:Li(),whileFocus:Li(),exit:Li()}}class yi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uV extends yi{constructor(e){super(e),e.animationState||(e.animationState=aV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let cV=0;class dV extends yi{constructor(){super(...arguments),this.id=cV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const fV={animation:{Feature:uV},exit:{Feature:dV}};function Dl(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Gl(t){return{point:{x:t.pageX,y:t.pageY}}}const hV=t=>e=>L1(e)&&t(e,Gl(e));function xl(t,e,r,n){return Dl(t,e,hV(r),n)}const E8=1e-4,pV=1-E8,mV=1+E8,C8=.01,gV=0-C8,vV=0+C8;function Gr(t){return t.max-t.min}function yV(t,e,r){return Math.abs(t-e)<=r}function pw(t,e,r,n=.5){t.origin=n,t.originPoint=er(e.min,e.max,t.origin),t.scale=Gr(r)/Gr(e),t.translate=er(r.min,r.max,t.origin)-t.originPoint,(t.scale>=pV&&t.scale<=mV||isNaN(t.scale))&&(t.scale=1),(t.translate>=gV&&t.translate<=vV||isNaN(t.translate))&&(t.translate=0)}function Sl(t,e,r,n){pw(t.x,e.x,r.x,n?n.originX:void 0),pw(t.y,e.y,r.y,n?n.originY:void 0)}function mw(t,e,r){t.min=r.min+e.min,t.max=t.min+Gr(e)}function _V(t,e,r){mw(t.x,e.x,r.x),mw(t.y,e.y,r.y)}function gw(t,e,r){t.min=e.min-r.min,t.max=t.min+Gr(e)}function vd(t,e,r){gw(t.x,e.x,r.x),gw(t.y,e.y,r.y)}function Tn(t){return[t("x"),t("y")]}const T8=({current:t})=>t?t.ownerDocument.defaultView:null,vw=(t,e)=>Math.abs(t-e);function wV(t,e){const r=vw(t.x,e.x),n=vw(t.y,e.y);return Math.sqrt(r**2+n**2)}class R8{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=S0(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,R=wV(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!R)return;const{point:b}=g,{timestamp:S}=Ir;this.history.push({...b,timestamp:S});const{onStart:E,onMove:P}=this.handlers;w||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,g)},this.handlePointerMove=(g,w)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=x0(w,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(g,w)=>{this.end();const{onEnd:R,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=S0(g.type==="pointercancel"?this.lastMoveEventInfo:x0(w,this.transformPagePoint),this.history);this.startEvent&&R&&R(g,E),b&&b(g,E)},!L1(e))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=s||window;const u=Gl(e),c=x0(u,this.transformPagePoint),{point:f}=c,{timestamp:p}=Ir;this.history=[{...f,timestamp:p}];const{onSessionStart:h}=r;h&&h(e,S0(c,this.history)),this.removeListeners=zl(xl(this.contextWindow,"pointermove",this.handlePointerMove),xl(this.contextWindow,"pointerup",this.handlePointerUp),xl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pi(this.updatePoint)}}function x0(t,e){return e?{point:e(t.point)}:t}function yw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function S0({point:t},e){return{point:t,delta:yw(t,k8(e)),offset:yw(t,bV(e)),velocity:xV(e,.1)}}function bV(t){return t[0]}function k8(t){return t[t.length-1]}function xV(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=k8(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>us(e)));)r--;if(!n)return{x:0,y:0};const o=An(s.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-n.x)/o,y:(s.y-n.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function SV(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?er(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?er(r,t,n.max):Math.min(t,r)),t}function _w(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function EV(t,{top:e,left:r,bottom:n,right:s}){return{x:_w(t.x,r,s),y:_w(t.y,e,n)}}function ww(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function CV(t,e){return{x:ww(t.x,e.x),y:ww(t.y,e.y)}}function TV(t,e){let r=.5;const n=Gr(t),s=Gr(e);return s>n?r=Ol(e.min,e.max-n,t.min):n>s&&(r=Ol(t.min,t.max-s,e.min)),Os(0,1,r)}function RV(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const gm=.35;function kV(t=gm){return t===!1?t=0:t===!0&&(t=gm),{x:bw(t,"left","right"),y:bw(t,"top","bottom")}}function bw(t,e,r){return{min:xw(t,e),max:xw(t,r)}}function xw(t,e){return typeof t=="number"?t:t[e]||0}const AV=new WeakMap;class OV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_r(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Gl(h).point)},l=(h,g)=>{const{drag:w,dragPropagation:R,onDragStart:b}=this.getProps();if(w&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DB(w),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tn(E=>{let P=this.getAxisMotionValue(E).get()||0;if(cs.test(P)){const{projection:y}=this.visualElement;if(y&&y.layout){const j=y.layout.layoutBox[E];j&&(P=Gr(j)*(parseFloat(P)/100))}}this.originPoint[E]=P}),b&&Yt.postRender(()=>b(h,g)),pm(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g;const{dragPropagation:w,dragDirectionLock:R,onDirectionLock:b,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:E}=g;if(R&&this.currentDirection===null){this.currentDirection=PV(E),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),S&&S(h,g)},c=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g,this.stop(h,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Tn(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new R8(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:T8(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!n)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Yt.postRender(()=>u(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!bc(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(l=SV(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Ko(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=EV(n.layoutBox,e):this.constraints=!1,this.elastic=kV(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Tn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=RV(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ko(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=NF(n,s.root,this.visualElement.getTransformPagePoint());let l=CV(s.layout.layoutBox,o);if(r){const u=r(AF(l));this.hasMutatedConstraints=!!u,u&&(l=d8(u))}return l}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=Tn(p=>{if(!bc(p,r,this.currentDirection))return;let h=c&&c[p]||{};l&&(h={min:0,max:0});const g=s?200:1e6,w=s?40:1e7,R={type:"inertia",velocity:n?e[p]:0,bounceStiffness:g,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(p,R)});return Promise.all(f).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return pm(this.visualElement,e),n.start(G1(e,n,0,r,this.visualElement,!1))}stopAnimation(){Tn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Tn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Tn(r=>{const{drag:n}=this.getProps();if(!bc(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(r);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[r];o.set(e[r]-er(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ko(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const c=u.get();s[l]=TV({min:c,max:c},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Tn(l=>{if(!bc(l,e,null))return;const u=this.getAxisMotionValue(l),{min:c,max:f}=this.constraints[l];u.set(er(c,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;AV.set(this.visualElement,this);const e=this.visualElement.current,r=xl(e,"pointerdown",c=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ko(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Yt.read(n);const l=Dl(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Tn(p=>{const h=this.getAxisMotionValue(p);h&&(this.originPoint[p]+=c[p].translate,h.set(h.get()+c[p].translate))}),this.visualElement.render())}));return()=>{l(),r(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=gm,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function bc(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function PV(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class NV extends yi{constructor(e){super(e),this.removeGroupControls=On,this.removeListeners=On,this.controls=new OV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sw=t=>(e,r)=>{t&&Yt.postRender(()=>t(e,r))};class MV extends yi{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(e){this.session=new R8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Sw(e),onStart:Sw(r),onMove:n,onEnd:(o,l)=>{delete this.session,s&&Yt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=xl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ew(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pt.test(t))t=parseFloat(t);else return t;const r=Ew(t,e.target.x),n=Ew(t,e.target.y);return`${r}% ${n}%`}},IV={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=mi.parse(t);if(s.length>5)return n;const o=mi.createTransformer(t),l=typeof s[0]!="number"?1:0,u=r.x.scale*e.x,c=r.y.scale*e.y;s[0+l]/=u,s[1+l]/=c;const f=er(u,c,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),o(s)}};let E0=!1;class DV extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:o}=e;nF(jV),o&&(r.group&&r.group.add(o),n&&n.register&&s&&n.register(o),E0&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Uc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:o}=this.props,{projection:l}=n;return l&&(l.isPresent=o,E0=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Yt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),j1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;E0=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function A8(t){const[e,r]=Q5(),n=A.useContext(p1);return T.jsx(DV,{...t,layoutGroup:n,switchLayoutGroup:A.useContext(u8),isPresent:e,safeToRemove:r})}const jV={borderRadius:{...dl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dl,borderTopRightRadius:dl,borderBottomLeftRadius:dl,borderBottomRightRadius:dl,boxShadow:IV};function LV(t,e,r){const n=Hr(t)?t:da(t);return n.start(G1("",n,e,r)),n.animation}const BV=(t,e)=>t.depth-e.depth;class FV{constructor(){this.children=[],this.isDirty=!1}add(e){v1(this.children,e),this.isDirty=!0}remove(e){y1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(BV),this.isDirty=!1,this.children.forEach(e)}}function VV(t,e){const r=an.now(),n=({timestamp:s})=>{const o=s-r;o>=e&&(pi(n),t(o-e))};return Yt.setup(n,!0),()=>pi(n)}const O8=["TopLeft","TopRight","BottomLeft","BottomRight"],$V=O8.length,Cw=t=>typeof t=="string"?parseFloat(t):t,Tw=t=>typeof t=="number"||pt.test(t);function UV(t,e,r,n,s,o){s?(t.opacity=er(0,r.opacity??1,HV(n)),t.opacityExit=er(e.opacity??1,0,zV(n))):o&&(t.opacity=er(e.opacity??1,r.opacity??1,n));for(let l=0;l<$V;l++){const u=`border${O8[l]}Radius`;let c=Rw(e,u),f=Rw(r,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||Tw(c)===Tw(f)?(t[u]=Math.max(er(Cw(c),Cw(f),n),0),(cs.test(f)||cs.test(c))&&(t[u]+="%")):t[u]=f}(e.rotate||r.rotate)&&(t.rotate=er(e.rotate||0,r.rotate||0,n))}function Rw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const HV=P8(0,.5,v5),zV=P8(.5,.95,On);function P8(t,e,r){return n=>n<t?0:n>e?1:r(Ol(t,e,n))}function kw(t,e){t.min=e.min,t.max=e.max}function $n(t,e){kw(t.x,e.x),kw(t.y,e.y)}function Aw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ow(t,e,r,n,s){return t-=e,t=gd(t,1/r,n),s!==void 0&&(t=gd(t,1/s,n)),t}function WV(t,e=0,r=1,n=.5,s,o=t,l=t){if(cs.test(e)&&(e=parseFloat(e),e=er(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=er(o.min,o.max,n);t===o&&(u-=e),t.min=Ow(t.min,e,r,u,s),t.max=Ow(t.max,e,r,u,s)}function Pw(t,e,[r,n,s],o,l){WV(t,e[r],e[n],e[s],e.scale,o,l)}const qV=["x","scaleX","originX"],GV=["y","scaleY","originY"];function Nw(t,e,r,n){Pw(t.x,e,qV,r?r.x:void 0,n?n.x:void 0),Pw(t.y,e,GV,r?r.y:void 0,n?n.y:void 0)}function Mw(t){return t.translate===0&&t.scale===1}function N8(t){return Mw(t.x)&&Mw(t.y)}function Iw(t,e){return t.min===e.min&&t.max===e.max}function KV(t,e){return Iw(t.x,e.x)&&Iw(t.y,e.y)}function Dw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function M8(t,e){return Dw(t.x,e.x)&&Dw(t.y,e.y)}function jw(t){return Gr(t.x)/Gr(t.y)}function Lw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class YV{constructor(){this.members=[]}add(e){v1(this.members,e),e.scheduleRender()}remove(e){if(y1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XV(t,e,r){let n="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=r?.z||0;if((s||o||l)&&(n=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:f,rotate:p,rotateX:h,rotateY:g,skewX:w,skewY:R}=r;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),h&&(n+=`rotateX(${h}deg) `),g&&(n+=`rotateY(${g}deg) `),w&&(n+=`skewX(${w}deg) `),R&&(n+=`skewY(${R}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(n+=`scale(${u}, ${c})`),n||"none"}const C0=["","X","Y","Z"],QV=1e3;let ZV=0;function T0(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function I8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=_8(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Yt,!(s||o))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&I8(n)}function D8({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=ZV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(t$),this.nodes.forEach(i$),this.nodes.forEach(o$),this.nodes.forEach(r$)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new FV)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new b1),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const c=this.eventHandlers.get(l);c&&c.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=X5(l)&&!$B(l),this.instance=l;const{layoutId:u,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),t){let p,h=0;const g=()=>this.root.updateBlockedByResize=!1;Yt.read(()=>{h=window.innerWidth}),t(l,()=>{const w=window.innerWidth;w!==h&&(h=w,this.root.updateBlockedByResize=!0,p&&p(),p=VV(g,250),Uc.hasAnimatedSinceResize&&(Uc.hasAnimatedSinceResize=!1,this.nodes.forEach(Vw)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:h,hasRelativeLayoutChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||f.getDefaultTransition()||d$,{onLayoutAnimationStart:b,onLayoutAnimationComplete:S}=f.getProps(),E=!this.targetLayout||!M8(this.targetLayout,w),P=!h&&g;if(this.options.layoutRoot||this.resumeFrom||P||h&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...I1(R,"layout"),onPlay:b,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(p,P)}else h||Vw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a$),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&I8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const h=this.path[p];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(s$),this.nodes.forEach(JV),this.nodes.forEach(e$)):this.nodes.forEach(Fw),this.clearAllSnapshots();const u=an.now();Ir.delta=Os(0,1e3/60,u-Ir.timestamp),Ir.timestamp=u,Ir.isProcessing=!0,p0.update.process(Ir),p0.preRender.process(Ir),p0.render.process(Ir),Ir.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,j1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(n$),this.sharedNodes.forEach(l$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gr(this.snapshot.measuredBox.x)&&!Gr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=_r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!N8(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||Ui(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return l&&(c=this.removeTransform(c)),f$(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return _r();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(h$))){const{scroll:f}=this.root;f&&(Yo(u.x,f.offset.x),Yo(u.y,f.offset.y))}return u}removeElementScroll(l){const u=_r();if($n(u,l),this.scroll?.wasRoot)return u;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:p,options:h}=f;f!==this.root&&p&&h.layoutScroll&&(p.wasRoot&&$n(u,l),Yo(u.x,p.offset.x),Yo(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const c=_r();$n(c,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Xo(c,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ui(p.latestValues)&&Xo(c,p.latestValues)}return Ui(this.latestValues)&&Xo(c,this.latestValues),c}removeTransform(l){const u=_r();$n(u,l);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Ui(f.latestValues))continue;cm(f.latestValues)&&f.updateSnapshot();const p=_r(),h=f.measurePageBox();$n(p,h),Nw(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Ui(this.latestValues)&&Nw(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ir.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:h}=this.options;if(!this.layout||!(p||h))return;this.resolvedRelativeTargetAt=Ir.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_r(),this.targetWithTransforms=_r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_V(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),h8(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||cm(this.parent.latestValues)||f8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,c){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),vd(this.relativeTargetOrigin,u,c),$n(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ir.timestamp&&(c=!1),c)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;$n(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;PF(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=_r());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Aw(this.prevProjectionDelta.x,this.projectionDelta.x),Aw(this.prevProjectionDelta.y,this.projectionDelta.y)),Sl(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!Lw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qo(),this.projectionDelta=Qo(),this.projectionDeltaWithTransform=Qo()}setAnimationOrigin(l,u=!1){const c=this.snapshot,f=c?c.latestValues:{},p={...this.latestValues},h=Qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const g=_r(),w=c?c.source:void 0,R=this.layout?this.layout.source:void 0,b=w!==R,S=this.getStack(),E=!S||S.members.length<=1,P=!!(b&&!E&&this.options.crossfade===!0&&!this.path.some(c$));this.animationProgress=0;let y;this.mixTargetDelta=j=>{const L=j/1e3;$w(h.x,l.x,L),$w(h.y,l.y,L),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vd(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),u$(this.relativeTarget,this.relativeTargetOrigin,g,L),y&&KV(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=_r()),$n(y,this.relativeTarget)),b&&(this.animationValues=p,UV(p,f,this.latestValues,L,P,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(pi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{Uc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=da(0)),this.currentAnimation=LV(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:p}=l;if(!(!u||!c||!f)){if(this!==l&&this.layout&&f&&j8(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||_r();const h=Gr(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+h;const g=Gr(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+g}$n(u,c),Xo(u,p),Sl(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new YV),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const f={};c.z&&T0("z",l,f,this.animationValues);for(let p=0;p<C0.length;p++)T0(`rotate${C0[p]}`,l,f,this.animationValues),T0(`skew${C0[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=$c(u?.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=$c(u?.pointerEvents)||""),this.hasProjected&&!Ui(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let h=XV(this.projectionDeltaWithTransform,this.treeScale,p);c&&(h=c(p,h)),l.transform=h;const{x:g,y:w}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const R in Il){if(p[R]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:E}=Il[R],P=h==="none"?p[R]:b(p[R],f);if(S){const y=S.length;for(let j=0;j<y;j++)l[S[j]]=P}else E?this.options.visualElement.renderState.vars[R]=P:l[R]=P}this.options.layoutId&&(l.pointerEvents=f===this?$c(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Bw),this.root.sharedNodes.clear()}}}function JV(t){t.updateLayout()}function e$(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Tn(p=>{const h=o?e.measuredBox[p]:e.layoutBox[p],g=Gr(h);h.min=r[p].min,h.max=h.min+g}):j8(s,e.layoutBox,r)&&Tn(p=>{const h=o?e.measuredBox[p]:e.layoutBox[p],g=Gr(r[p]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+g)});const l=Qo();Sl(l,r,e.layoutBox);const u=Qo();o?Sl(u,t.applyTransform(n,!0),e.measuredBox):Sl(u,r,e.layoutBox);const c=!N8(l);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:h,layout:g}=p;if(h&&g){const w=_r();vd(w,e.layoutBox,h.layoutBox);const R=_r();vd(R,r,g.layoutBox),M8(w,R)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=w,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function t$(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function r$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function n$(t){t.clearSnapshot()}function Bw(t){t.clearMeasurements()}function Fw(t){t.isLayoutDirty=!1}function s$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Vw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function i$(t){t.resolveTargetDelta()}function o$(t){t.calcProjection()}function a$(t){t.resetSkewAndRotation()}function l$(t){t.removeLeadSnapshot()}function $w(t,e,r){t.translate=er(e.translate,0,r),t.scale=er(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Uw(t,e,r,n){t.min=er(e.min,r.min,n),t.max=er(e.max,r.max,n)}function u$(t,e,r,n){Uw(t.x,e.x,r.x,n),Uw(t.y,e.y,r.y,n)}function c$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const d$={duration:.45,ease:[.4,0,.1,1]},Hw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zw=Hw("applewebkit/")&&!Hw("chrome/")?Math.round:On;function Ww(t){t.min=zw(t.min),t.max=zw(t.max)}function f$(t){Ww(t.x),Ww(t.y)}function j8(t,e,r){return t==="position"||t==="preserve-aspect"&&!yV(jw(e),jw(r),.2)}function h$(t){return t!==t.root&&t.scroll?.wasRoot}const p$=D8({attachResizeListener:(t,e)=>Dl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),R0={current:void 0},L8=D8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!R0.current){const t=new p$({});t.mount(window),t.setOptions({layoutScroll:!0}),R0.current=t}return R0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),m$={pan:{Feature:MV},drag:{Feature:NV,ProjectionNode:L8,MeasureLayout:A8}};function qw(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,o=n[s];o&&Yt.postRender(()=>o(e,Gl(e)))}class g$ extends yi{mount(){const{current:e}=this.node;e&&(this.unmount=jB(e,(r,n)=>(qw(this.node,n,"Start"),s=>qw(this.node,s,"End"))))}unmount(){}}class v$ extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zl(Dl(this.node.current,"focus",()=>this.onFocus()),Dl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gw(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),o=n[s];o&&Yt.postRender(()=>o(e,Gl(e)))}class y$ extends yi{mount(){const{current:e}=this.node;e&&(this.unmount=VB(e,(r,n)=>(Gw(this.node,n,"Start"),(s,{success:o})=>Gw(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vm=new WeakMap,k0=new WeakMap,_$=t=>{const e=vm.get(t.target);e&&e(t)},w$=t=>{t.forEach(_$)};function b$({root:t,...e}){const r=t||document;k0.has(r)||k0.set(r,{});const n=k0.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(w$,{root:t,...e})),n[s]}function x$(t,e,r){const n=b$(e);return vm.set(t,r),n.observe(t),()=>{vm.delete(t),n.unobserve(t)}}const S$={some:0,all:1};class E$ extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:o}=e,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:S$[s]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:h}=this.node.getProps(),g=f?p:h;g&&g(c)};return x$(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(C$(e,r))&&this.startObserver()}unmount(){}}function C$({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const T$={inView:{Feature:E$},tap:{Feature:y$},focus:{Feature:v$},hover:{Feature:g$}},R$={layout:{ProjectionNode:L8,MeasureLayout:A8}},k$={...fV,...T$,...m$,...R$},B8=kF(k$,$F);function Bi(t){return t?t.startsWith("Key")?t.replace("Key",""):t.startsWith("Digit")?t.replace("Digit",""):t.startsWith("Numpad")?t.replace("Numpad","Num"):{Space:"Space",Enter:"Enter",Tab:"Tab",Backspace:"Backspace",ArrowUp:"",ArrowDown:"",ArrowLeft:"",ArrowRight:"",Minus:"-",Equal:"=",BracketLeft:"[",BracketRight:"]",Backslash:"\\",Semicolon:";",Quote:"'",Comma:",",Period:".",Slash:"/",Backquote:"`"}[t]||t:""}function A$(t){return!["ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","MetaLeft","MetaRight","CapsLock","NumLock","ScrollLock","ContextMenu","Escape"].includes(t)}const O$=({sound:t,masterVolume:e,onClose:r,onSave:n})=>{const{t:s}=Pn(),o=A.useRef(null),l=A.useRef(null),u=A.useRef(null),c=A.useRef(null),[f,p]=A.useState([]),[h,g]=A.useState(!1),[w,R]=A.useState(0),[b,S]=A.useState(t.duration||0),E=t.trimStart!==void 0&&t.trimEnd!==void 0?{start:t.trimStart,end:t.trimEnd}:null,[P,y]=A.useState(E),[j,L]=A.useState(!1),[G,U]=A.useState(null),$=A.useRef(null),[ee,ie]=A.useState({width:1200,height:200}),re=P===null&&E===null?!1:P===null||E===null?!0:P.start!==E.start||P.end!==E.end;A.useEffect(()=>((async()=>{try{const _=await(await fetch(t.fileUrl)).arrayBuffer(),x=new AudioContext;c.current=x;const O=await x.decodeAudioData(_);S(O.duration);const F=O.getChannelData(0),Q=500,X=Math.floor(F.length/Q),W=[];for(let be=0;be<Q;be++){let Ce=0;for(let Te=0;Te<X;Te++)Ce+=Math.abs(F[be*X+Te]);W.push(Ce/X)}const se=Math.max(...W),le=W.map(be=>be/se);p(le)}catch{}})(),()=>{c.current&&c.current.close()}),[t.fileUrl]),A.useEffect(()=>{const D=()=>{if(l.current){const O=l.current.clientWidth-48;ie({width:O>0?O:800,height:200})}};D(),window.addEventListener("resize",D);const v=new ResizeObserver(D);return l.current&&v.observe(l.current),()=>{window.removeEventListener("resize",D),v.disconnect()}},[]),A.useEffect(()=>{const D=o.current;if(!D||f.length===0)return;const v=D.getContext("2d");if(!v)return;const _=D.width,x=D.height,O=_/f.length;v.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--color-surface-secondary").trim()||"#1a1a1b",v.fillRect(0,0,_,x);const F=b>0?b:1;if(P){const Q=P.start/F*_,X=P.end/F*_;v.fillStyle="rgba(59, 130, 246, 0.2)",v.fillRect(Q,0,X-Q,x)}if(f.forEach((Q,X)=>{const W=X*O,se=Q*x*.8,le=(x-se)/2;let be=!1;if(P){const Ce=X/f.length*F;be=Ce>=P.start&&Ce<=P.end}v.fillStyle=be?"#3b82f6":getComputedStyle(document.documentElement).getPropertyValue("--color-foreground-tertiary").trim()||"#666",v.fillRect(W,le,Math.max(1,O-1),se)}),h||w>0){const Q=w/F*_,X=Math.max(0,Math.min(_,Q)),W=getComputedStyle(document.documentElement).getPropertyValue("--color-foreground-primary").trim()||"#ffffff";v.strokeStyle=W,v.lineWidth=2,v.beginPath(),v.moveTo(X,0),v.lineTo(X,x),v.stroke()}},[f,P,w,h,b]),A.useEffect(()=>{if(!h){$.current&&cancelAnimationFrame($.current);return}const D=()=>{if(u.current&&(R(u.current.currentTime),P&&u.current.currentTime>=P.end)){u.current.pause(),u.current.currentTime=P.start,g(!1);return}$.current=requestAnimationFrame(D)};return $.current=requestAnimationFrame(D),()=>{$.current&&cancelAnimationFrame($.current)}},[h,P]);const z=D=>{D.stopPropagation();const v=o.current;if(!v)return;const _=v.getBoundingClientRect(),x=D.clientX-_.left,O=b>0?b:1,F=x/_.width*O;L(!0),U(F),y({start:F,end:F})},ve=D=>{if(D.stopPropagation(),!j||G===null)return;const v=o.current;if(!v)return;const _=v.getBoundingClientRect(),x=D.clientX-_.left,O=b>0?b:1,F=x/_.width*O,Q=Math.max(0,Math.min(O,F));y({start:Math.min(G,Q),end:Math.max(G,Q)})},K=D=>{if(D.stopPropagation(),D.preventDefault(),!j||G===null){L(!1),U(null);return}const v=o.current;if(!v){L(!1),U(null);return}const _=v.getBoundingClientRect(),x=D.clientX-_.left,O=b>0?b:1,F=x/_.width*O,Q=Math.max(0,Math.min(O,F)),X=Math.min(G,Q),W=Math.max(G,Q);if(L(!1),U(null),X!==W){if(u.current&&u.current.pause(),!u.current){const se=new Audio(t.fileUrl);se.volume=t.volume*e,u.current=se,se.onended=()=>{g(!1),R(0)}}u.current.currentTime=X,u.current.play(),g(!0)}},B=()=>{if(!u.current){const D=new Audio(t.fileUrl);D.volume=t.volume*e,u.current=D,D.onended=()=>{g(!1),R(0)}}h?(u.current.pause(),g(!1)):(P&&(u.current.currentTime=P.start),u.current.play(),g(!0))},k=()=>{if(u.current){const D=P?P.start:0;u.current.currentTime=D,R(D)}},I=()=>{y(null)};A.useEffect(()=>()=>{u.current&&(u.current.pause(),u.current=null)},[]),A.useEffect(()=>{const D=v=>{v.code==="Space"&&(v.preventDefault(),g(_=>{const x=!_;if(x){if(!u.current){const F=new Audio(t.fileUrl);F.volume=t.volume*e,u.current=F,F.onended=()=>{g(!1),R(0)}}const O=P?P.start:0;u.current.currentTime=O,u.current.play()}else u.current&&u.current.pause();return x}))};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[t.fileUrl,t.volume,e,P]),A.useEffect(()=>(document.body.setAttribute("data-waveform-editor-open","true"),()=>{document.body.removeAttribute("data-waveform-editor-open")}),[]);const M=D=>{const v=Math.floor(D/60),_=Math.floor(D%60);return`${v}:${_.toString().padStart(2,"0")}`};return T.jsx(Kp,{open:!0,onOpenChange:r,children:T.jsxs(WS,{children:[T.jsx(h1,{className:"bg-black/60",onClick:D=>D.stopPropagation(),onMouseDown:D=>D.stopPropagation(),onMouseUp:D=>D.stopPropagation()}),T.jsxs(f1,{className:"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-4xl translate-x-[-50%] translate-y-[-50%] rounded-xl shadow-2xl duration-200 border border-surface-border overflow-hidden",onClick:D=>D.stopPropagation(),onMouseDown:D=>D.stopPropagation(),onMouseUp:D=>D.stopPropagation(),onPointerDownOutside:D=>D.preventDefault(),onInteractOutside:D=>D.preventDefault(),children:[T.jsxs("div",{className:"flex items-center justify-between p-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-semibold",children:t.title}),T.jsx("p",{className:"text-sm text-foreground-secondary mt-1",children:P?`${M(P.start)} - ${M(P.end)} (${M(P.end-P.start)})`:`${s("waveEditor.total")}: ${M(b)}`})]}),T.jsx(Pt,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full",children:T.jsx(xd,{size:20})})]}),T.jsxs("div",{ref:l,className:"flex-1 p-6 overflow-auto",children:[T.jsx("canvas",{ref:o,width:ee.width,height:ee.height,className:"w-full bg-surface-secondary rounded-lg cursor-crosshair",onMouseDown:z,onMouseMove:ve,onMouseUp:K,onMouseLeave:K}),T.jsx("p",{className:"text-xs text-foreground-tertiary text-center mt-3",children:s("waveEditor.dragToSelect")})]}),T.jsxs("div",{className:"p-6 flex items-center justify-between gap-4",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Pt,{variant:"outline",size:"icon",onClick:k,disabled:!h&&w===0,className:"h-[36px] w-[36px] rounded-[12px] bg-surface-secondary hover:bg-surface-tertiary border-surface-border",children:T.jsx(ZC,{size:16})}),T.jsx(Pt,{variant:"outline",onClick:B,className:"gap-2 min-w-[100px] h-[36px] rounded-[12px] bg-surface-secondary text-foreground-primary hover:bg-surface-tertiary border-surface-border",children:h?T.jsxs(T.Fragment,{children:[T.jsx(sx,{size:16,className:"fill-current"}),T.jsx("span",{className:"font-semibold text-[14px]",children:s("waveEditor.pause")})]}):T.jsxs(T.Fragment,{children:[T.jsx(ix,{size:16,className:"fill-current"}),T.jsx("span",{className:"font-semibold text-[14px]",children:s("waveEditor.play")})]})})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[P&&T.jsx(Pt,{variant:"outline",onClick:I,children:s("waveEditor.clear")}),re&&T.jsx(Pt,{onClick:()=>{P?n(P.start,P.end):n(0,b),Ut({name:"event_trim_sound",params:{sound_id:t.id}}),r()},children:s("waveEditor.saveRange")})]})]})]})]})})},Kw=({onClick:t,icon:e,label:r,className:n})=>T.jsxs(Pt,{variant:"outline",size:"sm",className:ui("w-full h-[36px] rounded-[12px] transition-colors px-[16px] py-[8px] gap-[4px] bg-surface-secondary text-foreground-primary hover:bg-surface-tertiary border-surface-border",n),onClick:t,children:[T.jsx(e,{size:12,className:"fill-current"}),T.jsx("span",{className:"hidden sm:inline font-semibold text-[14px] leading-[20px] tracking-[-0.1504px] px-[2px] py-[0px]",children:r})]}),K1=({sound:t,masterVolume:e=1,onDelete:r,onVolumeChange:n,onEdit:s,allSounds:o,isDragging:l=!1})=>{const{t:u}=Pn(),[c,f]=A.useState(!1),[p,h]=A.useState(0),[g,w]=A.useState(t.duration||0),[R,b]=A.useState(!1),[S,E]=A.useState(!1),[P,y]=A.useState(t.title),[j,L]=A.useState(t.emoji||""),[G,U]=A.useState(t.hotkey||""),[$,ee]=A.useState(!1),[ie,re]=A.useState(!1),[z,ve]=A.useState(!1),[K,B]=A.useState(!1),[k,I]=A.useState(!1),[M,H]=A.useState(""),[D,v]=A.useState(!1),[_,x]=A.useState(!1),O=A.useRef(t.volume),[F,Q]=A.useState(null),X=A.useRef(null),W=A.useRef(null);A.useEffect(()=>{const he=new Audio(t.fileUrl);return X.current=he,he.volume=t.volume*e,he.addEventListener("loadedmetadata",()=>{w(he.duration)}),he.addEventListener("ended",()=>{f(!1),h(t.trimStart||0),le()}),he.addEventListener("timeupdate",()=>{t.trimEnd!==void 0&&he.currentTime>=t.trimEnd&&(he.pause(),he.currentTime=t.trimStart||0,h(t.trimStart||0),f(!1),le())}),he.addEventListener("error",Ie=>{_t.error("Audio loading error for",t.title)}),()=>{he.pause(),he.src="",le()}},[t.fileUrl,t.trimStart,t.trimEnd]),A.useEffect(()=>{X.current&&(X.current.volume=t.volume*e)},[t.volume,e]),A.useEffect(()=>{const he=Ie=>{const qe=Ie.detail?.method==="hotkey"?"hotkey":"click";Ce(qe)};return window.addEventListener(`play-sound-${t.id}`,he),()=>{window.removeEventListener(`play-sound-${t.id}`,he)}},[t.id,t.trimStart,t.isDefault]),A.useEffect(()=>{_?(ee(!0),H(""),Tt.info("Press any key (ESC to cancel)")):ee(!1)},[_]),A.useEffect(()=>{S&&(y(t.title),L(t.emoji||""),U(t.hotkey||""),t.isDefault?Q(u("soundCard.defaultSound")):(Q(u("common.loading")),DM(t.fileUrl).then(he=>{if(he){const Ie=parseInt(he,10);Ie<1024*1024?Q(`${(Ie/1024).toFixed(1)} KB`):Q(`${(Ie/(1024*1024)).toFixed(2)} MB`)}else Q(u("soundCard.unknownSize"))}).catch(()=>Q(u("soundCard.unknownSize")))))},[S,t.title,t.emoji,t.hotkey,t.isDefault,t.fileUrl]),A.useEffect(()=>{if(!$)return;const he=nt=>{if(nt.preventDefault(),nt.stopPropagation(),nt.code==="Escape"){ee(!1),Tt.info("Hotkey capture cancelled");return}const qe=nt.code;if(!A$(qe)){Tt.error("Invalid hotkey (modifier keys not allowed)");return}if(o&&o.length>0){const yt=o.find(xt=>xt.id!==t.id&&xt.hotkey===qe);if(yt){const xt=Bi(qe);H(`Hotkey "${xt}" is already used by "${yt.title}"`);return}}U(qe),ee(!1),H("");const Ne=Bi(qe);Tt.success(`Hotkey set to: ${Ne}`),s&&(s({hotkey:qe}),Ut({name:"event_set_hotkey",params:{key_combo:Ne,sound_id:t.id}}))},Ie=nt=>{nt.target.closest("#hotkey")||(ee(!1),Tt.info("Hotkey capture cancelled"))};return window.addEventListener("keydown",he,!0),window.addEventListener("click",Ie,!0),()=>{window.removeEventListener("keydown",he,!0),window.removeEventListener("click",Ie,!0)}},[$,o,t.id]);const se=()=>{le(),W.current=window.setInterval(()=>{X.current&&h(X.current.currentTime)},50)},le=()=>{W.current&&(clearInterval(W.current),W.current=null)},be=(he="click")=>{X.current&&(c?(X.current.pause(),f(!1),le()):((X.current.currentTime===0||X.current.currentTime<(t.trimStart||0))&&(X.current.currentTime=t.trimStart||0),X.current.play().catch(Ie=>_t.error("Play error",Ie)),f(!0),se(),Ut({name:"event_play_sound",params:{method:he,source_type:t.isDefault?"demo":"user_upload"}})))},Ce=(he="click")=>{if(X.current)if(c)Te();else{const Ie=t.trimStart||0;X.current.currentTime=Ie,X.current.play().catch(nt=>_t.error("Play error",nt)),f(!0),se(),Ut({name:"event_play_sound",params:{method:he,source_type:t.isDefault?"demo":"user_upload"}})}},Te=()=>{X.current&&(X.current.pause(),X.current.currentTime=t.trimStart||0,h(t.trimStart||0),f(!1),le())},je=()=>{const he=t.trimStart||0;return p>he},Ue=he=>{const Ie=he[0];X.current&&(X.current.volume=Ie*e),n&&n(Ie)},lt=he=>{const Ie=Math.floor(he/60),nt=Math.floor(he%60);return`${Ie}:${nt.toString().padStart(2,"0")}`},Et=t.trimStart!==void 0&&t.trimEnd!==void 0?t.trimEnd-t.trimStart:g,V=t.trimStart!==void 0&&t.trimEnd!==void 0,Y=()=>{E(!0),H("")},Le=()=>{E(!1),ee(!1),H("")},Be=he=>{he?E(he):setTimeout(()=>{Le()},0)},We=()=>{const he={};j!==t.emoji&&(he.emoji=j),P!==t.title&&(he.title=P),s&&Object.keys(he).length>0&&(s(he),Ut({name:"event_edit_sound",params:{sound_id:t.id}})),ee(!1),Le()},Ge=()=>{ee(!0),H("")};return T.jsxs("div",{className:ui("relative flex flex-col rounded-[14px] border transition-all duration-100 overflow-hidden select-none cursor-pointer","bg-card","border-surface-secondary",c?"ring-1 ring-primary border-primary scale-[1.02]":"hover:border-surface-border"),onClick:he=>{he.stopPropagation(),Ce("click")},"data-sound-card":!0,children:[T.jsxs("div",{className:"relative p-[16px] flex flex-col h-full z-10 bg-[rgba(0,0,0,0)]",children:[T.jsxs("div",{className:"flex flex-col gap-0 md:gap-[6px] w-full mb-[12px]",children:[T.jsxs("div",{className:"flex items-center justify-between w-full",children:[T.jsx("span",{className:"text-[20px] leading-[20px] md:text-[24px] md:leading-[24px]",children:t.emoji||""}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{onClick:he=>{he.stopPropagation(),x(!0),H("")},className:"hidden md:inline-flex w-[24px] h-[24px] text-[13px] font-bold leading-[16px] font-mono text-center rounded-[4px] bg-surface-secondary text-foreground-secondary border border-surface-border hover:bg-surface-tertiary hover:border-foreground-tertiary transition-all cursor-pointer items-center justify-center",title:t.hotkey?`Hotkey: ${Bi(t.hotkey)}`:u("editModal.hotkeyPlaceholder"),children:t.hotkey?Bi(t.hotkey):T.jsx(jh,{size:14,className:"text-foreground-tertiary"})}),T.jsxs(ea,{open:z,onOpenChange:ve,children:[T.jsx(Yi,{asChild:!0,children:T.jsx(Pt,{variant:"ghost",size:"icon",className:"md:hidden h-[36px] w-[36px] -mr-2 rounded-[8px] text-foreground-secondary hover:text-foreground-primary hover:bg-surface-secondary transition-all",onClick:he=>{he.stopPropagation()},children:T.jsx(jy,{size:16})})}),T.jsx(Xi,{className:"w-56 p-2 bg-card border-surface-border",align:"end",onClick:he=>he.stopPropagation(),children:T.jsxs("div",{className:"space-y-1",children:[T.jsxs("div",{className:"px-3 py-3 rounded-md",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.volume===0?T.jsx(qo,{size:16,className:"text-foreground-secondary"}):T.jsx(Wo,{size:16,className:"text-foreground-secondary"}),T.jsx("span",{className:"text-sm text-foreground-primary",children:u("soundCard.volume")}),T.jsxs("span",{className:"ml-auto text-xs font-mono text-foreground-secondary",children:[Math.round(t.volume*100),"%"]})]}),T.jsx("div",{className:"flex items-center gap-2",children:T.jsx(yl,{value:[t.volume],min:0,max:1,step:.05,onValueChange:Ue,onPointerDown:()=>{O.current=t.volume},onValueCommit:he=>{Ut({name:"event_volume_controlled",params:{volume_type:"sound_card",source_id:t.id,prev_vol:O.current,curr_vol:he[0]}})},className:"flex-1"})})]}),T.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground-primary rounded-md hover:bg-surface-tertiary transition-colors",onClick:he=>{he.stopPropagation(),ve(!1),Y()},children:[T.jsx(Fy,{size:16,className:"text-foreground-secondary"}),T.jsx("span",{children:u("soundCard.editInfo")})]}),T.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground-primary rounded-md hover:bg-surface-tertiary transition-colors",onClick:he=>{he.stopPropagation(),ve(!1),v(!0)},children:[T.jsx($y,{size:16,className:"text-foreground-secondary"}),T.jsx("span",{children:u("soundCard.trimRange")})]}),T.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 dark:text-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",onClick:he=>{he.stopPropagation(),ve(!1),I(!0)},children:[T.jsx(Wc,{size:16}),T.jsx("span",{children:u("soundCard.delete")})]})]})})]})]})]}),T.jsx("h3",{className:"font-['Sora'] font-semibold text-[16px] md:text-[18px] leading-[24px] tracking-[-0.3125px] text-foreground-primary truncate w-full",title:t.title,children:t.title}),T.jsx("div",{className:"h-[48px] w-full pointer-events-none",children:T.jsx(vj,{audioUrl:t.fileUrl,currentTime:p,duration:g,isPlaying:c,trimStart:t.trimStart,trimEnd:t.trimEnd})}),T.jsxs("div",{className:"flex gap-[2px] items-center text-[12px] leading-[16px] font-medium",children:[T.jsx("span",{className:"text-foreground-secondary",children:lt(p)}),T.jsx("span",{className:"text-foreground-tertiary",children:"/"}),T.jsx("span",{className:"text-foreground-secondary",children:lt(Et)}),V&&T.jsx("span",{className:"text-foreground-tertiary ml-1",children:u("soundCard.trimmed")})]})]}),T.jsxs("div",{className:"flex gap-[4px] items-start w-full",children:[T.jsx("div",{className:"flex-1",children:T.jsx(Kw,{icon:c?sx:ix,label:u(c?"soundCard.pause":"soundCard.play"),onClick:he=>{he.stopPropagation(),be("click")}})}),T.jsx(XB,{mode:"popLayout",children:(c||je())&&T.jsx(B8.div,{initial:{opacity:0,x:8,width:0},animate:{opacity:1,x:0,width:"auto"},exit:{opacity:0,x:8,width:0},transition:{duration:.2,ease:"easeInOut"},className:"flex-1",children:T.jsx(Kw,{icon:eT,label:u("soundCard.stop"),onClick:he=>{he.stopPropagation(),Te()}})})}),T.jsxs(ea,{open:K,onOpenChange:B,children:[T.jsx(Yi,{asChild:!0,children:T.jsx(Pt,{variant:"ghost",size:"icon",className:"hidden md:flex h-[36px] w-[36px] -mr-2 rounded-[8px] text-foreground-secondary hover:text-foreground-primary hover:bg-surface-secondary transition-all",onClick:he=>{he.stopPropagation()},children:T.jsx(jy,{size:16})})}),T.jsx(Xi,{className:"w-56 p-2 bg-card border-surface-border",align:"end",onClick:he=>he.stopPropagation(),children:T.jsxs("div",{className:"space-y-1",children:[T.jsxs("div",{className:"px-3 py-3 rounded-md",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.volume===0?T.jsx(qo,{size:16,className:"text-foreground-secondary"}):T.jsx(Wo,{size:16,className:"text-foreground-secondary"}),T.jsx("span",{className:"text-sm text-foreground-primary",children:u("soundCard.volume")}),T.jsxs("span",{className:"ml-auto text-xs font-mono text-foreground-secondary",children:[Math.round(t.volume*100),"%"]})]}),T.jsx("div",{className:"flex items-center gap-2",children:T.jsx(yl,{value:[t.volume],min:0,max:1,step:.05,onValueChange:Ue,onPointerDown:()=>{O.current=t.volume},onValueCommit:he=>{Ut({name:"event_volume_controlled",params:{volume_type:"sound_card",source_id:t.id,prev_vol:O.current,curr_vol:he[0]}})},className:"flex-1"})})]}),T.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground-primary rounded-md hover:bg-surface-tertiary transition-colors",onClick:he=>{he.stopPropagation(),B(!1),Y()},children:[T.jsx(Fy,{size:16,className:"text-foreground-secondary"}),T.jsx("span",{children:u("soundCard.editInfo")})]}),T.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground-primary rounded-md hover:bg-surface-tertiary transition-colors",onClick:he=>{he.stopPropagation(),B(!1),v(!0)},children:[T.jsx($y,{size:16,className:"text-foreground-secondary"}),T.jsx("span",{children:u("soundCard.trimRange")})]}),T.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 dark:text-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",onClick:he=>{he.stopPropagation(),B(!1),I(!0)},children:[T.jsx(Wc,{size:16}),T.jsx("span",{children:u("soundCard.delete")})]})]})})]})]})]}),T.jsxs("div",{onClick:he=>he.stopPropagation(),children:[T.jsx(Kp,{open:S,onOpenChange:Be,children:T.jsxs(Yp,{className:"sm:max-w-[425px]",onClick:he=>he.stopPropagation(),onPointerDownOutside:he=>{he.preventDefault(),he.stopPropagation()},onInteractOutside:he=>{he.preventDefault(),he.stopPropagation()},onKeyDown:he=>{he.key==="Enter"&&!he.shiftKey&&!he.ctrlKey&&!he.metaKey&&($||(he.preventDefault(),We()))},children:[T.jsx(I_,{children:T.jsx(Xp,{children:u("editModal.title")})}),T.jsxs("div",{className:"grid gap-4 py-4",children:[T.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[T.jsx(h0,{htmlFor:"emoji",children:u("editModal.labelEmoji")}),T.jsx(nd,{id:"emoji",value:j,onChange:he=>{L(he.target.value)},onBlur:he=>{s&&j!==t.emoji&&s({emoji:j})},onClick:he=>he.stopPropagation(),className:"col-span-3 text-left text-2xl"})]}),T.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[T.jsx(h0,{htmlFor:"title",children:u("editModal.labelTitle")}),T.jsx(nd,{id:"title",value:P,onChange:he=>y(he.target.value),onBlur:he=>{s&&P!==t.title&&s({title:P})},onClick:he=>he.stopPropagation(),className:"col-span-3"})]}),T.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[T.jsx(h0,{htmlFor:"hotkey",className:"pt-2",children:u("editModal.labelHotkey")}),T.jsxs("div",{className:"col-span-3 space-y-2",children:[T.jsx("div",{className:"relative",children:T.jsxs("button",{id:"hotkey",className:ui("w-full px-3 py-2 text-sm font-mono text-left rounded-md border transition-all","flex items-center justify-between min-h-[40px]",$?"bg-blue-50 dark:bg-blue-900/20 border-blue-500 dark:border-blue-400 ring-2 ring-blue-500 dark:ring-blue-400":G?"bg-surface text-foreground-primary border-surface-border hover:border-primary cursor-pointer":"bg-surface text-foreground-tertiary border-surface-border hover:border-primary cursor-pointer"),onClick:he=>{he.stopPropagation(),$||Ge()},children:[T.jsx("span",{className:"flex flex-col gap-0.5",children:$?T.jsxs(T.Fragment,{children:[G&&T.jsx("span",{className:"text-xs text-foreground-tertiary",children:Bi(G)}),T.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:u("editModal.hotkeyLoop")})]}):G?Bi(G):u("editModal.hotkeyPlaceholder")}),$&&T.jsx(jh,{size:16,className:"text-blue-500 dark:text-blue-400 animate-bounce"})]})}),$&&T.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:u("editModal.pressEc")}),M&&T.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-md bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[T.jsx("div",{className:"flex-shrink-0 mt-0.5",children:T.jsx("svg",{className:"w-4 h-4 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),T.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:M})]}),G&&!$&&T.jsx(Pt,{type:"button",variant:"ghost",size:"sm",onClick:he=>{he.stopPropagation(),U(""),H(""),s&&s({hotkey:""}),Tt.success(u("toast.hotkeyCleared"))},className:"text-xs h-8 text-foreground-tertiary hover:text-red-500",children:u("editModal.clearHotkey")})]})]})]}),T.jsxs("div",{className:"flex items-center justify-between text-sm text-foreground-secondary px-[0px] py-[12px] border-t border-surface-border mt-[8px] mr-[0px] mb-[0px] ml-[0px] pt-[16px] pr-[0px] pb-[8px] pl-[0px]",children:[T.jsx("span",{children:u("soundCard.storageUsage")}),T.jsx("span",{className:"font-mono bg-surface-secondary px-2 py-0.5 rounded text-xs",children:F})]}),T.jsx(Pt,{type:"submit",className:"w-full",onClick:he=>{he.stopPropagation(),We()},children:u("editModal.done")})]})}),T.jsx(Bj,{open:k,onOpenChange:I,children:T.jsxs($j,{className:"sm:max-w-[425px]",onClick:he=>he.stopPropagation(),children:[T.jsxs(Uj,{children:[T.jsx(zj,{children:u("confirmModal.deleteSoundTitle")}),T.jsx(Wj,{children:u("confirmModal.deleteSoundDescription")})]}),T.jsxs(Hj,{className:"!flex-col gap-2 sm:!flex-col",children:[T.jsx(qj,{className:"w-full m-0 bg-destructive/10 text-destructive hover:bg-destructive/20 dark:bg-destructive/20 dark:text-destructive dark:hover:bg-destructive/30 border border-destructive/20 shadow-sm",onClick:he=>{he.stopPropagation(),r()},children:u("soundCard.delete")}),T.jsx(Gj,{className:"w-full m-0",onClick:he=>{he.stopPropagation(),I(!1)},children:u("confirmModal.cancel")})]})]})}),D&&T.jsx(O$,{sound:t,masterVolume:e,onClose:()=>v(!1),onSave:(he,Ie)=>{s&&(he===0&&Ie===t.duration?(s({trimStart:void 0,trimEnd:void 0}),Tt.success(u("toast.trimCleared"))):(s({trimStart:he,trimEnd:Ie}),Tt.success(u("toast.trimSaved"))))}}),T.jsx(Kp,{open:_,onOpenChange:he=>{x(he),he||(ee(!1),H(""))},children:T.jsxs(Yp,{className:"sm:max-w-[400px]",onClick:he=>he.stopPropagation(),children:[T.jsxs(I_,{children:[T.jsx(Xp,{children:u("hotkeyDialog.title")}),T.jsx(qS,{children:u("hotkeyDialog.description",{title:t.title})})]}),T.jsxs("div",{className:"space-y-4 py-4",children:[T.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[T.jsx("div",{className:"text-sm text-foreground-secondary",children:u("hotkeyDialog.current")}),T.jsx("button",{className:ui("px-6 py-3 text-2xl font-bold font-mono text-center rounded-lg min-w-[100px] border-2 transition-all",$?"bg-blue-50 dark:bg-blue-900/20 border-blue-500 dark:border-blue-400 animate-pulse":"bg-surface-tertiary text-foreground-primary border-surface-border hover:border-primary hover:bg-surface-secondary cursor-pointer"),onClick:he=>{he.stopPropagation(),$||(ee(!0),H(""),Tt.info(u("editModal.hotkeyLoop")))},children:t.hotkey?Bi(t.hotkey):""}),T.jsx("div",{className:"flex items-center gap-2 text-xs text-center",children:$?T.jsxs(T.Fragment,{children:[T.jsx(jh,{size:14,className:"text-blue-500 dark:text-blue-400 animate-bounce"}),T.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:[u("editModal.hotkeyLoop")," ",u("editModal.pressEc")]})]}):T.jsx("span",{className:"text-foreground-tertiary",children:u("hotkeyDialog.clickToSet")})})]}),M&&T.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-md bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[T.jsx("div",{className:"flex-shrink-0 mt-0.5",children:T.jsx("svg",{className:"w-4 h-4 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),T.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:M})]}),T.jsxs("div",{className:"flex gap-2 pt-2",children:[t.hotkey&&T.jsx(Pt,{variant:"outline",className:"flex-1",onClick:he=>{he.stopPropagation(),s&&s({hotkey:""}),U(""),H(""),Tt.success(u("toast.hotkeyCleared"))},children:u("editModal.clearHotkey")}),T.jsx(Pt,{className:"flex-1",onClick:he=>{he.stopPropagation(),x(!1),ee(!1),H("")},children:u("editModal.done")})]})]})]})})]})]})},Yw={CARD:"card"},P$=({sound:t,index:e,masterVolume:r,moveCard:n,onDelete:s,onVolumeChange:o,onEdit:l,allSounds:u})=>{const c=A.useRef(null),[{handlerId:f},p]=MD({accept:Yw.CARD,collect(R){return{handlerId:R.getHandlerId()}},hover(R,b){if(!c.current)return;const S=R.index,E=e;if(S===E)return;const P=c.current?.getBoundingClientRect(),y=(P.bottom-P.top)/2,j=(P.right-P.left)/2,L=b.getClientOffset();if(!L)return;const G=L.y-P.top,U=L.x-P.left,$=S<E,ee=S>E,ie=.3;if($){const re=G>y*(1+ie),z=U>j*(1+ie);if(!re&&!z)return}if(ee){const re=G<y*(1-ie),z=U<j*(1-ie);if(!re&&!z)return}n(S,E),R.index=E}}),[{isDragging:h},g,w]=ED({type:Yw.CARD,item:()=>{const R=c.current?.getBoundingClientRect();return{id:t.id,index:e,width:R?.width||320,height:R?.height||200}},collect:R=>({isDragging:R.isDragging()}),end:(R,b)=>{b.didDrop()&&(b.getDropResult(),Ut({name:"event_reorder_sound",params:{sound_id:t.id}}))}});return A.useEffect(()=>{w(GD(),{captureDraggingState:!0})},[w]),g(p(c)),T.jsx(B8.div,{ref:c,layout:!0,layoutId:t.id,initial:{opacity:0,scale:.9},animate:{opacity:h?0:1,scale:1},transition:{layout:{type:"spring",stiffness:300,damping:30},default:{duration:.2,ease:"easeInOut"}},style:{cursor:h?"grabbing":"grab",visibility:h?"hidden":"visible"},"data-handler-id":f,children:T.jsx(K1,{sound:t,masterVolume:r,onDelete:s,onVolumeChange:o,onEdit:l,allSounds:u})})},N$={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function M$(t){if(!t)return{display:"none"};const{x:e,y:r}=t,n=`translate(${e}px, ${r}px)`;return{transform:n,WebkitTransform:n}}const I$=({sounds:t,masterVolume:e})=>{const{itemType:r,isDragging:n,item:s,currentOffset:o}=CD(u=>({item:u.getItem(),itemType:u.getItemType(),currentOffset:u.getClientOffset(),isDragging:u.isDragging()}));if(!n)return null;const l=t.find(u=>u.id===s?.id);return l?T.jsx("div",{style:N$,children:T.jsx("div",{style:M$(o),children:T.jsx("div",{style:{width:s?.width||320,height:s?.height||"auto",opacity:.95,transform:"rotate(3deg) scale(1.05)",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.3)"},children:T.jsx(K1,{sound:l,masterVolume:e,onDelete:()=>{},isDragging:!0})})})}):null},D$=({isLoading:t,sounds:e,filteredSounds:r,searchQuery:n,masterVolume:s,moveCard:o,deleteSound:l,updateVolume:u,updateSound:c,handleAddAudio:f})=>{const{t:p}=Pn(),h=T.jsxs("div",{className:"mb-[32px] text-center max-w-3xl mx-auto px-4 md:px-8 lg:px-12 mt-[8px]",children:[T.jsx("h1",{className:"font-['Sora'] text-2xl md:text-3xl font-bold text-foreground-primary mb-2",children:p("hero.title")}),T.jsx("p",{className:"text-sm md:text-base text-foreground-secondary whitespace-pre-line",children:p("hero.description")})]});return t?T.jsxs("main",{className:"container mx-auto px-[16px] py-[24px] md:pt-[16px] pr-[16px] pb-[40px] pl-[16px] pt-[16px]",children:[h,T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 md:gap-4",children:[...Array(10)].map((g,w)=>T.jsx("div",{className:"relative flex flex-col rounded-[14px] border border-surface-secondary bg-card overflow-hidden",children:T.jsxs("div",{className:"relative p-[16px] flex flex-col h-full",children:[T.jsxs("div",{className:"flex flex-col gap-[6px] w-full mb-[12px]",children:[T.jsxs("div",{className:"flex items-start justify-between w-full",children:[T.jsx("div",{className:"w-[24px] h-[24px] bg-surface-tertiary rounded skeleton"}),T.jsx("div",{className:"hidden md:block w-[40px] h-[24px] bg-surface-tertiary rounded-[4px] skeleton"}),T.jsx("div",{className:"md:hidden w-[36px] h-[36px] bg-surface-tertiary rounded-[8px] skeleton"})]}),T.jsx("div",{className:"space-y-1",children:T.jsx("div",{className:"h-[24px] bg-surface-tertiary rounded skeleton w-3/4"})}),T.jsx("div",{className:"hidden md:block h-[48px] w-full bg-surface-tertiary rounded skeleton"}),T.jsx("div",{className:"h-[16px] bg-surface-tertiary rounded skeleton w-[80px]"})]}),T.jsxs("div",{className:"flex gap-[4px] items-start w-full",children:[T.jsx("div",{className:"flex-1 h-[36px] bg-surface-tertiary rounded-[12px] skeleton"}),T.jsx("div",{className:"hidden md:block w-[36px] h-[36px] bg-surface-tertiary rounded-[12px] skeleton"})]})]})},w))})]}):r.length===0?T.jsxs("main",{className:"container mx-auto px-[16px] py-[24px] md:pt-[16px] pr-[16px] pb-[40px] pl-[16px] pt-[16px]",children:[h,T.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center text-gray-500 dark:text-gray-400",children:[T.jsx(zC,{size:48,className:"mb-4 opacity-20"}),T.jsx("h3",{className:"text-lg font-medium mb-1",children:"No sounds found"}),T.jsx("p",{className:"text-sm opacity-70",children:"Try adjusting your search or add new audio files."})]})]}):T.jsxs("main",{className:"container mx-auto px-[16px] py-[24px] md:pt-[16px] pr-[16px] pb-[40px] pl-[16px] pt-[16px]",children:[h,T.jsxs(eD,{backend:KD,children:[T.jsx(I$,{sounds:e,masterVolume:s}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 md:gap-4",children:[n?r.map(g=>T.jsx("div",{children:T.jsx(K1,{sound:g,masterVolume:s,onDelete:()=>l(g.id),onVolumeChange:w=>u(g.id,w),onEdit:w=>c(g.id,w),allSounds:e})},g.id)):e.map((g,w)=>T.jsx(P$,{sound:g,index:w,masterVolume:s,moveCard:o,onDelete:()=>l(g.id),onVolumeChange:R=>u(g.id,R),onEdit:R=>c(g.id,R),allSounds:e},g.id)),!n&&T.jsxs("button",{onClick:()=>{Ut({name:"click_add_sound",params:{method:"soundcard_area"}}),f()},className:"w-full rounded-xl border-2 border-dashed border-surface-border hover:border-primary/50 bg-background hover:bg-surface-secondary transition-all duration-200 flex flex-col items-center justify-center gap-2 group py-12",children:[T.jsx("div",{className:"w-12 h-12 rounded-full bg-surface-tertiary group-hover:bg-primary/10 flex items-center justify-center transition-colors",children:T.jsx(fp,{size:24,className:"text-foreground-secondary group-hover:text-primary transition-colors"})}),T.jsx("div",{className:"text-sm font-medium text-foreground-secondary group-hover:text-foreground-primary transition-colors",children:p("header.addAudio")})]})]})]})]})},j$=({isOpen:t,onClose:e,onConfirm:r,title:n,description:s,confirmText:o="Confirm",cancelText:l="Cancel",variant:u="default"})=>{if(!t)return null;const c=()=>{r(),e()};return De.useEffect(()=>{if(!t)return;const f=p=>{p.key==="Escape"?e():p.key==="Enter"&&!p.shiftKey&&!p.ctrlKey&&!p.metaKey&&u!=="destructive"&&(p.preventDefault(),c())};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t,u]),T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:T.jsxs("div",{className:"bg-card border border-surface-border rounded-xl shadow-xl w-full max-w-md mx-4 p-6",onClick:f=>f.stopPropagation(),children:[T.jsxs("div",{className:"flex flex-col items-start gap-4 mb-4",children:[u==="destructive"&&T.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center shrink-0",children:T.jsx(ox,{size:20,className:"text-destructive"})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"font-semibold text-foreground-primary mb-2",children:n}),T.jsx("p",{className:"text-sm text-foreground-secondary whitespace-pre-line",children:s})]})]}),T.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[T.jsx(Pt,{variant:"outline",onClick:e,className:"min-w-[80px]",children:l}),T.jsx(Pt,{variant:u==="destructive"?"ghost":"default",onClick:c,className:`min-w-[80px] ${u==="destructive"?"bg-destructive/10 text-destructive hover:bg-destructive/20 dark:bg-destructive/20 dark:text-destructive dark:hover:bg-destructive/30 border border-destructive/20 shadow-sm":""}`,children:o})]})]})})},L$=({isOpen:t,onClose:e,onConfirm:r,storageUsageStr:n})=>{const{t:s}=Pn(),[o,l]=A.useState(""),u=s("deleteAccountModal.confirmText");if(A.useEffect(()=>{t&&l("")},[t]),!t)return null;const c=()=>{o===u&&(r(),e())};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:T.jsxs("div",{className:"bg-card border border-surface-border rounded-xl shadow-xl w-full max-w-md mx-4 p-6",onClick:f=>f.stopPropagation(),children:[T.jsxs("div",{className:"flex flex-col items-start gap-4 mb-4",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center shrink-0",children:T.jsx(ox,{size:20,className:"text-destructive"})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"font-semibold text-foreground-primary mb-2",children:s("deleteAccountModal.title")}),T.jsxs("div",{className:"text-sm text-foreground-secondary space-y-2",children:[T.jsx("p",{children:s("deleteAccountModal.description1")}),T.jsx("p",{children:s("deleteAccountModal.description2")}),T.jsxs("ul",{className:"list-disc list-inside ml-1",children:[T.jsx("li",{children:s("deleteAccountModal.item1",{size:n})}),T.jsx("li",{children:s("deleteAccountModal.item2")}),T.jsx("li",{children:s("deleteAccountModal.item3")})]}),T.jsx("p",{className:"font-semibold text-destructive mt-2",children:s("deleteAccountModal.warning")})]})]})]}),T.jsxs("div",{className:"mt-4 mb-6",children:[T.jsx("label",{className:"block text-xs font-medium text-foreground-secondary mb-2",children:T.jsx(eR,{i18nKey:"deleteAccountModal.typeToConfirm",values:{text:u},components:{bold:T.jsx("span",{className:"font-bold select-all"})}})}),T.jsx(nd,{value:o,onChange:f=>l(f.target.value),placeholder:u,className:"w-full bg-surface-tertiary border-surface-border focus:border-destructive/50 focus:ring-destructive/20",autoFocus:!0})]}),T.jsxs("div",{className:"flex gap-3 justify-end",children:[T.jsx(Pt,{variant:"outline",onClick:e,className:"min-w-[80px]",children:s("confirmModal.cancel")}),T.jsx(Pt,{variant:"ghost",onClick:c,disabled:o!==u,className:"min-w-[80px] bg-destructive/10 text-destructive hover:bg-destructive/20 dark:bg-destructive/20 dark:text-destructive dark:hover:bg-destructive/30 border border-destructive/20 shadow-sm",children:s("deleteAccountModal.button")})]})]})})},B$=({isOpen:t,onClose:e,onSignIn:r})=>{if(!t)return null;const n=()=>{r(),e()};return De.useEffect(()=>{if(!t)return;const s=o=>{o.key==="Enter"&&!o.shiftKey&&!o.ctrlKey&&!o.metaKey?(o.preventDefault(),n()):o.key==="Escape"&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t]),T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 transition-opacity",onClick:e}),T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:T.jsxs("div",{className:"bg-card border border-surface-border rounded-2xl shadow-2xl max-w-md w-full pointer-events-auto animate-in fade-in zoom-in duration-200",onClick:s=>s.stopPropagation(),children:[T.jsxs("div",{className:"flex items-center justify-between p-6 pb-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary",children:"Sign in to save your soundboard"}),T.jsx("button",{onClick:e,className:"text-foreground-secondary hover:text-foreground-primary transition-colors p-1 rounded-full hover:bg-surface-tertiary",children:T.jsx(xd,{size:20})})]}),T.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[T.jsx("p",{className:"text-sm text-foreground-secondary leading-relaxed",children:"To upload and save your custom audio files, you need to sign in. Your soundboard settings and configurations will be securely saved and accessible from any device."}),T.jsxs("div",{className:"bg-surface-tertiary rounded-lg p-4 space-y-2",children:[T.jsx("h3",{className:"text-sm font-medium text-foreground-primary",children:"What you'll get:"}),T.jsxs("ul",{className:"text-sm text-foreground-secondary space-y-1.5",children:[T.jsxs("li",{className:"flex items-start gap-2",children:[T.jsx("span",{className:"text-green-500 mt-0.5",children:""}),T.jsx("span",{children:"Upload up to 15MB of custom audio files"})]}),T.jsxs("li",{className:"flex items-start gap-2",children:[T.jsx("span",{className:"text-green-500 mt-0.5",children:""}),T.jsx("span",{children:"Save your soundboard layout and settings"})]}),T.jsxs("li",{className:"flex items-start gap-2",children:[T.jsx("span",{className:"text-green-500 mt-0.5",children:""}),T.jsx("span",{children:"Access your soundboard from any device"})]}),T.jsxs("li",{className:"flex items-start gap-2",children:[T.jsx("span",{className:"text-green-500 mt-0.5",children:""}),T.jsx("span",{children:"Keep your custom hotkeys and preferences"})]})]})]}),T.jsx("div",{className:"flex gap-3 pt-2",children:T.jsxs(Pt,{onClick:n,className:"w-full gap-2",children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"currentColor"}),T.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"currentColor"}),T.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"currentColor"}),T.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"currentColor"})]}),"Sign in with Google"]})})]})]})})]})},F$=({user:t,setUser:e,onSignIn:r,onSignOut:n,isInitialLoadRef:s})=>{const{t:o}=Pn(),l=A.useRef(null);return A.useEffect(()=>{ci.auth.getSession().then(({data:{session:p}})=>{_t.log(" User data:",p?.user),e(p?.user??null);const h=p?.user?.id??null;h&&h!==l.current?(l.current=h,r(h)):h||(l.current=null,s.current=!1,n())});const{data:{subscription:f}}=ci.auth.onAuthStateChange((p,h)=>{_t.log(" User:",h?.user),e(h?.user??null);const g=h?.user?.id??null;if(p==="SIGNED_IN"&&s.current){if(g&&g!==l.current){l.current=g,Tt.success(o("toast.signedInSuccess")),r(g);const w=h?.user?.created_at;w&&new Date().getTime()-new Date(w).getTime()<6e4&&Ut({name:"event_signup_complete",params:{user_id:g}})}}else p==="SIGNED_IN"&&!s.current?g&&g!==l.current&&(l.current=g,r(g)):p==="TOKEN_REFRESHED"||p==="SIGNED_OUT"&&(Tt.info(o("toast.signedOut")),l.current=null,n(),s.current=!0)});return()=>f.unsubscribe()},[e,r,n]),{signInWithGoogle:async()=>{const{data:f,error:p}=await ci.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`,queryParams:{access_type:"offline",prompt:"consent"}}});p?(_t.error(" Sign in error:",p),Tt.error(o("toast.signInFailed",{error:p.message}))):_t.log(" Provider URL:",f?.url)},signOut:async()=>{try{const f=l.current,{error:p}=await ci.auth.signOut();p?p.message.includes("Auth session missing")?_t.warn(" Session already missing, proceeding with local cleanup"):_t.error(" Sign out error:",p):(_t.log(" Signed out successfully from server"),f&&Ut({name:"event_signout",params:{user_id:f}}))}catch(f){_t.error(" Unexpected error during sign out:",f)}finally{e(null),l.current=null,n(),s.current=!0,Tt.info(o("toast.signedOut"))}}}},ss={1:{en:"Success chime",ko:""},2:{en:"Success trumpet",ko:" "},3:{en:"Tada fanfare",ko:""},4:{en:"Applause",ko:""},5:{en:"Failure trombone",ko:" "},6:{en:"Failure beeps",ko:" "},7:{en:"Crowd laugh",ko:" "},8:{en:"Drumroll",ko:""},9:{en:"Whoosh",ko:""},12:{en:"Punch",ko:""}},xc=(t="en")=>{const e=t==="ko"?"ko":"en";return[{id:"1",title:ss[1][e],fileUrl:"https://adutuuffuthtwxqprnqg.supabase.co/storage/v1/object/public/defaultAudio/success_chime.wav",duration:2,hotkey:"Digit1",color:"bg-green-500",volume:.5,emoji:"",isDefault:!0},{id:"2",title:ss[2][e],fileUrl:"https://adutuuffuthtwxqprnqg.supabase.co/storage/v1/object/public/defaultAudio/success_trumpet.mp3",duration:3,hotkey:"Digit2",color:"bg-emerald-500",volume:.5,emoji:"",isDefault:!0},{id:"3",title:ss[3][e],fileUrl:"https://adutuuffuthtwxqprnqg.supabase.co/storage/v1/object/public/defaultAudio/tada_fanfare.flac",duration:3,hotkey:"Digit3",color:"bg-yellow-500",volume:.5,emoji:"",isDefault:!0},{id:"4",title:ss[4][e],fileUrl:"https://adutuuffuthtwxqprnqg.supabase.co/storage/v1/object/public/defaultAudio/applause.wav",duration:5,hotkey:"Digit4",color:"bg-purple-500",volume:.5,emoji:"",isDefault:!0},{id:"5",title:ss[5][e],fileUrl:"https://adutuuffuthtwxqprnqg.supabase.co/storage/v1/object/public/defaultAudio/failure_trombone.wav",duration:3,hotkey:"Digit5",color:"bg-red-500",volume:.5,emoji:"",isDefault:!0},{id:"6",title:ss[6][e],fileUrl:"https://adutuuffuthtwxqprnqg.supabase.co/storage/v1/object/public/defaultAudio/failure_beeps.wav",duration:2,hotkey:"KeyQ",color:"bg-orange-500",volume:.5,emoji:"",isDefault:!0},{id:"7",title:ss[7][e],fileUrl:"https://adutuuffuthtwxqprnqg.supabase.co/storage/v1/object/public/defaultAudio/crowd_laugh.mp3",duration:4,hotkey:"KeyW",color:"bg-pink-500",volume:.5,emoji:"",isDefault:!0},{id:"8",title:ss[8][e],fileUrl:"https://adutuuffuthtwxqprnqg.supabase.co/storage/v1/object/public/defaultAudio/drumroll.wav",duration:4,hotkey:"KeyE",color:"bg-blue-500",volume:.5,emoji:"",isDefault:!0},{id:"9",title:ss[9][e],fileUrl:"https://adutuuffuthtwxqprnqg.supabase.co/storage/v1/object/public/defaultAudio/whoosh.flac",duration:1,hotkey:"KeyR",color:"bg-cyan-500",volume:.5,emoji:"",isDefault:!0},{id:"12",title:ss[12][e],fileUrl:"https://adutuuffuthtwxqprnqg.supabase.co/storage/v1/object/public/defaultAudio/punch.wav",duration:1,hotkey:"KeyT",color:"bg-slate-500",volume:.5,emoji:"",isDefault:!0}]},V$=t=>{const{i18n:e,t:r}=Pn(),[n,s]=A.useState(()=>xc(e.language)),[o,l]=A.useState(.5),[u,c]=A.useState(!0),[f,p]=A.useState({currentUsage:0,maxStorage:15*1024*1024,usagePercent:0}),[h,g]=A.useState(!0),[w,R]=A.useState(!1),b=A.useRef(!0),S=A.useRef(null),E=A.useRef(null),P=A.useRef(null),y=A.useRef(null),j=async()=>{try{const B=await NM();p(B)}catch(B){_t.error("Error loading storage usage:",B)}},L=A.useCallback(async(B,k=!0)=>{try{const{data:{session:I}}=await ci.auth.getSession();if(!I){_t.warn(" No active session found during data load, aborting");return}k&&b.current&&g(!0),_t.log(" Loading user data from server..."),_t.log(" User ID:",B);const{settings:M}=await TM();if(M){const D={masterVolume:M.masterVolume??.5,isDarkMode:M.isDarkMode??!0};y.current=D,l(D.masterVolume),c(D.isDarkMode),_t.log(" Settings loaded:",M)}const{sounds:H}=await kM();_t.log(" Raw response from server:",{sounds:H}),_t.log(" Number of sounds received:",H?.length||0),_t.log(" Custom sounds received:",H?.filter(D=>!D.isDefault).length||0),_t.log(" Custom sounds details:",H?.filter(D=>!D.isDefault)),H&&Array.isArray(H)&&H.length>0?(P.current=H,s(H),_t.log(` Loaded ${H.length} sounds from server`)):_t.log(" No saved sounds found, keeping defaults"),await j(),R(!0)}catch(I){_t.error(" Error loading user data:",I),b.current&&Tt.error(r("toast.failedToLoadData"))}finally{g(!1),b.current=!1}},[]);A.useEffect(()=>{if(!t||!w)return;const B=y.current;if(!(B&&B.masterVolume===o&&B.isDarkMode===u))return S.current&&clearTimeout(S.current),S.current=setTimeout(async()=>{try{await RM({masterVolume:o,isDarkMode:u}),_t.log(" Settings auto-saved"),ve(),S.current=null}catch(k){_t.error("Failed to auto-save settings:",k),S.current=null}},1e3),()=>{S.current&&clearTimeout(S.current)}},[o,u,t,w]),A.useEffect(()=>{if(!(!t||!w)&&n!==P.current)return E.current&&clearTimeout(E.current),E.current=setTimeout(async()=>{try{await AM(n),_t.log(" Sounds auto-saved"),ve(),E.current=null}catch(B){_t.error("Failed to auto-save sounds:",B),E.current=null}},1e3),()=>{E.current&&clearTimeout(E.current)}},[n,t,w]);const G=A.useCallback((B,k)=>{s(I=>{const M=[...I],[H]=M.splice(B,1);return M.splice(k,0,H),M})},[]),U=A.useCallback((B,k)=>{s(I=>I.map(M=>M.id===B?{...M,volume:k}:M))},[]),$=A.useCallback((B,k)=>{s(I=>I.map(M=>M.id===B?{...M,...k}:M))},[]),ee=async B=>{const k=n.find(I=>I.id===B);if(k){if(k.isDefault){s(I=>I.filter(M=>M.id!==B)),Tt.info(r("toast.soundRemoved")),Ut({name:"event_delete_sound",params:{sound_id:B}});return}if(t)try{Tt.loading(r("toast.deletingSound"),{id:`delete-${B}`}),await OM(B),s(I=>I.filter(M=>M.id!==B)),await j(),Tt.success(r("toast.soundDeleted"),{id:`delete-${B}`}),Ut({name:"event_delete_sound",params:{sound_id:B}}),ve()}catch(I){_t.error("Error deleting sound:",I),Tt.error(r("toast.failedToDeleteSound"),{id:`delete-${B}`})}else s(I=>I.filter(M=>M.id!==B)),Tt.info(r("toast.soundRemoved"))}},ie=async()=>{if(t)try{Tt.loading(r("toast.resettingToDefaults"),{id:"reset"}),await MM(),s(xc(e.language)),l(.5),c(!0),p({currentUsage:0,maxStorage:15*1024*1024,usagePercent:0}),Tt.success(r("toast.resetToDefaultsSuccess"),{id:"reset"}),Ut({name:"event_restore_default_setting",params:{user_id:t.id}}),ve()}catch(B){_t.error("Error resetting to defaults:",B),Tt.error(r("toast.resetToDefaultsFailed"),{id:"reset"})}},re=B=>{l(B)},z=()=>{const B=!u;c(B),Ut({name:"event_screen_mode_modified",params:{prev_mode:u?"dark":"light",curr_mode:B?"dark":"light"}})};A.useEffect(()=>{const B=new BroadcastChannel("soundeck_sync");return B.onmessage=k=>{if(k.data==="SYNC_REQUIRED"&&t?.id){if(S.current||E.current)return;L(t.id,!1)}},()=>{B.close()}},[t,L]);const ve=()=>{const B=new BroadcastChannel("soundeck_sync");B.postMessage("SYNC_REQUIRED"),B.close()},K=A.useCallback(()=>{s(xc(e.language)),l(.5),c(!0),p({currentUsage:0,maxStorage:15*1024*1024,usagePercent:0}),g(!1),b.current=!0,R(!1)},[e.language]);return A.useEffect(()=>{if(!t&&n.length>0){const B=xc(e.language);s(k=>k.map(I=>{if(I.isDefault){const M=B.find(H=>H.id===I.id);if(M)return{...I,title:M.title}}return I}))}},[e.language,t]),{sounds:n,setSounds:s,masterVolume:o,setMasterVolume:l,isDarkMode:u,setIsDarkMode:c,toggleTheme:z,storageUsage:f,setStorageUsage:p,isLoading:h,setIsLoading:g,isDataLoaded:w,setIsDataLoaded:R,loadUserData:L,moveCard:G,updateVolume:U,updateSound:$,deleteSound:ee,resetToDefaults:ie,resetLocalState:K,handleMasterVolumeChange:re,loadStorageUsage:j,isInitialLoadRef:b}};var Sc={},A0,Xw;function Xt(){if(Xw)return A0;Xw=1;function t(S){return new Int8Array(S)}function e(S){return new Int16Array(S)}function r(S){return new Int32Array(S)}function n(S){return new Float32Array(S)}function s(S){return new Float64Array(S)}function o(S){if(S.length==1)return n(S[0]);var E=S[0];S=S.slice(1);for(var P=[],y=0;y<E;y++)P.push(o(S));return P}function l(S){if(S.length==1)return r(S[0]);var E=S[0];S=S.slice(1);for(var P=[],y=0;y<E;y++)P.push(l(S));return P}function u(S){if(S.length==1)return e(S[0]);var E=S[0];S=S.slice(1);for(var P=[],y=0;y<E;y++)P.push(u(S));return P}function c(S){if(S.length==1)return new Array(S[0]);var E=S[0];S=S.slice(1);for(var P=[],y=0;y<E;y++)P.push(c(S));return P}var f={};f.fill=function(S,E,P,y){if(arguments.length==2)for(var j=0;j<S.length;j++)S[j]=arguments[1];else for(var j=E;j<P;j++)S[j]=y};var p={};p.arraycopy=function(S,E,P,y,j){for(var L=E+j;E<L;)P[y++]=S[E++]},p.out={},p.out.println=function(S){console.log(S)},p.out.printf=function(){console.log.apply(console,arguments)};var h={};h.SQRT2=1.4142135623730951,h.FAST_LOG10=function(S){return Math.log10(S)},h.FAST_LOG10_X=function(S,E){return Math.log10(S)*E};function g(S){this.ordinal=S}g.short_block_allowed=new g(0),g.short_block_coupled=new g(1),g.short_block_dispensed=new g(2),g.short_block_forced=new g(3);var w={};w.MAX_VALUE=34028235e31;function R(S){this.ordinal=S}R.vbr_off=new R(0),R.vbr_mt=new R(1),R.vbr_rh=new R(2),R.vbr_abr=new R(3),R.vbr_mtrh=new R(4),R.vbr_default=R.vbr_mtrh;var b=function(S){};return A0={System:p,VbrMode:R,Float:w,ShortBlock:g,Util:h,Arrays:f,new_array_n:c,new_byte:t,new_double:s,new_float:n,new_float_n:o,new_int:r,new_int_n:l,new_short:e,new_short_n:u,assert:b},A0}var O0,Qw;function $$(){if(Qw)return O0;Qw=1;var t=Xt(),e=t.System;t.VbrMode,t.Float,t.ShortBlock;var r=t.Util,n=t.Arrays;t.new_array_n,t.new_byte,t.new_double;var s=t.new_float;t.new_float_n,t.new_int,t.new_int_n,t.assert;var o=zr();function l(){var u=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*r.SQRT2*.5/2384e-9,.017876148*r.SQRT2*.5/2384e-9,.003134727*r.SQRT2*.5/2384e-9,.002457142*r.SQRT2*.5/2384e-9,971317e-9*r.SQRT2*.5/2384e-9,218868e-9*r.SQRT2*.5/2384e-9,101566e-9*r.SQRT2*.5/2384e-9,13828e-9*r.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],c=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],f=c[o.SHORT_TYPE],p=c[o.SHORT_TYPE],h=c[o.SHORT_TYPE],g=c[o.SHORT_TYPE],w=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function R(E,P,y){for(var j=10,L=P+238-14-286,G=-15;G<0;G++){var U,$,ee;U=u[j+-10],$=E[L+-224]*U,ee=E[P+224]*U,U=u[j+-9],$+=E[L+-160]*U,ee+=E[P+160]*U,U=u[j+-8],$+=E[L+-96]*U,ee+=E[P+96]*U,U=u[j+-7],$+=E[L+-32]*U,ee+=E[P+32]*U,U=u[j+-6],$+=E[L+32]*U,ee+=E[P+-32]*U,U=u[j+-5],$+=E[L+96]*U,ee+=E[P+-96]*U,U=u[j+-4],$+=E[L+160]*U,ee+=E[P+-160]*U,U=u[j+-3],$+=E[L+224]*U,ee+=E[P+-224]*U,U=u[j+-2],$+=E[P+-256]*U,ee-=E[L+256]*U,U=u[j+-1],$+=E[P+-192]*U,ee-=E[L+192]*U,U=u[j+0],$+=E[P+-128]*U,ee-=E[L+128]*U,U=u[j+1],$+=E[P+-64]*U,ee-=E[L+64]*U,U=u[j+2],$+=E[P+0]*U,ee-=E[L+0]*U,U=u[j+3],$+=E[P+64]*U,ee-=E[L+-64]*U,U=u[j+4],$+=E[P+128]*U,ee-=E[L+-128]*U,U=u[j+5],$+=E[P+192]*U,ee-=E[L+-192]*U,$*=u[j+6],U=ee-$,y[30+G*2]=ee+$,y[31+G*2]=u[j+7]*U,j+=18,P--,L++}{var $,ee,ie,re;ee=E[P+-16]*u[j+-10],$=E[P+-32]*u[j+-2],ee+=(E[P+-48]-E[P+16])*u[j+-9],$+=E[P+-96]*u[j+-1],ee+=(E[P+-80]+E[P+48])*u[j+-8],$+=E[P+-160]*u[j+0],ee+=(E[P+-112]-E[P+80])*u[j+-7],$+=E[P+-224]*u[j+1],ee+=(E[P+-144]+E[P+112])*u[j+-6],$-=E[P+32]*u[j+2],ee+=(E[P+-176]-E[P+144])*u[j+-5],$-=E[P+96]*u[j+3],ee+=(E[P+-208]+E[P+176])*u[j+-4],$-=E[P+160]*u[j+4],ee+=(E[P+-240]-E[P+208])*u[j+-3],$-=E[P+224],ie=$-ee,re=$+ee,ee=y[14],$=y[15]-ee,y[31]=re+ee,y[30]=ie+$,y[15]=ie-$,y[14]=re-ee}{var z;z=y[28]-y[0],y[0]+=y[28],y[28]=z*u[j+-36+7],z=y[29]-y[1],y[1]+=y[29],y[29]=z*u[j+-36+7],z=y[26]-y[2],y[2]+=y[26],y[26]=z*u[j+-72+7],z=y[27]-y[3],y[3]+=y[27],y[27]=z*u[j+-72+7],z=y[24]-y[4],y[4]+=y[24],y[24]=z*u[j+-108+7],z=y[25]-y[5],y[5]+=y[25],y[25]=z*u[j+-108+7],z=y[22]-y[6],y[6]+=y[22],y[22]=z*r.SQRT2,z=y[23]-y[7],y[7]+=y[23],y[23]=z*r.SQRT2-y[7],y[7]-=y[6],y[22]-=y[7],y[23]-=y[22],z=y[6],y[6]=y[31]-z,y[31]=y[31]+z,z=y[7],y[7]=y[30]-z,y[30]=y[30]+z,z=y[22],y[22]=y[15]-z,y[15]=y[15]+z,z=y[23],y[23]=y[14]-z,y[14]=y[14]+z,z=y[20]-y[8],y[8]+=y[20],y[20]=z*u[j+-180+7],z=y[21]-y[9],y[9]+=y[21],y[21]=z*u[j+-180+7],z=y[18]-y[10],y[10]+=y[18],y[18]=z*u[j+-216+7],z=y[19]-y[11],y[11]+=y[19],y[19]=z*u[j+-216+7],z=y[16]-y[12],y[12]+=y[16],y[16]=z*u[j+-252+7],z=y[17]-y[13],y[13]+=y[17],y[17]=z*u[j+-252+7],z=-y[20]+y[24],y[20]+=y[24],y[24]=z*u[j+-216+7],z=-y[21]+y[25],y[21]+=y[25],y[25]=z*u[j+-216+7],z=y[4]-y[8],y[4]+=y[8],y[8]=z*u[j+-216+7],z=y[5]-y[9],y[5]+=y[9],y[9]=z*u[j+-216+7],z=y[0]-y[12],y[0]+=y[12],y[12]=z*u[j+-72+7],z=y[1]-y[13],y[1]+=y[13],y[13]=z*u[j+-72+7],z=y[16]-y[28],y[16]+=y[28],y[28]=z*u[j+-72+7],z=-y[17]+y[29],y[17]+=y[29],y[29]=z*u[j+-72+7],z=r.SQRT2*(y[2]-y[10]),y[2]+=y[10],y[10]=z,z=r.SQRT2*(y[3]-y[11]),y[3]+=y[11],y[11]=z,z=r.SQRT2*(-y[18]+y[26]),y[18]+=y[26],y[26]=z-y[18],z=r.SQRT2*(-y[19]+y[27]),y[19]+=y[27],y[27]=z-y[19],z=y[2],y[19]-=y[3],y[3]-=z,y[2]=y[31]-z,y[31]+=z,z=y[3],y[11]-=y[19],y[18]-=z,y[3]=y[30]-z,y[30]+=z,z=y[18],y[27]-=y[11],y[19]-=z,y[18]=y[15]-z,y[15]+=z,z=y[19],y[10]-=z,y[19]=y[14]-z,y[14]+=z,z=y[10],y[11]-=z,y[10]=y[23]-z,y[23]+=z,z=y[11],y[26]-=z,y[11]=y[22]-z,y[22]+=z,z=y[26],y[27]-=z,y[26]=y[7]-z,y[7]+=z,z=y[27],y[27]=y[6]-z,y[6]+=z,z=r.SQRT2*(y[0]-y[4]),y[0]+=y[4],y[4]=z,z=r.SQRT2*(y[1]-y[5]),y[1]+=y[5],y[5]=z,z=r.SQRT2*(y[16]-y[20]),y[16]+=y[20],y[20]=z,z=r.SQRT2*(y[17]-y[21]),y[17]+=y[21],y[21]=z,z=-r.SQRT2*(y[8]-y[12]),y[8]+=y[12],y[12]=z-y[8],z=-r.SQRT2*(y[9]-y[13]),y[9]+=y[13],y[13]=z-y[9],z=-r.SQRT2*(y[25]-y[29]),y[25]+=y[29],y[29]=z-y[25],z=-r.SQRT2*(y[24]+y[28]),y[24]-=y[28],y[28]=z-y[24],z=y[24]-y[16],y[24]=z,z=y[20]-z,y[20]=z,z=y[28]-z,y[28]=z,z=y[25]-y[17],y[25]=z,z=y[21]-z,y[21]=z,z=y[29]-z,y[29]=z,z=y[17]-y[1],y[17]=z,z=y[9]-z,y[9]=z,z=y[25]-z,y[25]=z,z=y[5]-z,y[5]=z,z=y[21]-z,y[21]=z,z=y[13]-z,y[13]=z,z=y[29]-z,y[29]=z,z=y[1]-y[0],y[1]=z,z=y[16]-z,y[16]=z,z=y[17]-z,y[17]=z,z=y[8]-z,y[8]=z,z=y[9]-z,y[9]=z,z=y[24]-z,y[24]=z,z=y[25]-z,y[25]=z,z=y[4]-z,y[4]=z,z=y[5]-z,y[5]=z,z=y[20]-z,y[20]=z,z=y[21]-z,y[21]=z,z=y[12]-z,y[12]=z,z=y[13]-z,y[13]=z,z=y[28]-z,y[28]=z,z=y[29]-z,y[29]=z,z=y[0],y[0]+=y[31],y[31]-=z,z=y[1],y[1]+=y[30],y[30]-=z,z=y[16],y[16]+=y[15],y[15]-=z,z=y[17],y[17]+=y[14],y[14]-=z,z=y[8],y[8]+=y[23],y[23]-=z,z=y[9],y[9]+=y[22],y[22]-=z,z=y[24],y[24]+=y[7],y[7]-=z,z=y[25],y[25]+=y[6],y[6]-=z,z=y[4],y[4]+=y[27],y[27]-=z,z=y[5],y[5]+=y[26],y[26]-=z,z=y[20],y[20]+=y[11],y[11]-=z,z=y[21],y[21]+=y[10],y[10]-=z,z=y[12],y[12]+=y[19],y[19]-=z,z=y[13],y[13]+=y[18],y[18]-=z,z=y[28],y[28]+=y[3],y[3]-=z,z=y[29],y[29]+=y[2],y[2]-=z}}function b(E,P){for(var y=0;y<3;y++){var j,L,G,U,$,ee;U=E[P+6]*c[o.SHORT_TYPE][0]-E[P+15],j=E[P+0]*c[o.SHORT_TYPE][2]-E[P+9],L=U+j,G=U-j,U=E[P+15]*c[o.SHORT_TYPE][0]+E[P+6],j=E[P+9]*c[o.SHORT_TYPE][2]+E[P+0],$=U+j,ee=-U+j,j=(E[P+3]*c[o.SHORT_TYPE][1]-E[P+12])*2069978111953089e-26,U=(E[P+12]*c[o.SHORT_TYPE][1]+E[P+3])*2069978111953089e-26,E[P+0]=L*190752519173728e-25+j,E[P+15]=-$*190752519173728e-25+U,G=G*.8660254037844387*1907525191737281e-26,$=$*.5*1907525191737281e-26+U,E[P+3]=G-$,E[P+6]=G+$,L=L*.5*1907525191737281e-26-j,ee=ee*.8660254037844387*1907525191737281e-26,E[P+9]=L+ee,E[P+12]=L-ee,P++}}function S(E,P,y){var j,L;{var G,U,$,ee,ie,re,z,ve;G=y[17]-y[9],$=y[15]-y[11],ee=y[14]-y[12],ie=y[0]+y[8],re=y[1]+y[7],z=y[2]+y[6],ve=y[3]+y[5],E[P+17]=ie+z-ve-(re-y[4]),L=(ie+z-ve)*p[19]+(re-y[4]),j=(G-$-ee)*p[18],E[P+5]=j+L,E[P+6]=j-L,U=(y[16]-y[10])*p[18],re=re*p[19]+y[4],j=G*p[12]+U+$*p[13]+ee*p[14],L=-ie*p[16]+re-z*p[17]+ve*p[15],E[P+1]=j+L,E[P+2]=j-L,j=G*p[13]-U-$*p[14]+ee*p[12],L=-ie*p[17]+re-z*p[15]+ve*p[16],E[P+9]=j+L,E[P+10]=j-L,j=G*p[14]-U+$*p[12]-ee*p[13],L=ie*p[15]-re+z*p[16]-ve*p[17],E[P+13]=j+L,E[P+14]=j-L}{var K,B,k,I,M,H,D,v;K=y[8]-y[0],k=y[6]-y[2],I=y[5]-y[3],M=y[17]+y[9],H=y[16]+y[10],D=y[15]+y[11],v=y[14]+y[12],E[P+0]=M+D+v+(H+y[13]),j=(M+D+v)*p[19]-(H+y[13]),L=(K-k+I)*p[18],E[P+11]=j+L,E[P+12]=j-L,B=(y[7]-y[1])*p[18],H=y[13]-H*p[19],j=M*p[15]-H+D*p[16]+v*p[17],L=K*p[14]+B+k*p[12]+I*p[13],E[P+3]=j+L,E[P+4]=j-L,j=-M*p[17]+H-D*p[15]-v*p[16],L=K*p[13]+B-k*p[14]-I*p[12],E[P+7]=j+L,E[P+8]=j-L,j=-M*p[16]+H-D*p[17]-v*p[15],L=K*p[12]-B+k*p[13]-I*p[14],E[P+15]=j+L,E[P+16]=j-L}}this.mdct_sub48=function(E,P,y){for(var j=P,L=286,G=0;G<E.channels_out;G++){for(var U=0;U<E.mode_gr;U++){for(var $,ee=E.l3_side.tt[U][G],ie=ee.xr,re=0,z=E.sb_sample[G][1-U],ve=0,K=0;K<18/2;K++)for(R(j,L,z[ve]),R(j,L+32,z[ve+1]),ve+=2,L+=64,$=1;$<32;$+=2)z[ve-1][$]*=-1;for($=0;$<32;$++,re+=18){var B=ee.block_type,k=E.sb_sample[G][U],I=E.sb_sample[G][1-U];if(ee.mixed_block_flag!=0&&$<2&&(B=0),E.amp_filter[$]<1e-12)n.fill(ie,re+0,re+18,0);else{if(E.amp_filter[$]<1)for(var K=0;K<18;K++)I[K][w[$]]*=E.amp_filter[$];if(B==o.SHORT_TYPE){for(var K=-12/4;K<0;K++){var M=c[o.SHORT_TYPE][K+3];ie[re+K*3+9]=k[9+K][w[$]]*M-k[8-K][w[$]],ie[re+K*3+18]=k[14-K][w[$]]*M+k[15+K][w[$]],ie[re+K*3+10]=k[15+K][w[$]]*M-k[14-K][w[$]],ie[re+K*3+19]=I[2-K][w[$]]*M+I[3+K][w[$]],ie[re+K*3+11]=I[3+K][w[$]]*M-I[2-K][w[$]],ie[re+K*3+20]=I[8-K][w[$]]*M+I[9+K][w[$]]}b(ie,re)}else{for(var H=s(18),K=-36/4;K<0;K++){var D,v;D=c[B][K+27]*I[K+9][w[$]]+c[B][K+36]*I[8-K][w[$]],v=c[B][K+9]*k[K+9][w[$]]-c[B][K+18]*k[8-K][w[$]],H[K+9]=D-v*f[3+K+9],H[K+18]=D*f[3+K+9]+v}S(ie,re,H)}}if(B!=o.SHORT_TYPE&&$!=0)for(var K=7;K>=0;--K){var _,x;_=ie[re+K]*h[20+K]+ie[re+-1-K]*g[28+K],x=ie[re+K]*g[28+K]-ie[re+-1-K]*h[20+K],ie[re+-1-K]=_,ie[re+K]=x}}}if(j=y,L=286,E.mode_gr==1)for(var O=0;O<18;O++)e.arraycopy(E.sb_sample[G][1][O],0,E.sb_sample[G][0][O],0,32)}}}return O0=l,O0}var P0,Zw;function F8(){if(Zw)return P0;Zw=1;var t=zr(),e=Xt(),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var n=e.new_float,s=e.new_float_n;e.new_int,e.new_int_n,e.assert;function o(){this.l=n(t.SBMAX_l),this.s=s([t.SBMAX_s,3]);var l=this;this.assign=function(u){r.arraycopy(u.l,0,l.l,0,t.SBMAX_l);for(var c=0;c<t.SBMAX_s;c++)for(var f=0;f<3;f++)l.s[c][f]=u.s[c][f]}}return P0=o,P0}var N0,Jw;function U$(){if(Jw)return N0;Jw=1;var t=F8();function e(){this.thm=new t,this.en=new t}return N0=e,N0}var M0,eb;function zr(){if(eb)return M0;eb=1;var t=Xt(),e=t.System,r=t.VbrMode;t.Float,t.ShortBlock,t.Util,t.Arrays;var n=t.new_array_n;t.new_byte,t.new_double;var s=t.new_float,o=t.new_float_n,l=t.new_int;t.new_int_n;var u=t.assert;c.ENCDELAY=576,c.POSTDELAY=1152,c.MDCTDELAY=48,c.FFTOFFSET=224+c.MDCTDELAY,c.DECDELAY=528,c.SBLIMIT=32,c.CBANDS=64,c.SBPSY_l=21,c.SBPSY_s=12,c.SBMAX_l=22,c.SBMAX_s=13,c.PSFB21=6,c.PSFB12=6,c.BLKSIZE=1024,c.HBLKSIZE=c.BLKSIZE/2+1,c.BLKSIZE_s=256,c.HBLKSIZE_s=c.BLKSIZE_s/2+1,c.NORM_TYPE=0,c.START_TYPE=1,c.SHORT_TYPE=2,c.STOP_TYPE=3,c.MPG_MD_LR_LR=0,c.MPG_MD_LR_I=1,c.MPG_MD_MS_LR=2,c.MPG_MD_MS_I=3,c.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function c(){var f=$$(),p=U$(),h=c.FFTOFFSET,g=c.MPG_MD_MS_LR,w=null;this.psy=null;var R=null,b=null,S=null;this.setModules=function(L,G,U,$){w=L,this.psy=G,R=G,b=$,S=U};var E=new f;function P(L){var G,U;if(L.ATH.useAdjust==0){L.ATH.adjust=1;return}if(U=L.loudness_sq[0][0],G=L.loudness_sq[1][0],L.channels_out==2?(U+=L.loudness_sq[0][1],G+=L.loudness_sq[1][1]):(U+=U,G+=G),L.mode_gr==2&&(U=Math.max(U,G)),U*=.5,U*=L.ATH.aaSensitivityP,U>.03125)L.ATH.adjust>=1?L.ATH.adjust=1:L.ATH.adjust<L.ATH.adjustLimit&&(L.ATH.adjust=L.ATH.adjustLimit),L.ATH.adjustLimit=1;else{var $=31.98*U+625e-6;L.ATH.adjust>=$?(L.ATH.adjust*=$*.075+.925,L.ATH.adjust<$&&(L.ATH.adjust=$)):L.ATH.adjustLimit>=$?L.ATH.adjust=$:L.ATH.adjust<L.ATH.adjustLimit&&(L.ATH.adjust=L.ATH.adjustLimit),L.ATH.adjustLimit=$}}function y(L){var G,U;for(u(0<=L.bitrate_index&&L.bitrate_index<16),u(0<=L.mode_ext&&L.mode_ext<4),L.bitrate_stereoMode_Hist[L.bitrate_index][4]++,L.bitrate_stereoMode_Hist[15][4]++,L.channels_out==2&&(L.bitrate_stereoMode_Hist[L.bitrate_index][L.mode_ext]++,L.bitrate_stereoMode_Hist[15][L.mode_ext]++),G=0;G<L.mode_gr;++G)for(U=0;U<L.channels_out;++U){var $=L.l3_side.tt[G][U].block_type|0;L.l3_side.tt[G][U].mixed_block_flag!=0&&($=4),L.bitrate_blockType_Hist[L.bitrate_index][$]++,L.bitrate_blockType_Hist[L.bitrate_index][5]++,L.bitrate_blockType_Hist[15][$]++,L.bitrate_blockType_Hist[15][5]++}}function j(L,G){var U=L.internal_flags,$,ee;if(U.lame_encode_frame_init==0){var ie,re,z=s(2014),ve=s(2014);for(U.lame_encode_frame_init=1,ie=0,re=0;ie<286+576*(1+U.mode_gr);++ie)ie<576*U.mode_gr?(z[ie]=0,U.channels_out==2&&(ve[ie]=0)):(z[ie]=G[0][re],U.channels_out==2&&(ve[ie]=G[1][re]),++re);for(ee=0;ee<U.mode_gr;ee++)for($=0;$<U.channels_out;$++)U.l3_side.tt[ee][$].block_type=c.SHORT_TYPE;E.mdct_sub48(U,z,ve),u(576>=c.FFTOFFSET),u(U.mf_size>=c.BLKSIZE+L.framesize-c.FFTOFFSET),u(U.mf_size>=512+L.framesize-32)}}this.lame_encode_mp3_frame=function(L,G,U,$,ee,ie){var re,z=n([2,2]);z[0][0]=new p,z[0][1]=new p,z[1][0]=new p,z[1][1]=new p;var ve=n([2,2]);ve[0][0]=new p,ve[0][1]=new p,ve[1][0]=new p,ve[1][1]=new p;var K,B=[null,null],k=L.internal_flags,I=o([2,4]),M=[.5,.5],H=[[0,0],[0,0]],D=[[0,0],[0,0]],v,_,x;if(B[0]=G,B[1]=U,k.lame_encode_frame_init==0&&j(L,B),k.padding=0,(k.slot_lag-=k.frac_SpF)<0&&(k.slot_lag+=L.out_samplerate,k.padding=1),k.psymodel!=0){var O,F=[null,null],Q=0,X=l(2);for(x=0;x<k.mode_gr;x++){for(_=0;_<k.channels_out;_++)F[_]=B[_],Q=576+x*576-c.FFTOFFSET;if(L.VBR==r.vbr_mtrh||L.VBR==r.vbr_mt?O=R.L3psycho_anal_vbr(L,F,Q,x,z,ve,H[x],D[x],I[x],X):O=R.L3psycho_anal_ns(L,F,Q,x,z,ve,H[x],D[x],I[x],X),O!=0)return-4;for(L.mode==MPEGMode.JOINT_STEREO&&(M[x]=I[x][2]+I[x][3],M[x]>0&&(M[x]=I[x][3]/M[x])),_=0;_<k.channels_out;_++){var W=k.l3_side.tt[x][_];W.block_type=X[_],W.mixed_block_flag=0}}}else for(x=0;x<k.mode_gr;x++)for(_=0;_<k.channels_out;_++)k.l3_side.tt[x][_].block_type=c.NORM_TYPE,k.l3_side.tt[x][_].mixed_block_flag=0,D[x][_]=H[x][_]=700;if(P(k),E.mdct_sub48(k,B[0],B[1]),k.mode_ext=c.MPG_MD_LR_LR,L.force_ms)k.mode_ext=c.MPG_MD_MS_LR;else if(L.mode==MPEGMode.JOINT_STEREO){var se=0,le=0;for(x=0;x<k.mode_gr;x++)for(_=0;_<k.channels_out;_++)se+=D[x][_],le+=H[x][_];if(se<=1*le){var be=k.l3_side.tt[0],Ce=k.l3_side.tt[k.mode_gr-1];be[0].block_type==be[1].block_type&&Ce[0].block_type==Ce[1].block_type&&(k.mode_ext=c.MPG_MD_MS_LR)}}if(k.mode_ext==g?(K=ve,v=D):(K=z,v=H),L.analysis&&k.pinfo!=null)for(x=0;x<k.mode_gr;x++)for(_=0;_<k.channels_out;_++)k.pinfo.ms_ratio[x]=k.ms_ratio[x],k.pinfo.ms_ener_ratio[x]=M[x],k.pinfo.blocktype[x][_]=k.l3_side.tt[x][_].block_type,k.pinfo.pe[x][_]=v[x][_],e.arraycopy(k.l3_side.tt[x][_].xr,0,k.pinfo.xr[x][_],0,576),k.mode_ext==g&&(k.pinfo.ers[x][_]=k.pinfo.ers[x][_+2],e.arraycopy(k.pinfo.energy[x][_+2],0,k.pinfo.energy[x][_],0,k.pinfo.energy[x][_].length));if(L.VBR==r.vbr_off||L.VBR==r.vbr_abr){var Te,je;for(Te=0;Te<18;Te++)k.nsPsy.pefirbuf[Te]=k.nsPsy.pefirbuf[Te+1];for(je=0,x=0;x<k.mode_gr;x++)for(_=0;_<k.channels_out;_++)je+=v[x][_];for(k.nsPsy.pefirbuf[18]=je,je=k.nsPsy.pefirbuf[9],Te=0;Te<9;Te++)je+=(k.nsPsy.pefirbuf[Te]+k.nsPsy.pefirbuf[18-Te])*c.fircoef[Te];for(je=670*5*k.mode_gr*k.channels_out/je,x=0;x<k.mode_gr;x++)for(_=0;_<k.channels_out;_++)v[x][_]*=je}if(k.iteration_loop.iteration_loop(L,v,M,K),w.format_bitstream(L),re=w.copy_buffer(k,$,ee,ie,1),L.bWriteVbrTag&&b.addVbrFrame(L),L.analysis&&k.pinfo!=null){for(_=0;_<k.channels_out;_++){var Ue;for(Ue=0;Ue<h;Ue++)k.pinfo.pcmdata[_][Ue]=k.pinfo.pcmdata[_][Ue+L.framesize];for(Ue=h;Ue<1600;Ue++)k.pinfo.pcmdata[_][Ue]=B[_][Ue-h]}S.set_frame_pinfo(L,K)}return y(k),re}}return M0=c,M0}var I0,tb;function H$(){if(tb)return I0;tb=1;var t=Xt();t.System,t.VbrMode,t.Float,t.ShortBlock;var e=t.Util;t.Arrays,t.new_array_n,t.new_byte,t.new_double;var r=t.new_float;t.new_float_n,t.new_int,t.new_int_n,t.assert;var n=zr();function s(){var o=r(n.BLKSIZE),l=r(n.BLKSIZE_s/2),u=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function c(p,h,g){var w=0,R,b,S;g<<=1;var E=h+g;R=4;do{var P,y,j,L,G,U,$;$=R>>1,L=R,G=R<<1,U=G+L,R=G<<1,b=h,S=b+$;do{var ee,ie,re,z;ie=p[b+0]-p[b+L],ee=p[b+0]+p[b+L],z=p[b+G]-p[b+U],re=p[b+G]+p[b+U],p[b+G]=ee-re,p[b+0]=ee+re,p[b+U]=ie-z,p[b+L]=ie+z,ie=p[S+0]-p[S+L],ee=p[S+0]+p[S+L],z=e.SQRT2*p[S+U],re=e.SQRT2*p[S+G],p[S+G]=ee-re,p[S+0]=ee+re,p[S+U]=ie-z,p[S+L]=ie+z,S+=R,b+=R}while(b<E);for(y=u[w+0],P=u[w+1],j=1;j<$;j++){var ve,K;ve=1-2*P*P,K=2*P*y,b=h+j,S=h+L-j;do{var B,k,I,ee,ie,M,re,H,z,D;k=K*p[b+L]-ve*p[S+L],B=ve*p[b+L]+K*p[S+L],ie=p[b+0]-B,ee=p[b+0]+B,M=p[S+0]-k,I=p[S+0]+k,k=K*p[b+U]-ve*p[S+U],B=ve*p[b+U]+K*p[S+U],z=p[b+G]-B,re=p[b+G]+B,D=p[S+G]-k,H=p[S+G]+k,k=P*re-y*D,B=y*re+P*D,p[b+G]=ee-B,p[b+0]=ee+B,p[S+U]=M-k,p[S+L]=M+k,k=y*H-P*z,B=P*H+y*z,p[S+G]=I-B,p[S+0]=I+B,p[b+U]=ie-k,p[b+L]=ie+k,S+=R,b+=R}while(b<E);ve=y,y=ve*u[w+0]-P*u[w+1],P=ve*u[w+1]+P*u[w+0]}w+=2}while(R<g)}var f=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(p,h,g,w,R){for(var b=0;b<3;b++){var S=n.BLKSIZE_s/2,E=65535&576/3*(b+1),P=n.BLKSIZE_s/8-1;do{var y,j,L,G,U,$=f[P<<2]&255;y=l[$]*w[g][R+$+E],U=l[127-$]*w[g][R+$+E+128],j=y-U,y=y+U,L=l[$+64]*w[g][R+$+E+64],U=l[63-$]*w[g][R+$+E+192],G=L-U,L=L+U,S-=4,h[b][S+0]=y+L,h[b][S+2]=y-L,h[b][S+1]=j+G,h[b][S+3]=j-G,y=l[$+1]*w[g][R+$+E+1],U=l[126-$]*w[g][R+$+E+129],j=y-U,y=y+U,L=l[$+65]*w[g][R+$+E+65],U=l[62-$]*w[g][R+$+E+193],G=L-U,L=L+U,h[b][S+n.BLKSIZE_s/2+0]=y+L,h[b][S+n.BLKSIZE_s/2+2]=y-L,h[b][S+n.BLKSIZE_s/2+1]=j+G,h[b][S+n.BLKSIZE_s/2+3]=j-G}while(--P>=0);c(h[b],S,n.BLKSIZE_s/2)}},this.fft_long=function(p,h,g,w,R){var b=n.BLKSIZE/8-1,S=n.BLKSIZE/2;do{var E,P,y,j,L,G=f[b]&255;E=o[G]*w[g][R+G],L=o[G+512]*w[g][R+G+512],P=E-L,E=E+L,y=o[G+256]*w[g][R+G+256],L=o[G+768]*w[g][R+G+768],j=y-L,y=y+L,S-=4,h[S+0]=E+y,h[S+2]=E-y,h[S+1]=P+j,h[S+3]=P-j,E=o[G+1]*w[g][R+G+1],L=o[G+513]*w[g][R+G+513],P=E-L,E=E+L,y=o[G+257]*w[g][R+G+257],L=o[G+769]*w[g][R+G+769],j=y-L,y=y+L,h[S+n.BLKSIZE/2+0]=E+y,h[S+n.BLKSIZE/2+2]=E-y,h[S+n.BLKSIZE/2+1]=P+j,h[S+n.BLKSIZE/2+3]=P-j}while(--b>=0);c(h,S,n.BLKSIZE/2)},this.init_fft=function(p){for(var h=0;h<n.BLKSIZE;h++)o[h]=.42-.5*Math.cos(2*Math.PI*(h+.5)/n.BLKSIZE)+.08*Math.cos(4*Math.PI*(h+.5)/n.BLKSIZE);for(var h=0;h<n.BLKSIZE_s/2;h++)l[h]=.5*(1-Math.cos(2*Math.PI*(h+.5)/n.BLKSIZE_s))}}return I0=s,I0}var D0,rb;function z$(){if(rb)return D0;rb=1;var t=Xt();t.System;var e=t.VbrMode,r=t.Float,n=t.ShortBlock,s=t.Util,o=t.Arrays;t.new_array_n,t.new_byte,t.new_double;var l=t.new_float,u=t.new_float_n,c=t.new_int;t.new_int_n;var f=t.assert,p=H$(),h=zr();function g(){var w=new p,R=2.302585092994046,b=2,S=16,E=2,P=16,y=.34,j=1/(14752*14752)/(h.BLKSIZE/2),L=.01,G=.8,U=.6,$=.3,ee=3.5,ie=21,re=.2302585093;function z(Z){return Z}function ve(Z,J){for(var ne=0,ae=0;ae<h.BLKSIZE/2;++ae)ne+=Z[ae]*J.ATH.eql_w[ae];return ne*=j,ne}function K(Z,J,ne,ae,de,te,fe,me,ce,Se,ge){var Ee=Z.internal_flags;if(ce<2)w.fft_long(Ee,ae[de],ce,Se,ge),w.fft_short(Ee,te[fe],ce,Se,ge);else if(ce==2){for(var Fe=h.BLKSIZE-1;Fe>=0;--Fe){var st=ae[de+0][Fe],ke=ae[de+1][Fe];ae[de+0][Fe]=(st+ke)*s.SQRT2*.5,ae[de+1][Fe]=(st-ke)*s.SQRT2*.5}for(var Qe=2;Qe>=0;--Qe)for(var Fe=h.BLKSIZE_s-1;Fe>=0;--Fe){var st=te[fe+0][Qe][Fe],ke=te[fe+1][Qe][Fe];te[fe+0][Qe][Fe]=(st+ke)*s.SQRT2*.5,te[fe+1][Qe][Fe]=(st-ke)*s.SQRT2*.5}}J[0]=ae[de+0][0],J[0]*=J[0];for(var Fe=h.BLKSIZE/2-1;Fe>=0;--Fe){var we=ae[de+0][h.BLKSIZE/2-Fe],He=ae[de+0][h.BLKSIZE/2+Fe];J[h.BLKSIZE/2-Fe]=(we*we+He*He)*.5}for(var Qe=2;Qe>=0;--Qe){ne[Qe][0]=te[fe+0][Qe][0],ne[Qe][0]*=ne[Qe][0];for(var Fe=h.BLKSIZE_s/2-1;Fe>=0;--Fe){var we=te[fe+0][Qe][h.BLKSIZE_s/2-Fe],He=te[fe+0][Qe][h.BLKSIZE_s/2+Fe];ne[Qe][h.BLKSIZE_s/2-Fe]=(we*we+He*He)*.5}}{for(var mt=0,Fe=11;Fe<h.HBLKSIZE;Fe++)mt+=J[Fe];Ee.tot_ener[ce]=mt}if(Z.analysis){for(var Fe=0;Fe<h.HBLKSIZE;Fe++)Ee.pinfo.energy[me][ce][Fe]=Ee.pinfo.energy_save[ce][Fe],Ee.pinfo.energy_save[ce][Fe]=J[Fe];Ee.pinfo.pe[me][ce]=Ee.pe[ce]}Z.athaa_loudapprox==2&&ce<2&&(Ee.loudness_sq[me][ce]=Ee.loudness_sq_save[ce],Ee.loudness_sq_save[ce]=ve(J,Ee))}var B=8,k=23,I=15,M,H,D,v=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function _(){M=Math.pow(10,(B+1)/16),H=Math.pow(10,(k+1)/16),D=Math.pow(10,I/10)}var x=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],O=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],F=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function Q(Z,J,ne,ae,de,te){var fe;if(J>Z)if(J<Z*H)fe=J/Z;else return Z+J;else{if(Z>=J*H)return Z+J;fe=Z/J}if(f(Z>=0),f(J>=0),Z+=J,ae+3<=6){if(fe>=M)return Z;var me=0|s.FAST_LOG10_X(fe,16);return Z*O[me]}var me=0|s.FAST_LOG10_X(fe,16);if(J=de.ATH.cb_l[ne]*de.ATH.adjust,f(J>=0),Z<D*J){if(Z>J){var ce,Se;return ce=1,me<=13&&(ce=F[me]),Se=s.FAST_LOG10_X(Z/J,10/15),Z*((x[me]-ce)*Se+ce)}return me>13?Z:Z*F[me]}return Z*x[me]}var X=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function W(Z,J,ne){var ae;if(Z<0&&(Z=0),J<0&&(J=0),Z<=0)return J;if(J<=0)return Z;if(J>Z?ae=J/Z:ae=Z/J,-2<=ne&&ne<=2){if(ae>=M)return Z+J;var de=0|s.FAST_LOG10_X(ae,16);return(Z+J)*X[de]}return ae<H?Z+J:(Z<J&&(Z=J),Z)}function se(Z,J){var ne=Z.internal_flags;if(ne.channels_out>1){for(var ae=0;ae<h.SBMAX_l;ae++){var de=ne.thm[0].l[ae],te=ne.thm[1].l[ae];ne.thm[0].l[ae]+=te*J,ne.thm[1].l[ae]+=de*J}for(var ae=0;ae<h.SBMAX_s;ae++)for(var fe=0;fe<3;fe++){var de=ne.thm[0].s[ae][fe],te=ne.thm[1].s[ae][fe];ne.thm[0].s[ae][fe]+=te*J,ne.thm[1].s[ae][fe]+=de*J}}}function le(Z){for(var J=0;J<h.SBMAX_l;J++)if(!(Z.thm[0].l[J]>1.58*Z.thm[1].l[J]||Z.thm[1].l[J]>1.58*Z.thm[0].l[J])){var ne=Z.mld_l[J]*Z.en[3].l[J],ae=Math.max(Z.thm[2].l[J],Math.min(Z.thm[3].l[J],ne));ne=Z.mld_l[J]*Z.en[2].l[J];var de=Math.max(Z.thm[3].l[J],Math.min(Z.thm[2].l[J],ne));Z.thm[2].l[J]=ae,Z.thm[3].l[J]=de}for(var J=0;J<h.SBMAX_s;J++)for(var te=0;te<3;te++)if(!(Z.thm[0].s[J][te]>1.58*Z.thm[1].s[J][te]||Z.thm[1].s[J][te]>1.58*Z.thm[0].s[J][te])){var ne=Z.mld_s[J]*Z.en[3].s[J][te],ae=Math.max(Z.thm[2].s[J][te],Math.min(Z.thm[3].s[J][te],ne));ne=Z.mld_s[J]*Z.en[2].s[J][te];var de=Math.max(Z.thm[3].s[J][te],Math.min(Z.thm[2].s[J][te],ne));Z.thm[2].s[J][te]=ae,Z.thm[3].s[J][te]=de}}function be(Z,J,ne){var ae=J,de=Math.pow(10,ne);J*=2,ae*=2;for(var te=0;te<h.SBMAX_l;te++){var fe,me,ce,Se;if(Se=Z.ATH.cb_l[Z.bm_l[te]]*de,fe=Math.min(Math.max(Z.thm[0].l[te],Se),Math.max(Z.thm[1].l[te],Se)),me=Math.max(Z.thm[2].l[te],Se),ce=Math.max(Z.thm[3].l[te],Se),fe*J<me+ce){var ge=fe*ae/(me+ce);me*=ge,ce*=ge,f(me+ce>0)}Z.thm[2].l[te]=Math.min(me,Z.thm[2].l[te]),Z.thm[3].l[te]=Math.min(ce,Z.thm[3].l[te])}de*=h.BLKSIZE_s/h.BLKSIZE;for(var te=0;te<h.SBMAX_s;te++)for(var Ee=0;Ee<3;Ee++){var fe,me,ce,Se;if(Se=Z.ATH.cb_s[Z.bm_s[te]]*de,fe=Math.min(Math.max(Z.thm[0].s[te][Ee],Se),Math.max(Z.thm[1].s[te][Ee],Se)),me=Math.max(Z.thm[2].s[te][Ee],Se),ce=Math.max(Z.thm[3].s[te][Ee],Se),fe*J<me+ce){var ge=fe*J/(me+ce);me*=ge,ce*=ge,f(me+ce>0)}Z.thm[2].s[te][Ee]=Math.min(Z.thm[2].s[te][Ee],me),Z.thm[3].s[te][Ee]=Math.min(Z.thm[3].s[te][Ee],ce)}}function Ce(Z,J,ne,ae,de){var te,fe,me=0,ce=0;for(te=fe=0;te<h.SBMAX_s;++fe,++te){for(var Se=Z.bo_s[te],ge=Z.npart_s,Ee=Se<ge?Se:ge;fe<Ee;)f(J[fe]>=0),f(ne[fe]>=0),me+=J[fe],ce+=ne[fe],fe++;if(Z.en[ae].s[te][de]=me,Z.thm[ae].s[te][de]=ce,fe>=ge){++te;break}f(J[fe]>=0),f(ne[fe]>=0);{var Fe=Z.PSY.bo_s_weight[te],st=1-Fe;me=Fe*J[fe],ce=Fe*ne[fe],Z.en[ae].s[te][de]+=me,Z.thm[ae].s[te][de]+=ce,me=st*J[fe],ce=st*ne[fe]}}for(;te<h.SBMAX_s;++te)Z.en[ae].s[te][de]=0,Z.thm[ae].s[te][de]=0}function Te(Z,J,ne,ae){var de,te,fe=0,me=0;for(de=te=0;de<h.SBMAX_l;++te,++de){for(var ce=Z.bo_l[de],Se=Z.npart_l,ge=ce<Se?ce:Se;te<ge;)f(J[te]>=0),f(ne[te]>=0),fe+=J[te],me+=ne[te],te++;if(Z.en[ae].l[de]=fe,Z.thm[ae].l[de]=me,te>=Se){++de;break}f(J[te]>=0),f(ne[te]>=0);{var Ee=Z.PSY.bo_l_weight[de],Fe=1-Ee;fe=Ee*J[te],me=Ee*ne[te],Z.en[ae].l[de]+=fe,Z.thm[ae].l[de]+=me,fe=Fe*J[te],me=Fe*ne[te]}}for(;de<h.SBMAX_l;++de)Z.en[ae].l[de]=0,Z.thm[ae].l[de]=0}function je(Z,J,ne,ae,de,te){var fe=Z.internal_flags,me,ce;for(ce=me=0;ce<fe.npart_s;++ce){for(var Se=0,ge=fe.numlines_s[ce],Ee=0;Ee<ge;++Ee,++me){var Fe=J[te][me];Se+=Fe}ne[ce]=Se}for(f(ce==fe.npart_s),f(me==129),me=ce=0;ce<fe.npart_s;ce++){var st=fe.s3ind_s[ce][0],ke=fe.s3_ss[me++]*ne[st];for(++st;st<=fe.s3ind_s[ce][1];)ke+=fe.s3_ss[me]*ne[st],++me,++st;{var Qe=E*fe.nb_s1[de][ce];ae[ce]=Math.min(ke,Qe)}if(fe.blocktype_old[de&1]==h.SHORT_TYPE){var Qe=P*fe.nb_s2[de][ce],we=ae[ce];ae[ce]=Math.min(Qe,we)}fe.nb_s2[de][ce]=fe.nb_s1[de][ce],fe.nb_s1[de][ce]=ke,f(ae[ce]>=0)}for(;ce<=h.CBANDS;++ce)ne[ce]=0,ae[ce]=0}function Ue(Z,J,ne,ae){var de=Z.internal_flags;Z.short_blocks==n.short_block_coupled&&!(J[0]!=0&&J[1]!=0)&&(J[0]=J[1]=0);for(var te=0;te<de.channels_out;te++)ae[te]=h.NORM_TYPE,Z.short_blocks==n.short_block_dispensed&&(J[te]=1),Z.short_blocks==n.short_block_forced&&(J[te]=0),J[te]!=0?(f(de.blocktype_old[te]!=h.START_TYPE),de.blocktype_old[te]==h.SHORT_TYPE&&(ae[te]=h.STOP_TYPE)):(ae[te]=h.SHORT_TYPE,de.blocktype_old[te]==h.NORM_TYPE&&(de.blocktype_old[te]=h.START_TYPE),de.blocktype_old[te]==h.STOP_TYPE&&(de.blocktype_old[te]=h.SHORT_TYPE)),ne[te]=de.blocktype_old[te],de.blocktype_old[te]=ae[te]}function lt(Z,J,ne){return ne>=1?Z:ne<=0?J:J>0?Math.pow(Z/J,ne)*J:0}var Et=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function V(Z,J){for(var ne=309.07,ae=0;ae<h.SBMAX_s-1;ae++)for(var de=0;de<3;de++){var te=Z.thm.s[ae][de];if(f(ae<Et.length),te>0){var fe=te*J,me=Z.en.s[ae][de];me>fe&&(me>fe*1e10?ne+=Et[ae]*(10*R):(f(fe>0),ne+=Et[ae]*s.FAST_LOG10(me/fe)))}}return ne}var Y=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function Le(Z,J){for(var ne=281.0575,ae=0;ae<h.SBMAX_l-1;ae++){var de=Z.thm.l[ae];if(f(ae<Y.length),de>0){var te=de*J,fe=Z.en.l[ae];fe>te&&(fe>te*1e10?ne+=Y[ae]*(10*R):(f(te>0),ne+=Y[ae]*s.FAST_LOG10(fe/te)))}}return ne}function Be(Z,J,ne,ae,de){var te,fe;for(te=fe=0;te<Z.npart_l;++te){var me=0,ce=0,Se;for(Se=0;Se<Z.numlines_l[te];++Se,++fe){var ge=J[fe];f(ge>=0),me+=ge,ce<ge&&(ce=ge)}ne[te]=me,ae[te]=ce,de[te]=me*Z.rnumlines_l[te],f(Z.rnumlines_l[te]>=0),f(me>=0),f(ne[te]>=0),f(ae[te]>=0),f(de[te]>=0)}}function We(Z,J,ne,ae){var de=v.length-1,te=0,fe=ne[te]+ne[te+1];if(f(fe>=0),fe>0){var me=J[te];me<J[te+1]&&(me=J[te+1]),f(Z.numlines_l[te]+Z.numlines_l[te+1]-1>0),fe=20*(me*2-fe)/(fe*(Z.numlines_l[te]+Z.numlines_l[te+1]-1));var ce=0|fe;ce>de&&(ce=de),ae[te]=ce}else ae[te]=0;for(te=1;te<Z.npart_l-1;te++)if(fe=ne[te-1]+ne[te]+ne[te+1],f(fe>=0),fe>0){var me=J[te-1];me<J[te]&&(me=J[te]),me<J[te+1]&&(me=J[te+1]),f(Z.numlines_l[te-1]+Z.numlines_l[te]+Z.numlines_l[te+1]-1>0),fe=20*(me*3-fe)/(fe*(Z.numlines_l[te-1]+Z.numlines_l[te]+Z.numlines_l[te+1]-1));var ce=0|fe;ce>de&&(ce=de),ae[te]=ce}else ae[te]=0;if(f(te>0),f(te==Z.npart_l-1),fe=ne[te-1]+ne[te],f(fe>=0),fe>0){var me=J[te-1];me<J[te]&&(me=J[te]),f(Z.numlines_l[te-1]+Z.numlines_l[te]-1>0),fe=20*(me*2-fe)/(fe*(Z.numlines_l[te-1]+Z.numlines_l[te]-1));var ce=0|fe;ce>de&&(ce=de),ae[te]=ce}else ae[te]=0;f(te==Z.npart_l-1)}var Ge=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(Z,J,ne,ae,de,te,fe,me,ce,Se){var ge=Z.internal_flags,Ee=u([2,h.BLKSIZE]),Fe=u([2,3,h.BLKSIZE_s]),st=l(h.CBANDS+1),ke=l(h.CBANDS+1),Qe=l(h.CBANDS+2),we=c(2),He=c(2),mt,Ae,ze,Re,it,It,$e,ft,Ze=u([2,576]),Ft,Ar=c(h.CBANDS+2),qt=c(h.CBANDS+2);for(o.fill(qt,0),mt=ge.channels_out,Z.mode==MPEGMode.JOINT_STEREO&&(mt=4),Z.VBR==e.vbr_off?Ft=ge.ResvMax==0?0:ge.ResvSize/ge.ResvMax*.5:Z.VBR==e.vbr_rh||Z.VBR==e.vbr_mtrh||Z.VBR==e.vbr_mt?Ft=.6:Ft=1,Ae=0;Ae<ge.channels_out;Ae++){var Mt=J[Ae],jr=ne+576-350-ie+192;for(f(Ge.length==(ie-1)/2),Re=0;Re<576;Re++){var Lr,Sr;for(Lr=Mt[jr+Re+10],Sr=0,it=0;it<(ie-1)/2-1;it+=2)Lr+=Ge[it]*(Mt[jr+Re+it]+Mt[jr+Re+ie-it]),Sr+=Ge[it+1]*(Mt[jr+Re+it+1]+Mt[jr+Re+ie-it-1]);Ze[Ae][Re]=Lr+Sr}de[ae][Ae].en.assign(ge.en[Ae]),de[ae][Ae].thm.assign(ge.thm[Ae]),mt>2&&(te[ae][Ae].en.assign(ge.en[Ae+2]),te[ae][Ae].thm.assign(ge.thm[Ae+2]))}for(Ae=0;Ae<mt;Ae++){var nr,un,jt=l(12),yn=[0,0,0,0],Bs=l(12),ka=1,_i,wi=l(h.CBANDS),Fs=l(h.CBANDS),Dt=[0,0,0,0],Kl=l(h.HBLKSIZE),Yl=u([3,h.HBLKSIZE_s]);for(f(ge.npart_s<=h.CBANDS),f(ge.npart_l<=h.CBANDS),Re=0;Re<3;Re++)jt[Re]=ge.nsPsy.last_en_subshort[Ae][Re+6],f(ge.nsPsy.last_en_subshort[Ae][Re+4]>0),Bs[Re]=jt[Re]/ge.nsPsy.last_en_subshort[Ae][Re+4],yn[0]+=jt[Re];if(Ae==2)for(Re=0;Re<576;Re++){var bi,no;bi=Ze[0][Re],no=Ze[1][Re],Ze[0][Re]=bi+no,Ze[1][Re]=bi-no}{var so=Ze[Ae&1],Mn=0;for(Re=0;Re<9;Re++){for(var Yd=Mn+64,Qt=1;Mn<Yd;Mn++)Qt<Math.abs(so[Mn])&&(Qt=Math.abs(so[Mn]));ge.nsPsy.last_en_subshort[Ae][Re]=jt[Re+3]=Qt,yn[1+Re/3]+=Qt,Qt>jt[Re+3-2]?(f(jt[Re+3-2]>0),Qt=Qt/jt[Re+3-2]):jt[Re+3-2]>Qt*10?(f(Qt>0),Qt=jt[Re+3-2]/(Qt*10)):Qt=0,Bs[Re+3]=Qt}}if(Z.analysis){var Rt=Bs[0];for(Re=1;Re<12;Re++)Rt<Bs[Re]&&(Rt=Bs[Re]);ge.pinfo.ers[ae][Ae]=ge.pinfo.ers_save[Ae],ge.pinfo.ers_save[Ae]=Rt}for(_i=Ae==3?ge.nsPsy.attackthre_s:ge.nsPsy.attackthre,Re=0;Re<12;Re++)Dt[Re/3]==0&&Bs[Re]>_i&&(Dt[Re/3]=Re%3+1);for(Re=1;Re<4;Re++){var io;yn[Re-1]>yn[Re]?(f(yn[Re]>0),io=yn[Re-1]/yn[Re]):(f(yn[Re-1]>0),io=yn[Re]/yn[Re-1]),io<1.7&&(Dt[Re]=0,Re==1&&(Dt[0]=0))}for(Dt[0]!=0&&ge.nsPsy.lastAttacks[Ae]!=0&&(Dt[0]=0),(ge.nsPsy.lastAttacks[Ae]==3||Dt[0]+Dt[1]+Dt[2]+Dt[3]!=0)&&(ka=0,Dt[1]!=0&&Dt[0]!=0&&(Dt[1]=0),Dt[2]!=0&&Dt[1]!=0&&(Dt[2]=0),Dt[3]!=0&&Dt[2]!=0&&(Dt[3]=0)),Ae<2?He[Ae]=ka:ka==0&&(He[0]=He[1]=0),ce[Ae]=ge.tot_ener[Ae],un=Fe,nr=Ee,K(Z,Kl,Yl,nr,Ae&1,un,Ae&1,ae,Ae,J,ne),Be(ge,Kl,st,wi,Fs),We(ge,wi,Fs,Ar),ft=0;ft<3;ft++){var oo,Er;for(je(Z,Yl,ke,Qe,Ae,ft),Ce(ge,ke,Qe,Ae,ft),$e=0;$e<h.SBMAX_s;$e++){if(Er=ge.thm[Ae].s[$e][ft],Er*=G,Dt[ft]>=2||Dt[ft+1]==1){var Vs=ft!=0?ft-1:2,Qt=lt(ge.thm[Ae].s[$e][Vs],Er,U*Ft);Er=Math.min(Er,Qt)}if(Dt[ft]==1){var Vs=ft!=0?ft-1:2,Qt=lt(ge.thm[Ae].s[$e][Vs],Er,$*Ft);Er=Math.min(Er,Qt)}else if(ft!=0&&Dt[ft-1]==3||ft==0&&ge.nsPsy.lastAttacks[Ae]==3){var Vs=ft!=2?ft+1:0,Qt=lt(ge.thm[Ae].s[$e][Vs],Er,$*Ft);Er=Math.min(Er,Qt)}oo=jt[ft*3+3]+jt[ft*3+4]+jt[ft*3+5],jt[ft*3+5]*6<oo&&(Er*=.5,jt[ft*3+4]*6<oo&&(Er*=.5)),ge.thm[Ae].s[$e][ft]=Er}}for(ge.nsPsy.lastAttacks[Ae]=Dt[2],It=0,ze=0;ze<ge.npart_l;ze++){for(var Qn=ge.s3ind[ze][0],ao=st[Qn]*v[Ar[Qn]],In=ge.s3_ll[It++]*ao;++Qn<=ge.s3ind[ze][1];)ao=st[Qn]*v[Ar[Qn]],In=Q(In,ge.s3_ll[It++]*ao,Qn,Qn-ze,ge);In*=.158489319246111,ge.blocktype_old[Ae&1]==h.SHORT_TYPE?Qe[ze]=In:Qe[ze]=lt(Math.min(In,Math.min(b*ge.nb_1[Ae][ze],S*ge.nb_2[Ae][ze])),In,Ft),ge.nb_2[Ae][ze]=ge.nb_1[Ae][ze],ge.nb_1[Ae][ze]=In}for(;ze<=h.CBANDS;++ze)st[ze]=0,Qe[ze]=0;Te(ge,st,Qe,Ae)}if((Z.mode==MPEGMode.STEREO||Z.mode==MPEGMode.JOINT_STEREO)&&Z.interChRatio>0&&se(Z,Z.interChRatio),Z.mode==MPEGMode.JOINT_STEREO){var $s;le(ge),$s=Z.msfix,Math.abs($s)>0&&be(ge,$s,Z.ATHlower*ge.ATH.adjust)}for(Ue(Z,He,Se,we),Ae=0;Ae<mt;Ae++){var Yr,Xr=0,cn,Zn;Ae>1?(Yr=me,Xr=-2,cn=h.NORM_TYPE,(Se[0]==h.SHORT_TYPE||Se[1]==h.SHORT_TYPE)&&(cn=h.SHORT_TYPE),Zn=te[ae][Ae-2]):(Yr=fe,Xr=0,cn=Se[Ae],Zn=de[ae][Ae]),cn==h.SHORT_TYPE?Yr[Xr+Ae]=V(Zn,ge.masking_lower):Yr[Xr+Ae]=Le(Zn,ge.masking_lower),Z.analysis&&(ge.pinfo.pe[ae][Ae]=Yr[Xr+Ae])}return 0};function he(Z,J,ne,ae,de,te,fe,me){var ce=Z.internal_flags;if(ae<2)w.fft_long(ce,fe[me],ae,J,ne);else if(ae==2)for(var Se=h.BLKSIZE-1;Se>=0;--Se){var ge=fe[me+0][Se],Ee=fe[me+1][Se];fe[me+0][Se]=(ge+Ee)*s.SQRT2*.5,fe[me+1][Se]=(ge-Ee)*s.SQRT2*.5}te[0]=fe[me+0][0],te[0]*=te[0];for(var Se=h.BLKSIZE/2-1;Se>=0;--Se){var Fe=fe[me+0][h.BLKSIZE/2-Se],st=fe[me+0][h.BLKSIZE/2+Se];te[h.BLKSIZE/2-Se]=(Fe*Fe+st*st)*.5}{for(var ke=0,Se=11;Se<h.HBLKSIZE;Se++)ke+=te[Se];ce.tot_ener[ae]=ke}if(Z.analysis){for(var Se=0;Se<h.HBLKSIZE;Se++)ce.pinfo.energy[de][ae][Se]=ce.pinfo.energy_save[ae][Se],ce.pinfo.energy_save[ae][Se]=te[Se];ce.pinfo.pe[de][ae]=ce.pe[ae]}}function Ie(Z,J,ne,ae,de,te,fe,me){var ce=Z.internal_flags;if(de==0&&ae<2&&w.fft_short(ce,fe[me],ae,J,ne),ae==2)for(var Se=h.BLKSIZE_s-1;Se>=0;--Se){var ge=fe[me+0][de][Se],Ee=fe[me+1][de][Se];fe[me+0][de][Se]=(ge+Ee)*s.SQRT2*.5,fe[me+1][de][Se]=(ge-Ee)*s.SQRT2*.5}te[de][0]=fe[me+0][de][0],te[de][0]*=te[de][0];for(var Se=h.BLKSIZE_s/2-1;Se>=0;--Se){var Fe=fe[me+0][de][h.BLKSIZE_s/2-Se],st=fe[me+0][de][h.BLKSIZE_s/2+Se];te[de][h.BLKSIZE_s/2-Se]=(Fe*Fe+st*st)*.5}}function nt(Z,J,ne,ae){var de=Z.internal_flags;Z.athaa_loudapprox==2&&ne<2&&(de.loudness_sq[J][ne]=de.loudness_sq_save[ne],de.loudness_sq_save[ne]=ve(ae,de))}var qe=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function Ne(Z,J,ne,ae,de,te,fe,me,ce,Se){for(var ge=u([2,576]),Ee=Z.internal_flags,Fe=Ee.channels_out,st=Z.mode==MPEGMode.JOINT_STEREO?4:Fe,ke=0;ke<Fe;ke++){firbuf=J[ke];var Qe=ne+576-350-ie+192;f(qe.length==(ie-1)/2);for(var we=0;we<576;we++){var He,mt;He=firbuf[Qe+we+10],mt=0;for(var Ae=0;Ae<(ie-1)/2-1;Ae+=2)He+=qe[Ae]*(firbuf[Qe+we+Ae]+firbuf[Qe+we+ie-Ae]),mt+=qe[Ae+1]*(firbuf[Qe+we+Ae+1]+firbuf[Qe+we+ie-Ae-1]);ge[ke][we]=He+mt}de[ae][ke].en.assign(Ee.en[ke]),de[ae][ke].thm.assign(Ee.thm[ke]),st>2&&(te[ae][ke].en.assign(Ee.en[ke+2]),te[ae][ke].thm.assign(Ee.thm[ke+2]))}for(var ke=0;ke<st;ke++){var ze=l(12),Re=l(12),it=[0,0,0,0],It=ge[ke&1],$e=0,ft=ke==3?Ee.nsPsy.attackthre_s:Ee.nsPsy.attackthre,Ze=1;if(ke==2)for(var we=0,Ae=576;Ae>0;++we,--Ae){var Ft=ge[0][we],Ar=ge[1][we];ge[0][we]=Ft+Ar,ge[1][we]=Ft-Ar}for(var we=0;we<3;we++)Re[we]=Ee.nsPsy.last_en_subshort[ke][we+6],f(Ee.nsPsy.last_en_subshort[ke][we+4]>0),ze[we]=Re[we]/Ee.nsPsy.last_en_subshort[ke][we+4],it[0]+=Re[we];for(var we=0;we<9;we++){for(var qt=$e+64,Mt=1;$e<qt;$e++)Mt<Math.abs(It[$e])&&(Mt=Math.abs(It[$e]));Ee.nsPsy.last_en_subshort[ke][we]=Re[we+3]=Mt,it[1+we/3]+=Mt,Mt>Re[we+3-2]?(f(Re[we+3-2]>0),Mt=Mt/Re[we+3-2]):Re[we+3-2]>Mt*10?(f(Mt>0),Mt=Re[we+3-2]/(Mt*10)):Mt=0,ze[we+3]=Mt}for(var we=0;we<3;++we){var jr=Re[we*3+3]+Re[we*3+4]+Re[we*3+5],Lr=1;Re[we*3+5]*6<jr&&(Lr*=.5,Re[we*3+4]*6<jr&&(Lr*=.5)),me[ke][we]=Lr}if(Z.analysis){for(var Sr=ze[0],we=1;we<12;we++)Sr<ze[we]&&(Sr=ze[we]);Ee.pinfo.ers[ae][ke]=Ee.pinfo.ers_save[ke],Ee.pinfo.ers_save[ke]=Sr}for(var we=0;we<12;we++)ce[ke][we/3]==0&&ze[we]>ft&&(ce[ke][we/3]=we%3+1);for(var we=1;we<4;we++){var nr=it[we-1],un=it[we],jt=Math.max(nr,un);jt<4e4&&nr<1.7*un&&un<1.7*nr&&(we==1&&ce[ke][0]<=ce[ke][we]&&(ce[ke][0]=0),ce[ke][we]=0)}ce[ke][0]<=Ee.nsPsy.lastAttacks[ke]&&(ce[ke][0]=0),(Ee.nsPsy.lastAttacks[ke]==3||ce[ke][0]+ce[ke][1]+ce[ke][2]+ce[ke][3]!=0)&&(Ze=0,ce[ke][1]!=0&&ce[ke][0]!=0&&(ce[ke][1]=0),ce[ke][2]!=0&&ce[ke][1]!=0&&(ce[ke][2]=0),ce[ke][3]!=0&&ce[ke][2]!=0&&(ce[ke][3]=0)),ke<2?Se[ke]=Ze:Ze==0&&(Se[0]=Se[1]=0),fe[ke]=Ee.tot_ener[ke]}}function yt(Z,J,ne){if(ne==0)for(var ae=0;ae<Z.npart_s;ae++)Z.nb_s2[J][ae]=Z.nb_s1[J][ae],Z.nb_s1[J][ae]=0}function xt(Z,J){for(var ne=0;ne<Z.npart_l;ne++)Z.nb_2[J][ne]=Z.nb_1[J][ne],Z.nb_1[J][ne]=0}function bt(Z,J,ne,ae){var de=v.length-1,te=0,fe=ne[te]+ne[te+1];if(f(fe>=0),fe>0){var me=J[te];me<J[te+1]&&(me=J[te+1]),f(Z.numlines_s[te]+Z.numlines_s[te+1]-1>0),fe=20*(me*2-fe)/(fe*(Z.numlines_s[te]+Z.numlines_s[te+1]-1));var ce=0|fe;ce>de&&(ce=de),ae[te]=ce}else ae[te]=0;for(te=1;te<Z.npart_s-1;te++)if(fe=ne[te-1]+ne[te]+ne[te+1],f(te+1<Z.npart_s),f(fe>=0),fe>0){var me=J[te-1];me<J[te]&&(me=J[te]),me<J[te+1]&&(me=J[te+1]),f(Z.numlines_s[te-1]+Z.numlines_s[te]+Z.numlines_s[te+1]-1>0),fe=20*(me*3-fe)/(fe*(Z.numlines_s[te-1]+Z.numlines_s[te]+Z.numlines_s[te+1]-1));var ce=0|fe;ce>de&&(ce=de),ae[te]=ce}else ae[te]=0;if(f(te>0),f(te==Z.npart_s-1),fe=ne[te-1]+ne[te],f(fe>=0),fe>0){var me=J[te-1];me<J[te]&&(me=J[te]),f(Z.numlines_s[te-1]+Z.numlines_s[te]-1>0),fe=20*(me*2-fe)/(fe*(Z.numlines_s[te-1]+Z.numlines_s[te]-1));var ce=0|fe;ce>de&&(ce=de),ae[te]=ce}else ae[te]=0;f(te==Z.npart_s-1)}function At(Z,J,ne,ae,de,te){var fe=Z.internal_flags,me=new float[h.CBANDS],ce=l(h.CBANDS),Se,ge,Ee,Fe=new int[h.CBANDS];for(Ee=ge=0;Ee<fe.npart_s;++Ee){var st=0,ke=0,Qe=fe.numlines_s[Ee];for(Se=0;Se<Qe;++Se,++ge){var we=J[te][ge];st+=we,ke<we&&(ke=we)}ne[Ee]=st,f(st>=0),me[Ee]=ke,f(Qe>0),ce[Ee]=st/Qe,f(ce[Ee]>=0)}for(f(Ee==fe.npart_s),f(ge==129);Ee<h.CBANDS;++Ee)me[Ee]=0,ce[Ee]=0;for(bt(fe,me,ce,Fe),ge=Ee=0;Ee<fe.npart_s;Ee++){var He=fe.s3ind_s[Ee][0],mt=fe.s3ind_s[Ee][1],Ae,ze,Re,it,It;for(Ae=Fe[He],ze=1,it=fe.s3_ss[ge]*ne[He]*v[Fe[He]],++ge,++He;He<=mt;)Ae+=Fe[He],ze+=1,Re=fe.s3_ss[ge]*ne[He]*v[Fe[He]],it=W(it,Re,He-Ee),++ge,++He;Ae=(1+2*Ae)/(2*ze),It=v[Ae]*.5,it*=It,ae[Ee]=it,fe.nb_s2[de][Ee]=fe.nb_s1[de][Ee],fe.nb_s1[de][Ee]=it,Re=me[Ee],Re*=fe.minval_s[Ee],Re*=It,ae[Ee]>Re&&(ae[Ee]=Re),fe.masking_lower>1&&(ae[Ee]*=fe.masking_lower),ae[Ee]>ne[Ee]&&(ae[Ee]=ne[Ee]),fe.masking_lower<1&&(ae[Ee]*=fe.masking_lower),f(ae[Ee]>=0)}for(;Ee<h.CBANDS;++Ee)ne[Ee]=0,ae[Ee]=0}function Lt(Z,J,ne,ae,de){var te=l(h.CBANDS),fe=l(h.CBANDS),me=c(h.CBANDS+2),ce;Be(Z,J,ne,te,fe),We(Z,te,fe,me);var Se=0;for(ce=0;ce<Z.npart_l;ce++){var ge,Ee,Fe,st,ke=Z.s3ind[ce][0],Qe=Z.s3ind[ce][1],we=0,He=0;for(we=me[ke],He+=1,Ee=Z.s3_ll[Se]*ne[ke]*v[me[ke]],++Se,++ke;ke<=Qe;)we+=me[ke],He+=1,ge=Z.s3_ll[Se]*ne[ke]*v[me[ke]],st=W(Ee,ge,ke-ce),Ee=st,++Se,++ke;if(we=(1+2*we)/(2*He),Fe=v[we]*.5,Ee*=Fe,Z.blocktype_old[de&1]==h.SHORT_TYPE){var mt=b*Z.nb_1[de][ce];mt>0?ae[ce]=Math.min(Ee,mt):ae[ce]=Math.min(Ee,ne[ce]*$)}else{var Ae=S*Z.nb_2[de][ce],ze=b*Z.nb_1[de][ce],mt;Ae<=0&&(Ae=Ee),ze<=0&&(ze=Ee),Z.blocktype_old[de&1]==h.NORM_TYPE?mt=Math.min(ze,Ae):mt=ze,ae[ce]=Math.min(Ee,mt)}Z.nb_2[de][ce]=Z.nb_1[de][ce],Z.nb_1[de][ce]=Ee,ge=te[ce],ge*=Z.minval_l[ce],ge*=Fe,ae[ce]>ge&&(ae[ce]=ge),Z.masking_lower>1&&(ae[ce]*=Z.masking_lower),ae[ce]>ne[ce]&&(ae[ce]=ne[ce]),Z.masking_lower<1&&(ae[ce]*=Z.masking_lower),f(ae[ce]>=0)}for(;ce<h.CBANDS;++ce)ne[ce]=0,ae[ce]=0}function Nt(Z,J){var ne=Z.internal_flags;Z.short_blocks==n.short_block_coupled&&!(J[0]!=0&&J[1]!=0)&&(J[0]=J[1]=0);for(var ae=0;ae<ne.channels_out;ae++)Z.short_blocks==n.short_block_dispensed&&(J[ae]=1),Z.short_blocks==n.short_block_forced&&(J[ae]=0)}function Bt(Z,J,ne){for(var ae=Z.internal_flags,de=0;de<ae.channels_out;de++){var te=h.NORM_TYPE;J[de]!=0?(f(ae.blocktype_old[de]!=h.START_TYPE),ae.blocktype_old[de]==h.SHORT_TYPE&&(te=h.STOP_TYPE)):(te=h.SHORT_TYPE,ae.blocktype_old[de]==h.NORM_TYPE&&(ae.blocktype_old[de]=h.START_TYPE),ae.blocktype_old[de]==h.STOP_TYPE&&(ae.blocktype_old[de]=h.SHORT_TYPE)),ne[de]=ae.blocktype_old[de],ae.blocktype_old[de]=te}}function ur(Z,J,ne,ae,de,te,fe){for(var me=te*2,ce=te>0?Math.pow(10,de):1,Se,ge,Ee=0;Ee<fe;++Ee){var Fe=Z[2][Ee],st=Z[3][Ee],ke=J[0][Ee],Qe=J[1][Ee],we=J[2][Ee],He=J[3][Ee];if(ke<=1.58*Qe&&Qe<=1.58*ke){var mt=ne[Ee]*st,Ae=ne[Ee]*Fe;ge=Math.max(we,Math.min(He,mt)),Se=Math.max(He,Math.min(we,Ae))}else ge=we,Se=He;if(te>0){var ze,Re,it=ae[Ee]*ce;if(ze=Math.min(Math.max(ke,it),Math.max(Qe,it)),we=Math.max(ge,it),He=Math.max(Se,it),Re=we+He,Re>0&&ze*me<Re){var It=ze*me/Re;we*=It,He*=It,f(Re>0)}ge=Math.min(we,ge),Se=Math.min(He,Se)}ge>Fe&&(ge=Fe),Se>st&&(Se=st),J[2][Ee]=ge,J[3][Ee]=Se}}this.L3psycho_anal_vbr=function(Z,J,ne,ae,de,te,fe,me,ce,Se){var ge=Z.internal_flags,Ee,Fe,st=l(h.HBLKSIZE),ke=u([3,h.HBLKSIZE_s]),Qe=u([2,h.BLKSIZE]),we=u([2,3,h.BLKSIZE_s]),He=u([4,h.CBANDS]),mt=u([4,h.CBANDS]),Ae=u([4,3]),ze=.6,Re=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],it=c(2),It=Z.mode==MPEGMode.JOINT_STEREO?4:ge.channels_out;Ne(Z,J,ne,ae,de,te,ce,Ae,Re,it),Nt(Z,it);{for(var $e=0;$e<It;$e++){var ft=$e&1;Ee=Qe,he(Z,J,ne,$e,ae,st,Ee,ft),nt(Z,ae,$e,st),it[ft]!=0?Lt(ge,st,He[$e],mt[$e],$e):xt(ge,$e)}it[0]+it[1]==2&&Z.mode==MPEGMode.JOINT_STEREO&&ur(He,mt,ge.mld_cb_l,ge.ATH.cb_l,Z.ATHlower*ge.ATH.adjust,Z.msfix,ge.npart_l);for(var $e=0;$e<It;$e++){var ft=$e&1;it[ft]!=0&&Te(ge,He[$e],mt[$e],$e)}}{for(var Ze=0;Ze<3;Ze++){for(var $e=0;$e<It;++$e){var ft=$e&1;it[ft]!=0?yt(ge,$e,Ze):(Fe=we,Ie(Z,J,ne,$e,Ze,ke,Fe,ft),At(Z,ke,He[$e],mt[$e],$e,Ze))}it[0]+it[1]==0&&Z.mode==MPEGMode.JOINT_STEREO&&ur(He,mt,ge.mld_cb_s,ge.ATH.cb_s,Z.ATHlower*ge.ATH.adjust,Z.msfix,ge.npart_s);for(var $e=0;$e<It;++$e){var ft=$e&1;it[ft]==0&&Ce(ge,He[$e],mt[$e],$e,Ze)}}for(var $e=0;$e<It;$e++){var ft=$e&1;if(it[ft]==0)for(var Ft=0;Ft<h.SBMAX_s;Ft++){for(var Ar=l(3),Ze=0;Ze<3;Ze++){var qt=ge.thm[$e].s[Ft][Ze];if(qt*=G,Re[$e][Ze]>=2||Re[$e][Ze+1]==1){var Mt=Ze!=0?Ze-1:2,jr=lt(ge.thm[$e].s[Ft][Mt],qt,U*ze);qt=Math.min(qt,jr)}else if(Re[$e][Ze]==1){var Mt=Ze!=0?Ze-1:2,jr=lt(ge.thm[$e].s[Ft][Mt],qt,$*ze);qt=Math.min(qt,jr)}else if(Ze!=0&&Re[$e][Ze-1]==3||Ze==0&&ge.nsPsy.lastAttacks[$e]==3){var Mt=Ze!=2?Ze+1:0,jr=lt(ge.thm[$e].s[Ft][Mt],qt,$*ze);qt=Math.min(qt,jr)}qt*=Ae[$e][Ze],Ar[Ze]=qt}for(var Ze=0;Ze<3;Ze++)ge.thm[$e].s[Ft][Ze]=Ar[Ze]}}}for(var $e=0;$e<It;$e++)ge.nsPsy.lastAttacks[$e]=Re[$e][2];Bt(Z,it,Se);for(var $e=0;$e<It;$e++){var Lr,Sr,nr,un;$e>1?(Lr=me,Sr=-2,nr=h.NORM_TYPE,(Se[0]==h.SHORT_TYPE||Se[1]==h.SHORT_TYPE)&&(nr=h.SHORT_TYPE),un=te[ae][$e-2]):(Lr=fe,Sr=0,nr=Se[$e],un=de[ae][$e]),nr==h.SHORT_TYPE?Lr[Sr+$e]=V(un,ge.masking_lower):Lr[Sr+$e]=Le(un,ge.masking_lower),Z.analysis&&(ge.pinfo.pe[ae][$e]=Lr[Sr+$e])}return 0};function rr(Z,J){var ne=Z,ae;return ne>=0?ae=-ne*27:ae=ne*J,ae<=-72?0:Math.exp(ae*re)}function mr(Z){var J=0,ne=0;{var ae=0,de,te;for(ae=0;rr(ae,Z)>1e-20;ae-=1);for(de=ae,te=0;Math.abs(te-de)>1e-12;)ae=(te+de)/2,rr(ae,Z)>0?te=ae:de=ae;J=de}{var ae=0,de,te;for(ae=0;rr(ae,Z)>1e-20;ae+=1);for(de=0,te=ae;Math.abs(te-de)>1e-12;)ae=(te+de)/2,rr(ae,Z)>0?de=ae:te=ae;ne=te}{var fe=0,me=1e3,ce;for(ce=0;ce<=me;++ce){var ae=J+ce*(ne-J)/me,Se=rr(ae,Z);fe+=Se}{var ge=(me+1)/(fe*(ne-J));return ge}}}function or(Z){var J,ne,ae,de;return J=Z,J>=0?J*=3:J*=1.5,J>=.5&&J<=2.5?(de=J-.5,ne=8*(de*de-2*de)):ne=0,J+=.474,ae=15.811389+7.5*J-17.5*Math.sqrt(1+J*J),ae<=-60?0:(J=Math.exp((ne+ae)*re),J/=.6609193,J)}function kr(Z){return Z<0&&(Z=0),Z=Z*.001,13*Math.atan(.76*Z)+3.5*Math.atan(Z*Z/(7.5*7.5))}function Kr(Z,J,ne,ae,de,te,fe,me,ce,Se,ge,Ee){var Fe=l(h.CBANDS+1),st=me/(Ee>15?2*576:384),ke=c(h.HBLKSIZE),Qe;me/=ce;var we=0,He=0;for(Qe=0;Qe<h.CBANDS;Qe++){var mt,Ae;for(mt=kr(me*we),Fe[Qe]=me*we,Ae=we;kr(me*Ae)-mt<y&&Ae<=ce/2;Ae++);for(Z[Qe]=Ae-we,He=Qe+1;we<Ae;)f(we<h.HBLKSIZE),ke[we++]=Qe;if(we>ce/2){we=ce/2,++Qe;break}}f(Qe<h.CBANDS),Fe[Qe]=me*we;for(var ze=0;ze<Ee;ze++){var Re,it,It,$e,ft;It=Se[ze],$e=Se[ze+1],Re=0|Math.floor(.5+ge*(It-.5)),Re<0&&(Re=0),it=0|Math.floor(.5+ge*($e-.5)),it>ce/2&&(it=ce/2),ne[ze]=(ke[Re]+ke[it])/2,J[ze]=ke[it];var Ze=st*$e;fe[ze]=(Ze-Fe[J[ze]])/(Fe[J[ze]+1]-Fe[J[ze]]),fe[ze]<0?fe[ze]=0:fe[ze]>1&&(fe[ze]=1),ft=kr(me*Se[ze]*ge),ft=Math.min(ft,15.5)/15.5,te[ze]=Math.pow(10,1.25*(1-Math.cos(Math.PI*ft))-2.5)}we=0;for(var Ft=0;Ft<He;Ft++){var Ar=Z[Ft],mt,qt;mt=kr(me*we),qt=kr(me*(we+Ar-1)),ae[Ft]=.5*(mt+qt),mt=kr(me*(we-.5)),qt=kr(me*(we+Ar-.5)),de[Ft]=qt-mt,we+=Ar}return He}function xr(Z,J,ne,ae,de,te){var fe=u([h.CBANDS,h.CBANDS]),me,ce=0;if(te)for(var Se=0;Se<J;Se++)for(me=0;me<J;me++){var ge=or(ne[Se]-ne[me])*ae[me];fe[Se][me]=ge*de[Se]}else for(me=0;me<J;me++)for(var Ee=15+Math.min(21/ne[me],12),Fe=mr(Ee),Se=0;Se<J;Se++){var ge=Fe*rr(ne[Se]-ne[me],Ee)*ae[me];fe[Se][me]=ge*de[Se]}for(var Se=0;Se<J;Se++){for(me=0;me<J&&!(fe[Se][me]>0);me++);for(Z[Se][0]=me,me=J-1;me>0&&!(fe[Se][me]>0);me--);Z[Se][1]=me,ce+=Z[Se][1]-Z[Se][0]+1}for(var st=l(ce),ke=0,Se=0;Se<J;Se++)for(me=Z[Se][0];me<=Z[Se][1];me++)st[ke++]=fe[Se][me];return st}function Nn(Z){var J=kr(Z);return J=Math.min(J,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*J))-2.5)}this.psymodel_init=function(Z){var J=Z.internal_flags,ne,ae=!0,de=13,te=24,fe=0,me=0,ce=-8.25,Se=-4.5,ge=l(h.CBANDS),Ee=l(h.CBANDS),Fe=l(h.CBANDS),st=Z.out_samplerate;switch(Z.experimentalZ){default:case 0:ae=!0;break;case 1:ae=!(Z.VBR==e.vbr_mtrh||Z.VBR==e.vbr_mt);break;case 2:ae=!1;break;case 3:de=8,fe=-1.75,me=-.0125,ce=-8.25,Se=-2.25;break}for(J.ms_ener_ratio_old=.25,J.blocktype_old[0]=J.blocktype_old[1]=h.NORM_TYPE,ne=0;ne<4;++ne){for(var we=0;we<h.CBANDS;++we)J.nb_1[ne][we]=1e20,J.nb_2[ne][we]=1e20,J.nb_s1[ne][we]=J.nb_s2[ne][we]=1;for(var ke=0;ke<h.SBMAX_l;ke++)J.en[ne].l[ke]=1e20,J.thm[ne].l[ke]=1e20;for(var we=0;we<3;++we){for(var ke=0;ke<h.SBMAX_s;ke++)J.en[ne].s[ke][we]=1e20,J.thm[ne].s[ke][we]=1e20;J.nsPsy.lastAttacks[ne]=0}for(var we=0;we<9;we++)J.nsPsy.last_en_subshort[ne][we]=10}for(J.loudness_sq_save[0]=J.loudness_sq_save[1]=0,J.npart_l=Kr(J.numlines_l,J.bo_l,J.bm_l,ge,Ee,J.mld_l,J.PSY.bo_l_weight,st,h.BLKSIZE,J.scalefac_band.l,h.BLKSIZE/(2*576),h.SBMAX_l),f(J.npart_l<h.CBANDS),ne=0;ne<J.npart_l;ne++){var Qe=fe;ge[ne]>=de&&(Qe=me*(ge[ne]-de)/(te-de)+fe*(te-ge[ne])/(te-de)),Fe[ne]=Math.pow(10,Qe/10),J.numlines_l[ne]>0?J.rnumlines_l[ne]=1/J.numlines_l[ne]:J.rnumlines_l[ne]=0}J.s3_ll=xr(J.s3ind,J.npart_l,ge,Ee,Fe,ae);var we=0;for(ne=0;ne<J.npart_l;ne++){var He;He=r.MAX_VALUE;for(var mt=0;mt<J.numlines_l[ne];mt++,we++){var Ae=st*we/(1e3*h.BLKSIZE),ze;ze=this.ATHformula(Ae*1e3,Z)-20,ze=Math.pow(10,.1*ze),ze*=J.numlines_l[ne],He>ze&&(He=ze)}J.ATH.cb_l[ne]=He,He=-20+ge[ne]*20/10,He>6&&(He=100),He<-15&&(He=-15),He-=8,J.minval_l[ne]=Math.pow(10,He/10)*J.numlines_l[ne]}for(J.npart_s=Kr(J.numlines_s,J.bo_s,J.bm_s,ge,Ee,J.mld_s,J.PSY.bo_s_weight,st,h.BLKSIZE_s,J.scalefac_band.s,h.BLKSIZE_s/384,h.SBMAX_s),f(J.npart_s<h.CBANDS),we=0,ne=0;ne<J.npart_s;ne++){var He,Qe=ce;ge[ne]>=de&&(Qe=Se*(ge[ne]-de)/(te-de)+ce*(te-ge[ne])/(te-de)),Fe[ne]=Math.pow(10,Qe/10),He=r.MAX_VALUE;for(var mt=0;mt<J.numlines_s[ne];mt++,we++){var Ae=st*we/(1e3*h.BLKSIZE_s),ze;ze=this.ATHformula(Ae*1e3,Z)-20,ze=Math.pow(10,.1*ze),ze*=J.numlines_s[ne],He>ze&&(He=ze)}J.ATH.cb_s[ne]=He,He=-7+ge[ne]*7/12,ge[ne]>12&&(He*=1+Math.log(1+He)*3.1),ge[ne]<12&&(He*=1+Math.log(1-He)*2.3),He<-15&&(He=-15),He-=8,J.minval_s[ne]=Math.pow(10,He/10)*J.numlines_s[ne]}J.s3_ss=xr(J.s3ind_s,J.npart_s,ge,Ee,Fe,ae),_(),w.init_fft(J),J.decay=Math.exp(-1*R/(L*st/192));{var Re;Re=ee,(Z.exp_nspsytune&2)!=0&&(Re=1),Math.abs(Z.msfix)>0&&(Re=Z.msfix),Z.msfix=Re;for(var it=0;it<J.npart_l;it++)J.s3ind[it][1]>J.npart_l-1&&(J.s3ind[it][1]=J.npart_l-1)}var It=576*J.mode_gr/st;if(J.ATH.decay=Math.pow(10,-12/10*It),J.ATH.adjust=.01,J.ATH.adjustLimit=1,f(J.bo_l[h.SBMAX_l-1]<=J.npart_l),f(J.bo_s[h.SBMAX_s-1]<=J.npart_s),Z.ATHtype!=-1){var Ae,$e=Z.out_samplerate/h.BLKSIZE,ft=0;for(Ae=0,ne=0;ne<h.BLKSIZE/2;++ne)Ae+=$e,J.ATH.eql_w[ne]=1/Math.pow(10,this.ATHformula(Ae,Z)/10),ft+=J.ATH.eql_w[ne];for(ft=1/ft,ne=h.BLKSIZE/2;--ne>=0;)J.ATH.eql_w[ne]*=ft}{for(var it=we=0;it<J.npart_s;++it)for(ne=0;ne<J.numlines_s[it];++ne)++we;f(we==129);for(var it=we=0;it<J.npart_l;++it)for(ne=0;ne<J.numlines_l[it];++ne)++we;f(we==513)}for(we=0,ne=0;ne<J.npart_l;ne++){var Ae=st*(we+J.numlines_l[ne]/2)/(1*h.BLKSIZE);J.mld_cb_l[ne]=Nn(Ae),we+=J.numlines_l[ne]}for(;ne<h.CBANDS;++ne)J.mld_cb_l[ne]=1;for(we=0,ne=0;ne<J.npart_s;ne++){var Ae=st*(we+J.numlines_s[ne]/2)/(1*h.BLKSIZE_s);J.mld_cb_s[ne]=Nn(Ae),we+=J.numlines_s[ne]}for(;ne<h.CBANDS;++ne)J.mld_cb_s[ne]=1;return 0};function ut(Z,J){Z<-.3&&(Z=3410),Z/=1e3,Z=Math.max(.1,Z);var ne=3.64*Math.pow(Z,-.8)-6.8*Math.exp(-.6*Math.pow(Z-3.4,2))+6*Math.exp(-.15*Math.pow(Z-8.7,2))+(.6+.04*J)*.001*Math.pow(Z,4);return ne}this.ATHformula=function(Z,J){var ne;switch(J.ATHtype){case 0:ne=ut(Z,9);break;case 1:ne=ut(Z,-1);break;case 2:ne=ut(Z,0);break;case 3:ne=ut(Z,1)+6;break;case 4:ne=ut(Z,J.ATHcurve);break;default:ne=ut(Z,0);break}return ne}}return D0=g,D0}var j0,nb;function V8(){if(nb)return j0;nb=1;function t(e){var r=e;this.ordinal=function(){return r}}return t.STEREO=new t(0),t.JOINT_STEREO=new t(1),t.DUAL_CHANNEL=new t(2),t.MONO=new t(3),t.NOT_SET=new t(4),j0=t,j0}var L0,sb;function W$(){if(sb)return L0;sb=1;var t=V8();function e(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=t.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}return L0=e,L0}var B0,ib;function Gd(){if(ib)return B0;ib=1;var t=zr(),e={};return e.SFBMAX=t.SBMAX_s*3,B0=e,B0}var F0,ob;function Y1(){if(ob)return F0;ob=1;var t=Xt();t.System,t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var e=t.new_float;t.new_float_n;var r=t.new_int;t.new_int_n,t.assert;var n=Gd();function s(){this.xr=e(576),this.l3_enc=r(576),this.scalefac=r(n.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=r(3),this.subblock_gain=r(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=r(n.SFBMAX),this.window=r(n.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=r(4),this.max_nonzero_coeff=0;var o=this;function l(c){return new Int32Array(c)}function u(c){return new Float32Array(c)}this.assign=function(c){o.xr=u(c.xr),o.l3_enc=l(c.l3_enc),o.scalefac=l(c.scalefac),o.xrpow_max=c.xrpow_max,o.part2_3_length=c.part2_3_length,o.big_values=c.big_values,o.count1=c.count1,o.global_gain=c.global_gain,o.scalefac_compress=c.scalefac_compress,o.block_type=c.block_type,o.mixed_block_flag=c.mixed_block_flag,o.table_select=l(c.table_select),o.subblock_gain=l(c.subblock_gain),o.region0_count=c.region0_count,o.region1_count=c.region1_count,o.preflag=c.preflag,o.scalefac_scale=c.scalefac_scale,o.count1table_select=c.count1table_select,o.part2_length=c.part2_length,o.sfb_lmax=c.sfb_lmax,o.sfb_smin=c.sfb_smin,o.psy_lmax=c.psy_lmax,o.sfbmax=c.sfbmax,o.psymax=c.psymax,o.sfbdivide=c.sfbdivide,o.width=l(c.width),o.window=l(c.window),o.count1bits=c.count1bits,o.sfb_partition_table=c.sfb_partition_table.slice(0),o.slen=l(c.slen),o.max_nonzero_coeff=c.max_nonzero_coeff}}return F0=s,F0}var V0,ab;function q$(){if(ab)return V0;ab=1;var t=Xt();t.System,t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double,t.new_float,t.new_float_n;var e=t.new_int;t.new_int_n,t.assert;var r=Y1();function n(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[e(4),e(4)];for(var s=0;s<2;s++)for(var o=0;o<2;o++)this.tt[s][o]=new r}return V0=n,V0}var $0,lb;function $8(){if(lb)return $0;lb=1;var t=Xt(),e=t.System;t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double,t.new_float,t.new_float_n;var r=t.new_int;t.new_int_n,t.assert;var n=zr();function s(o,l,u,c){this.l=r(1+n.SBMAX_l),this.s=r(1+n.SBMAX_s),this.psfb21=r(1+n.PSFB21),this.psfb12=r(1+n.PSFB12);var f=this.l,p=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],e.arraycopy(this.arrL,0,f,0,Math.min(this.arrL.length,this.l.length)),e.arraycopy(this.arrS,0,p,0,Math.min(this.arrS.length,this.s.length)),e.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),e.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}return $0=s,$0}var U0,ub;function G$(){if(ub)return U0;ub=1;var t=Xt();t.System,t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var e=t.new_float,r=t.new_float_n,n=t.new_int;t.new_int_n,t.assert;var s=zr();function o(){this.last_en_subshort=r([4,9]),this.lastAttacks=n(4),this.pefirbuf=e(19),this.longfact=e(s.SBMAX_l),this.shortfact=e(s.SBMAX_s),this.attackthre=0,this.attackthre_s=0}return U0=o,U0}var H0,cb;function K$(){if(cb)return H0;cb=1;function t(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}return H0=t,H0}var z0,db;function Kd(){if(db)return z0;db=1;var t=Xt();t.System,t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n;var e=t.new_byte,r=t.new_double,n=t.new_float,s=t.new_float_n,o=t.new_int,l=t.new_int_n;t.assert;var u=q$(),c=$8(),f=G$(),p=K$(),h=F8(),g=zr(),w=Gd();R.MFSIZE=3*1152+g.ENCDELAY-g.MDCTDELAY,R.MAX_HEADER_BUF=256,R.MAX_BITS_PER_CHANNEL=4095,R.MAX_BITS_PER_GRANULE=7680,R.BPC=320;function R(){var b=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=s([2,R.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new u,this.ms_ratio=n(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=o(2),this.CurrentStep=o(2),this.masking_lower=0,this.bv_scf=o(576),this.pseudohalf=o(w.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*R.BPC+1),this.itime=r(2),this.sideinfo_len=0,this.sb_sample=s([2,2,18,g.SBLIMIT]),this.amp_filter=n(32);function S(){this.write_timing=0,this.ptr=0,this.buf=e(b)}this.header=new Array(R.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new c,this.minval_l=n(g.CBANDS),this.minval_s=n(g.CBANDS),this.nb_1=s([4,g.CBANDS]),this.nb_2=s([4,g.CBANDS]),this.nb_s1=s([4,g.CBANDS]),this.nb_s2=s([4,g.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=n(4),this.loudness_sq=s([2,2]),this.loudness_sq_save=n(2),this.mld_l=n(g.SBMAX_l),this.mld_s=n(g.SBMAX_s),this.bm_l=o(g.SBMAX_l),this.bo_l=o(g.SBMAX_l),this.bm_s=o(g.SBMAX_s),this.bo_s=o(g.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=l([g.CBANDS,2]),this.s3ind_s=l([g.CBANDS,2]),this.numlines_s=o(g.CBANDS),this.numlines_l=o(g.CBANDS),this.rnumlines_l=n(g.CBANDS),this.mld_cb_l=n(g.CBANDS),this.mld_cb_s=n(g.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=n(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=o(2),this.nsPsy=new f,this.VBR_seek_table=new p,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=l([16,5]),this.bitrate_blockType_Hist=l([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var E=0;E<this.en.length;E++)this.en[E]=new h;for(var E=0;E<this.thm.length;E++)this.thm[E]=new h;for(var E=0;E<this.header.length;E++)this.header[E]=new S}return z0=R,z0}var W0,fb;function Y$(){if(fb)return W0;fb=1;var t=Xt();t.System,t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var e=t.new_float;t.new_float_n,t.new_int,t.new_int_n,t.assert;var r=zr();function n(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=e(r.SBMAX_l),this.s=e(r.SBMAX_s),this.psfb21=e(r.PSFB21),this.psfb12=e(r.PSFB12),this.cb_l=e(r.CBANDS),this.cb_s=e(r.CBANDS),this.eql_w=e(r.BLKSIZE/2)}return W0=n,W0}var q0,hb;function U8(){if(hb)return q0;hb=1;var t=Xt(),e=t.System;t.VbrMode,t.Float,t.ShortBlock,t.Util;var r=t.Arrays;t.new_array_n,t.new_byte,t.new_double,t.new_float,t.new_float_n,t.new_int,t.new_int_n,t.assert,n.STEPS_per_dB=100,n.MAX_dB=120,n.GAIN_NOT_ENOUGH_SAMPLES=-24601,n.GAIN_ANALYSIS_ERROR=0,n.GAIN_ANALYSIS_OK=1,n.INIT_GAIN_ANALYSIS_ERROR=0,n.INIT_GAIN_ANALYSIS_OK=1,n.YULE_ORDER=10,n.MAX_ORDER=n.YULE_ORDER,n.MAX_SAMP_FREQ=48e3,n.RMS_WINDOW_TIME_NUMERATOR=1,n.RMS_WINDOW_TIME_DENOMINATOR=20,n.MAX_SAMPLES_PER_WINDOW=n.MAX_SAMP_FREQ*n.RMS_WINDOW_TIME_NUMERATOR/n.RMS_WINDOW_TIME_DENOMINATOR+1;function n(){var s=64.82;n.YULE_ORDER;var o=.95;n.MAX_SAMP_FREQ;var l=n.RMS_WINDOW_TIME_NUMERATOR,u=n.RMS_WINDOW_TIME_DENOMINATOR;n.MAX_SAMPLES_PER_WINDOW;var c=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],f=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function p(b,S,E,P,y,j){for(;y--!=0;)E[P]=1e-10+b[S+0]*j[0]-E[P-1]*j[1]+b[S-1]*j[2]-E[P-2]*j[3]+b[S-2]*j[4]-E[P-3]*j[5]+b[S-3]*j[6]-E[P-4]*j[7]+b[S-4]*j[8]-E[P-5]*j[9]+b[S-5]*j[10]-E[P-6]*j[11]+b[S-6]*j[12]-E[P-7]*j[13]+b[S-7]*j[14]-E[P-8]*j[15]+b[S-8]*j[16]-E[P-9]*j[17]+b[S-9]*j[18]-E[P-10]*j[19]+b[S-10]*j[20],++P,++S}function h(b,S,E,P,y,j){for(;y--!=0;)E[P]=b[S+0]*j[0]-E[P-1]*j[1]+b[S-1]*j[2]-E[P-2]*j[3]+b[S-2]*j[4],++P,++S}function g(b,S){for(var E=0;E<MAX_ORDER;E++)b.linprebuf[E]=b.lstepbuf[E]=b.loutbuf[E]=b.rinprebuf[E]=b.rstepbuf[E]=b.routbuf[E]=0;switch(0|S){case 48e3:b.reqindex=0;break;case 44100:b.reqindex=1;break;case 32e3:b.reqindex=2;break;case 24e3:b.reqindex=3;break;case 22050:b.reqindex=4;break;case 16e3:b.reqindex=5;break;case 12e3:b.reqindex=6;break;case 11025:b.reqindex=7;break;case 8e3:b.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return b.sampleWindow=0|(S*l+u-1)/u,b.lsum=0,b.rsum=0,b.totsamp=0,r.ill(b.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(b,S){return g(b,S)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(b.linpre=MAX_ORDER,b.rinpre=MAX_ORDER,b.lstep=MAX_ORDER,b.rstep=MAX_ORDER,b.lout=MAX_ORDER,b.rout=MAX_ORDER,r.fill(b.B,0),INIT_GAIN_ANALYSIS_OK)};function w(b){return b*b}this.AnalyzeSamples=function(b,S,E,P,y,j,L){var G,U,$,ee,ie,re,z;if(j==0)return GAIN_ANALYSIS_OK;switch(z=0,ie=j,L){case 1:P=S,y=E;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(j<MAX_ORDER?(e.arraycopy(S,E,b.linprebuf,MAX_ORDER,j),e.arraycopy(P,y,b.rinprebuf,MAX_ORDER,j)):(e.arraycopy(S,E,b.linprebuf,MAX_ORDER,MAX_ORDER),e.arraycopy(P,y,b.rinprebuf,MAX_ORDER,MAX_ORDER));ie>0;){re=ie>b.sampleWindow-b.totsamp?b.sampleWindow-b.totsamp:ie,z<MAX_ORDER?(G=b.linpre+z,U=b.linprebuf,$=b.rinpre+z,ee=b.rinprebuf,re>MAX_ORDER-z&&(re=MAX_ORDER-z)):(G=E+z,U=S,$=y+z,ee=P),p(U,G,b.lstepbuf,b.lstep+b.totsamp,re,c[b.reqindex]),p(ee,$,b.rstepbuf,b.rstep+b.totsamp,re,c[b.reqindex]),h(b.lstepbuf,b.lstep+b.totsamp,b.loutbuf,b.lout+b.totsamp,re,f[b.reqindex]),h(b.rstepbuf,b.rstep+b.totsamp,b.routbuf,b.rout+b.totsamp,re,f[b.reqindex]),G=b.lout+b.totsamp,U=b.loutbuf,$=b.rout+b.totsamp,ee=b.routbuf;for(var ve=re%8;ve--!=0;)b.lsum+=w(U[G++]),b.rsum+=w(ee[$++]);for(ve=re/8;ve--!=0;)b.lsum+=w(U[G+0])+w(U[G+1])+w(U[G+2])+w(U[G+3])+w(U[G+4])+w(U[G+5])+w(U[G+6])+w(U[G+7]),G+=8,b.rsum+=w(ee[$+0])+w(ee[$+1])+w(ee[$+2])+w(ee[$+3])+w(ee[$+4])+w(ee[$+5])+w(ee[$+6])+w(ee[$+7]),$+=8;if(ie-=re,z+=re,b.totsamp+=re,b.totsamp==b.sampleWindow){var K=n.STEPS_per_dB*10*Math.log10((b.lsum+b.rsum)/b.totsamp*.5+1e-37),B=K<=0?0:0|K;B>=b.A.length&&(B=b.A.length-1),b.A[B]++,b.lsum=b.rsum=0,e.arraycopy(b.loutbuf,b.totsamp,b.loutbuf,0,MAX_ORDER),e.arraycopy(b.routbuf,b.totsamp,b.routbuf,0,MAX_ORDER),e.arraycopy(b.lstepbuf,b.totsamp,b.lstepbuf,0,MAX_ORDER),e.arraycopy(b.rstepbuf,b.totsamp,b.rstepbuf,0,MAX_ORDER),b.totsamp=0}if(b.totsamp>b.sampleWindow)return GAIN_ANALYSIS_ERROR}return j<MAX_ORDER?(e.arraycopy(b.linprebuf,j,b.linprebuf,0,MAX_ORDER-j),e.arraycopy(b.rinprebuf,j,b.rinprebuf,0,MAX_ORDER-j),e.arraycopy(S,E,b.linprebuf,MAX_ORDER-j,j),e.arraycopy(P,y,b.rinprebuf,MAX_ORDER-j,j)):(e.arraycopy(S,E+j-MAX_ORDER,b.linprebuf,0,MAX_ORDER),e.arraycopy(P,y+j-MAX_ORDER,b.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function R(b,S){var E,P=0;for(E=0;E<S;E++)P+=b[E];if(P==0)return GAIN_NOT_ENOUGH_SAMPLES;var y=0|Math.ceil(P*(1-o));for(E=S;E-- >0&&!((y-=b[E])<=0););return s-E/n.STEPS_per_dB}this.GetTitleGain=function(b){for(var S=R(b.A,b.A.length),E=0;E<b.A.length;E++)b.B[E]+=b.A[E],b.A[E]=0;for(var E=0;E<MAX_ORDER;E++)b.linprebuf[E]=b.lstepbuf[E]=b.loutbuf[E]=b.rinprebuf[E]=b.rstepbuf[E]=b.routbuf[E]=0;return b.totsamp=0,b.lsum=b.rsum=0,S}}return q0=n,q0}var G0,pb;function X$(){if(pb)return G0;pb=1;var t=Xt();t.System,t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var e=t.new_float;t.new_float_n;var r=t.new_int;t.new_int_n,t.assert;var n=U8();function s(){this.linprebuf=e(n.MAX_ORDER*2),this.linpre=0,this.lstepbuf=e(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.lstep=0,this.loutbuf=e(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.lout=0,this.rinprebuf=e(n.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=e(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.rstep=0,this.routbuf=e(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=r(0|n.STEPS_per_dB*n.MAX_dB),this.B=r(0|n.STEPS_per_dB*n.MAX_dB)}return G0=s,G0}var K0,mb;function H8(){if(mb)return K0;mb=1;function t(e){this.bits=e}return K0=t,K0}var Y0,gb;function Q$(){if(gb)return Y0;gb=1;var t=Xt();t.System,t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var e=t.new_float;t.new_float_n;var r=t.new_int;t.new_int_n;var n=t.assert,s=H8(),o=zr(),l=Gd(),u=Kd();function c(f){var p=f;this.quantize=p,this.iteration_loop=function(h,g,w,R){var b=h.internal_flags,S=e(l.SFBMAX),E=e(576),P=r(2),y=0,j,L=b.l3_side,G=new s(y);this.quantize.rv.ResvFrameBegin(h,G),y=G.bits;for(var U=0;U<b.mode_gr;U++){j=this.quantize.qupvt.on_pe(h,g,P,y,U,U),b.mode_ext==o.MPG_MD_MS_LR&&(this.quantize.ms_convert(b.l3_side,U),this.quantize.qupvt.reduce_side(P,w[U],y,j));for(var $=0;$<b.channels_out;$++){var ee,ie,re=L.tt[U][$];re.block_type!=o.SHORT_TYPE?(ee=0,ie=b.PSY.mask_adjust-ee):(ee=0,ie=b.PSY.mask_adjust_short-ee),b.masking_lower=Math.pow(10,ie*.1),this.quantize.init_outer_loop(b,re),this.quantize.init_xrpow(b,re,E)&&(this.quantize.qupvt.calc_xmin(h,R[U][$],re,S),this.quantize.outer_loop(h,re,S,E,$,P[$])),this.quantize.iteration_finish_one(b,U,$),n(re.part2_3_length<=u.MAX_BITS_PER_CHANNEL),n(re.part2_3_length<=P[$])}}this.quantize.rv.ResvFrameEnd(b,y)}}return Y0=c,Y0}var X0,vb;function X1(){if(vb)return X0;vb=1;function t(r,n,s,o){this.xlen=r,this.linmax=n,this.table=s,this.hlen=o}var e={};return e.t1HB=[1,1,1,0],e.t2HB=[1,2,1,3,1,1,3,2,0],e.t3HB=[3,2,1,1,1,1,3,2,0],e.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],e.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],e.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],e.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],e.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],e.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],e.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],e.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],e.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],e.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],e.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],e.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],e.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],e.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],e.t1l=[1,4,3,5],e.t2l=[1,4,7,4,5,7,6,7,8],e.t3l=[2,3,7,4,4,7,6,7,8],e.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],e.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],e.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],e.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],e.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],e.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],e.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],e.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],e.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],e.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],e.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],e.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],e.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],e.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],e.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],e.ht=[new t(0,0,null,null),new t(2,0,e.t1HB,e.t1l),new t(3,0,e.t2HB,e.t2l),new t(3,0,e.t3HB,e.t3l),new t(0,0,null,null),new t(4,0,e.t5HB,e.t5l),new t(4,0,e.t6HB,e.t6l),new t(6,0,e.t7HB,e.t7l),new t(6,0,e.t8HB,e.t8l),new t(6,0,e.t9HB,e.t9l),new t(8,0,e.t10HB,e.t10l),new t(8,0,e.t11HB,e.t11l),new t(8,0,e.t12HB,e.t12l),new t(16,0,e.t13HB,e.t13l),new t(0,0,null,e.t16_5l),new t(16,0,e.t15HB,e.t15l),new t(1,1,e.t16HB,e.t16l),new t(2,3,e.t16HB,e.t16l),new t(3,7,e.t16HB,e.t16l),new t(4,15,e.t16HB,e.t16l),new t(6,63,e.t16HB,e.t16l),new t(8,255,e.t16HB,e.t16l),new t(10,1023,e.t16HB,e.t16l),new t(13,8191,e.t16HB,e.t16l),new t(4,15,e.t24HB,e.t24l),new t(5,31,e.t24HB,e.t24l),new t(6,63,e.t24HB,e.t24l),new t(7,127,e.t24HB,e.t24l),new t(8,255,e.t24HB,e.t24l),new t(9,511,e.t24HB,e.t24l),new t(11,2047,e.t24HB,e.t24l),new t(13,8191,e.t24HB,e.t24l),new t(0,0,e.t32HB,e.t32l),new t(0,0,e.t33HB,e.t33l)],e.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],e.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],e.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],e.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],e.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],e.scfsi_band=[0,6,11,16,21],X0=e,X0}var Q0,yb;function z8(){if(yb)return Q0;yb=1;var t=$8(),e=Xt();e.System;var r=e.VbrMode,n=e.Float;e.ShortBlock;var s=e.Util;e.Arrays,e.new_array_n,e.new_byte,e.new_double;var o=e.new_float;e.new_float_n;var l=e.new_int;e.new_int_n;var u=e.assert,c=zr(),f=H8(),p=Kd();h.Q_MAX=257,h.Q_MAX2=116,h.LARGE_BITS=1e5,h.IXMAX_VAL=8206;function h(){var g=null,w=null,R=null;this.setModules=function(K,B,k){g=K,w=B,R=k};function b(K){return u(0<=K+h.Q_MAX2&&K<h.Q_MAX),U[K+h.Q_MAX2]}this.IPOW20=function(K){return u(0<=K&&K<h.Q_MAX),$[K]};var S=2220446049250313e-31,E=h.IXMAX_VAL,P=E+2,y=h.Q_MAX,j=h.Q_MAX2;h.LARGE_BITS;var L=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var G=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=G,this.sfBandIndex=[new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var U=o(y+j+1),$=o(y),ee=o(P),ie=o(P);this.adj43=ie;function re(K,B){var k=R.ATHformula(B,K);return k-=L,k=Math.pow(10,k/10+K.ATHlower),k}function z(K){for(var B=K.internal_flags.ATH.l,k=K.internal_flags.ATH.psfb21,I=K.internal_flags.ATH.s,M=K.internal_flags.ATH.psfb12,H=K.internal_flags,D=K.out_samplerate,v=0;v<c.SBMAX_l;v++){var _=H.scalefac_band.l[v],x=H.scalefac_band.l[v+1];B[v]=n.MAX_VALUE;for(var O=_;O<x;O++){var F=O*D/1152,Q=re(K,F);B[v]=Math.min(B[v],Q)}}for(var v=0;v<c.PSFB21;v++){var _=H.scalefac_band.psfb21[v],x=H.scalefac_band.psfb21[v+1];k[v]=n.MAX_VALUE;for(var O=_;O<x;O++){var F=O*D/1152,Q=re(K,F);k[v]=Math.min(k[v],Q)}}for(var v=0;v<c.SBMAX_s;v++){var _=H.scalefac_band.s[v],x=H.scalefac_band.s[v+1];I[v]=n.MAX_VALUE;for(var O=_;O<x;O++){var F=O*D/384,Q=re(K,F);I[v]=Math.min(I[v],Q)}I[v]*=H.scalefac_band.s[v+1]-H.scalefac_band.s[v]}for(var v=0;v<c.PSFB12;v++){var _=H.scalefac_band.psfb12[v],x=H.scalefac_band.psfb12[v+1];M[v]=n.MAX_VALUE;for(var O=_;O<x;O++){var F=O*D/384,Q=re(K,F);M[v]=Math.min(M[v],Q)}M[v]*=H.scalefac_band.s[13]-H.scalefac_band.s[12]}if(K.noATH){for(var v=0;v<c.SBMAX_l;v++)B[v]=1e-20;for(var v=0;v<c.PSFB21;v++)k[v]=1e-20;for(var v=0;v<c.SBMAX_s;v++)I[v]=1e-20;for(var v=0;v<c.PSFB12;v++)M[v]=1e-20}H.ATH.floor=10*Math.log10(re(K,-1))}this.iteration_init=function(K){var B=K.internal_flags,k=B.l3_side,I;if(B.iteration_init_init==0){for(B.iteration_init_init=1,k.main_data_begin=0,z(K),ee[0]=0,I=1;I<P;I++)ee[I]=Math.pow(I,4/3);for(I=0;I<P-1;I++)ie[I]=I+1-Math.pow(.5*(ee[I]+ee[I+1]),.75);for(ie[I]=.5,I=0;I<y;I++)$[I]=Math.pow(2,(I-210)*-.1875);for(I=0;I<=y+j;I++)U[I]=Math.pow(2,(I-210-j)*.25);g.huffman_init(B);{var M,H,D,v;for(I=K.exp_nspsytune>>2&63,I>=32&&(I-=64),M=Math.pow(10,I/4/10),I=K.exp_nspsytune>>8&63,I>=32&&(I-=64),H=Math.pow(10,I/4/10),I=K.exp_nspsytune>>14&63,I>=32&&(I-=64),D=Math.pow(10,I/4/10),I=K.exp_nspsytune>>20&63,I>=32&&(I-=64),v=D*Math.pow(10,I/4/10),I=0;I<c.SBMAX_l;I++){var _;I<=6?_=M:I<=13?_=H:I<=20?_=D:_=v,B.nsPsy.longfact[I]=_}for(I=0;I<c.SBMAX_s;I++){var _;I<=5?_=M:I<=10?_=H:I<=11?_=D:_=v,B.nsPsy.shortfact[I]=_}}}},this.on_pe=function(K,B,k,I,M,H){var D=K.internal_flags,v=0,_,x=l(2),O,F=new f(v),Q=w.ResvMaxBits(K,I,F,H);v=F.bits;var X=v+Q;for(X>p.MAX_BITS_PER_GRANULE&&(X=p.MAX_BITS_PER_GRANULE),_=0,O=0;O<D.channels_out;++O)k[O]=Math.min(p.MAX_BITS_PER_CHANNEL,v/D.channels_out),x[O]=0|k[O]*B[M][O]/700-k[O],x[O]>I*3/4&&(x[O]=I*3/4),x[O]<0&&(x[O]=0),x[O]+k[O]>p.MAX_BITS_PER_CHANNEL&&(x[O]=Math.max(0,p.MAX_BITS_PER_CHANNEL-k[O])),_+=x[O];if(_>Q)for(O=0;O<D.channels_out;++O)x[O]=Q*x[O]/_;for(O=0;O<D.channels_out;++O)k[O]+=x[O],Q-=x[O];for(_=0,O=0;O<D.channels_out;++O)_+=k[O];if(_>p.MAX_BITS_PER_GRANULE){var W=0;for(O=0;O<D.channels_out;++O)k[O]*=p.MAX_BITS_PER_GRANULE,k[O]/=_,W+=k[O];u(W<=p.MAX_BITS_PER_GRANULE)}return X},this.reduce_side=function(K,B,k,I){u(I<=p.MAX_BITS_PER_GRANULE),u(K[0]+K[1]<=p.MAX_BITS_PER_GRANULE);var M=.33*(.5-B)/.5;M<0&&(M=0),M>.5&&(M=.5);var H=0|M*.5*(K[0]+K[1]);H>p.MAX_BITS_PER_CHANNEL-K[0]&&(H=p.MAX_BITS_PER_CHANNEL-K[0]),H<0&&(H=0),K[1]>=125&&(K[1]-H>125?(K[0]<k&&(K[0]+=H),K[1]-=H):(K[0]+=K[1]-125,K[1]=125)),H=K[0]+K[1],H>I&&(K[0]=I*K[0]/H,K[1]=I*K[1]/H),u(K[0]<=p.MAX_BITS_PER_CHANNEL),u(K[1]<=p.MAX_BITS_PER_CHANNEL),u(K[0]+K[1]<=p.MAX_BITS_PER_GRANULE)},this.athAdjust=function(K,B,k){var I=90.30873362,M=94.82444863,H=s.FAST_LOG10_X(B,10),D=K*K,v=0;return H-=k,D>1e-20&&(v=1+s.FAST_LOG10_X(D,10/I)),v<0&&(v=0),H*=v,H+=k+I-M,Math.pow(10,.1*H)},this.calc_xmin=function(K,B,k,I){var M=0,H=K.internal_flags,D,v=0,_=0,x=H.ATH,O=k.xr,F=K.VBR==r.vbr_mtrh?1:0,Q=H.masking_lower;for((K.VBR==r.vbr_mtrh||K.VBR==r.vbr_mt)&&(Q=1),D=0;D<k.psy_lmax;D++){var X,W,se,le,be,Ce;K.VBR==r.vbr_rh||K.VBR==r.vbr_mtrh?W=athAdjust(x.adjust,x.l[D],x.floor):W=x.adjust*x.l[D],be=k.width[D],se=W/be,le=S,Ce=be>>1,X=0;do{var Te,je;Te=O[v]*O[v],X+=Te,le+=Te<se?Te:se,v++,je=O[v]*O[v],X+=je,le+=je<se?je:se,v++}while(--Ce>0);if(X>W&&_++,D==c.SBPSY_l){var Ue=W*H.nsPsy.longfact[D];le<Ue&&(le=Ue)}if(F!=0&&(W=le),!K.ATHonly){var lt=B.en.l[D];if(lt>0){var Ue;Ue=X*B.thm.l[D]*Q/lt,F!=0&&(Ue*=H.nsPsy.longfact[D]),W<Ue&&(W=Ue)}}F!=0?I[M++]=W:I[M++]=W*H.nsPsy.longfact[D]}var Et=575;if(k.block_type!=c.SHORT_TYPE)for(var V=576;V--!=0&&BitStream.EQ(O[V],0);)Et=V;k.max_nonzero_coeff=Et;for(var Y=k.sfb_smin;D<k.psymax;Y++,D+=3){var be,Le,Be;for(K.VBR==r.vbr_rh||K.VBR==r.vbr_mtrh?Be=athAdjust(x.adjust,x.s[Y],x.floor):Be=x.adjust*x.s[Y],be=k.width[D],Le=0;Le<3;Le++){var X=0,W,se,le,Ce=be>>1;se=Be/be,le=S;do{var Te,je;Te=O[v]*O[v],X+=Te,le+=Te<se?Te:se,v++,je=O[v]*O[v],X+=je,le+=je<se?je:se,v++}while(--Ce>0);if(X>Be&&_++,Y==c.SBPSY_s){var Ue=Be*H.nsPsy.shortfact[Y];le<Ue&&(le=Ue)}if(F!=0?W=le:W=Be,!K.ATHonly&&!K.ATHshort){var lt=B.en.s[Y][Le];if(lt>0){var Ue;Ue=X*B.thm.s[Y][Le]*Q/lt,F!=0&&(Ue*=H.nsPsy.shortfact[Y]),W<Ue&&(W=Ue)}}F!=0?I[M++]=W:I[M++]=W*H.nsPsy.shortfact[Y]}K.useTemporal&&(I[M-3]>I[M-3+1]&&(I[M-3+1]+=(I[M-3]-I[M-3+1])*H.decay),I[M-3+1]>I[M-3+2]&&(I[M-3+2]+=(I[M-3+1]-I[M-3+2])*H.decay))}return _};function ve(K){this.s=K}this.calc_noise_core=function(K,B,k,I){var M=0,H=B.s,D=K.l3_enc;if(H>K.count1)for(;k--!=0;){var v;v=K.xr[H],H++,M+=v*v,v=K.xr[H],H++,M+=v*v}else if(H>K.big_values){var _=o(2);for(_[0]=0,_[1]=I;k--!=0;){var v;v=Math.abs(K.xr[H])-_[D[H]],H++,M+=v*v,v=Math.abs(K.xr[H])-_[D[H]],H++,M+=v*v}}else for(;k--!=0;){var v;v=Math.abs(K.xr[H])-ee[D[H]]*I,H++,M+=v*v,v=Math.abs(K.xr[H])-ee[D[H]]*I,H++,M+=v*v}return B.s=H,M},this.calc_noise=function(K,B,k,I,M){var H=0,D=0,v,_,x=0,O=0,F=0,Q=-20,X=0,W=K.scalefac,se=0;for(I.over_SSD=0,v=0;v<K.psymax;v++){var le=K.global_gain-(W[se++]+(K.preflag!=0?G[v]:0)<<K.scalefac_scale+1)-K.subblock_gain[K.window[v]]*8,be=0;if(M!=null&&M.step[v]==le)be=M.noise[v],X+=K.width[v],k[H++]=be/B[D++],be=M.noise_log[v];else{var Ce=b(le);if(_=K.width[v]>>1,X+K.width[v]>K.max_nonzero_coeff){var Te;Te=K.max_nonzero_coeff-X+1,Te>0?_=Te>>1:_=0}var je=new ve(X);be=this.calc_noise_core(K,je,_,Ce),X=je.s,M!=null&&(M.step[v]=le,M.noise[v]=be),be=k[H++]=be/B[D++],be=s.FAST_LOG10(Math.max(be,1e-20)),M!=null&&(M.noise_log[v]=be)}if(M!=null&&(M.global_gain=K.global_gain),F+=be,be>0){var Ue;Ue=Math.max(0|be*10+.5,1),I.over_SSD+=Ue*Ue,x++,O+=be}Q=Math.max(Q,be)}return I.over_count=x,I.tot_noise=F,I.over_noise=O,I.max_noise=Q,x},this.set_pinfo=function(K,B,k,I,M){var H=K.internal_flags,D,v,_,x,O,F=B.scalefac_scale==0?.5:1,Q=B.scalefac,X=o(L3Side.SFBMAX),W=o(L3Side.SFBMAX),se=new CalcNoiseResult;calc_xmin(K,k,B,X),calc_noise(B,X,W,se,null);var le=0;for(v=B.sfb_lmax,B.block_type!=c.SHORT_TYPE&&B.mixed_block_flag==0&&(v=22),D=0;D<v;D++){var be=H.scalefac_band.l[D],Ce=H.scalefac_band.l[D+1],Te=Ce-be;for(x=0;le<Ce;le++)x+=B.xr[le]*B.xr[le];x/=Te,O=1e15,H.pinfo.en[I][M][D]=O*x,H.pinfo.xfsf[I][M][D]=O*X[D]*W[D]/Te,k.en.l[D]>0&&!K.ATHonly?x=x/k.en.l[D]:x=0,H.pinfo.thr[I][M][D]=O*Math.max(x*k.thm.l[D],H.ATH.l[D]),H.pinfo.LAMEsfb[I][M][D]=0,B.preflag!=0&&D>=11&&(H.pinfo.LAMEsfb[I][M][D]=-F*G[D]),D<c.SBPSY_l&&(u(Q[D]>=0),H.pinfo.LAMEsfb[I][M][D]-=F*Q[D])}if(B.block_type==c.SHORT_TYPE)for(v=D,D=B.sfb_smin;D<c.SBMAX_s;D++)for(var be=H.scalefac_band.s[D],Ce=H.scalefac_band.s[D+1],Te=Ce-be,je=0;je<3;je++){for(x=0,_=be;_<Ce;_++)x+=B.xr[le]*B.xr[le],le++;x=Math.max(x/Te,1e-20),O=1e15,H.pinfo.en_s[I][M][3*D+je]=O*x,H.pinfo.xfsf_s[I][M][3*D+je]=O*X[v]*W[v]/Te,k.en.s[D][je]>0?x=x/k.en.s[D][je]:x=0,(K.ATHonly||K.ATHshort)&&(x=0),H.pinfo.thr_s[I][M][3*D+je]=O*Math.max(x*k.thm.s[D][je],H.ATH.s[D]),H.pinfo.LAMEsfb_s[I][M][3*D+je]=-2*B.subblock_gain[je],D<c.SBPSY_s&&(H.pinfo.LAMEsfb_s[I][M][3*D+je]-=F*Q[v]),v++}H.pinfo.LAMEqss[I][M]=B.global_gain,H.pinfo.LAMEmainbits[I][M]=B.part2_3_length+B.part2_length,H.pinfo.LAMEsfbits[I][M]=B.part2_length,H.pinfo.over[I][M]=se.over_count,H.pinfo.max_noise[I][M]=se.max_noise*10,H.pinfo.over_noise[I][M]=se.over_noise*10,H.pinfo.tot_noise[I][M]=se.tot_noise*10,H.pinfo.over_SSD[I][M]=se.over_SSD}}return Q0=h,Q0}var Z0,_b;function W8(){if(_b)return Z0;_b=1;var t=Xt(),e=t.System;t.VbrMode,t.Float,t.ShortBlock,t.Util;var r=t.Arrays;t.new_array_n,t.new_byte,t.new_double,t.new_float,t.new_float_n;var n=t.new_int;t.new_int_n;var s=t.assert,o=zr(),l=X1(),u=Y1(),c=z8();function f(){var p=null;this.qupvt=null,this.setModules=function(D){this.qupvt=D,p=D};function h(D){this.bits=0|D}var g=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function w(D,v,_,x,O,F){var Q=.5946/v;for(s(D>0),D=D>>1;D--!=0;)O[F++]=Q>_[x++]?0:1,O[F++]=Q>_[x++]?0:1}function R(D,v,_,x,O,F){s(D>0),D=D>>1;var Q=D%2;for(D=D>>1;D--!=0;){var X,W,se,le,be,Ce,Te,je;X=_[x++]*v,W=_[x++]*v,be=0|X,se=_[x++]*v,Ce=0|W,le=_[x++]*v,Te=0|se,X+=p.adj43[be],je=0|le,W+=p.adj43[Ce],O[F++]=0|X,se+=p.adj43[Te],O[F++]=0|W,le+=p.adj43[je],O[F++]=0|se,O[F++]=0|le}if(Q!=0){var X,W,be,Ce;X=_[x++]*v,W=_[x++]*v,be=0|X,Ce=0|W,X+=p.adj43[be],W+=p.adj43[Ce],O[F++]=0|X,O[F++]=0|W}}function b(D,v,_,x,O){var F,Q,X=0,W,se=0,le=0,be=0,Ce=v,Te=0,je=Ce,Ue=0,lt=D,Et=0;for(W=O!=null&&x.global_gain==O.global_gain,x.block_type==o.SHORT_TYPE?Q=38:Q=21,F=0;F<=Q;F++){var V=-1;if((W||x.block_type==o.NORM_TYPE)&&(V=x.global_gain-(x.scalefac[F]+(x.preflag!=0?p.pretab[F]:0)<<x.scalefac_scale+1)-x.subblock_gain[x.window[F]]*8),s(x.width[F]>=0),W&&O.step[F]==V)se!=0&&(R(se,_,lt,Et,je,Ue),se=0),le!=0&&(w(le,_,lt,Et,je,Ue),le=0);else{var Y=x.width[F];if(X+x.width[F]>x.max_nonzero_coeff){var Le;Le=x.max_nonzero_coeff-X+1,r.fill(v,x.max_nonzero_coeff,576,0),Y=Le,Y<0&&(Y=0),F=Q+1}if(se==0&&le==0&&(je=Ce,Ue=Te,lt=D,Et=be),O!=null&&O.sfb_count1>0&&F>=O.sfb_count1&&O.step[F]>0&&V>=O.step[F]?(se!=0&&(R(se,_,lt,Et,je,Ue),se=0,je=Ce,Ue=Te,lt=D,Et=be),le+=Y):(le!=0&&(w(le,_,lt,Et,je,Ue),le=0,je=Ce,Ue=Te,lt=D,Et=be),se+=Y),Y<=0){le!=0&&(w(le,_,lt,Et,je,Ue),le=0),se!=0&&(R(se,_,lt,Et,je,Ue),se=0);break}}F<=Q&&(Te+=x.width[F],be+=x.width[F],X+=x.width[F])}se!=0&&(R(se,_,lt,Et,je,Ue),se=0),le!=0&&(w(le,_,lt,Et,je,Ue),le=0)}function S(D,v,_){var x=0,O=0;do{var F=D[v++],Q=D[v++];x<F&&(x=F),O<Q&&(O=Q)}while(v<_);return x<O&&(x=O),x}function E(D,v,_,x,O,F){var Q=l.ht[x].xlen*65536+l.ht[O].xlen,X=0,W;do{var se=D[v++],le=D[v++];se!=0&&(se>14&&(se=15,X+=Q),se*=16),le!=0&&(le>14&&(le=15,X+=Q),se+=le),X+=l.largetbl[se]}while(v<_);return W=X&65535,X>>=16,X>W&&(X=W,x=O),F.bits+=X,x}function P(D,v,_,x){var O=0,F=l.ht[1].hlen;do{var Q=D[v+0]*2+D[v+1];v+=2,O+=F[Q]}while(v<_);return x.bits+=O,1}function y(D,v,_,x,O){var F=0,Q,X=l.ht[x].xlen,W;x==2?W=l.table23:W=l.table56;do{var se=D[v+0]*X+D[v+1];v+=2,F+=W[se]}while(v<_);return Q=F&65535,F>>=16,F>Q&&(F=Q,x++),O.bits+=F,x}function j(D,v,_,x,O){var F=0,Q=0,X=0,W=l.ht[x].xlen,se=l.ht[x].hlen,le=l.ht[x+1].hlen,be=l.ht[x+2].hlen;do{var Ce=D[v+0]*W+D[v+1];v+=2,F+=se[Ce],Q+=le[Ce],X+=be[Ce]}while(v<_);var Te=x;return F>Q&&(F=Q,Te++),F>X&&(F=X,Te=x+2),O.bits+=F,Te}var L=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function G(D,v,_,x){var O=S(D,v,_);switch(O){case 0:return O;case 1:return P(D,v,_,x);case 2:case 3:return y(D,v,_,L[O-1],x);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return j(D,v,_,L[O-1],x);default:if(O>c.IXMAX_VAL)return x.bits=c.LARGE_BITS,-1;O-=15;var F;for(F=24;F<32&&!(l.ht[F].linmax>=O);F++);var Q;for(Q=F-8;Q<24&&!(l.ht[Q].linmax>=O);Q++);return E(D,v,_,Q,F,x)}}this.noquant_count_bits=function(D,v,_){var x=v.l3_enc,O=Math.min(576,v.max_nonzero_coeff+2>>1<<1);for(_!=null&&(_.sfb_count1=0);O>1&&(x[O-1]|x[O-2])==0;O-=2);v.count1=O;for(var F=0,Q=0;O>3;O-=4){var X;if(((x[O-1]|x[O-2]|x[O-3]|x[O-4])&2147483647)>1)break;X=((x[O-4]*2+x[O-3])*2+x[O-2])*2+x[O-1],F+=l.t32l[X],Q+=l.t33l[X]}var W=F;if(v.count1table_select=0,F>Q&&(W=Q,v.count1table_select=1),v.count1bits=W,v.big_values=O,O==0)return W;if(v.block_type==o.SHORT_TYPE)F=3*D.scalefac_band.s[3],F>v.big_values&&(F=v.big_values),Q=v.big_values;else if(v.block_type==o.NORM_TYPE){if(s(O<=576),F=v.region0_count=D.bv_scf[O-2],Q=v.region1_count=D.bv_scf[O-1],s(F+Q+2<o.SBPSY_l),Q=D.scalefac_band.l[F+Q+2],F=D.scalefac_band.l[F+1],Q<O){var se=new h(W);v.table_select[2]=G(x,Q,O,se),W=se.bits}}else v.region0_count=7,v.region1_count=o.SBMAX_l-1-7-1,F=D.scalefac_band.l[8],Q=O,F>Q&&(F=Q);if(F=Math.min(F,O),Q=Math.min(Q,O),s(F>=0),s(Q>=0),0<F){var se=new h(W);v.table_select[0]=G(x,0,F,se),W=se.bits}if(F<Q){var se=new h(W);v.table_select[1]=G(x,F,Q,se),W=se.bits}if(D.use_best_huffman==2&&(v.part2_3_length=W,best_huffman_divide(D,v),W=v.part2_3_length),_!=null&&v.block_type==o.NORM_TYPE){for(var le=0;D.scalefac_band.l[le]<v.big_values;)le++;_.sfb_count1=le}return W},this.count_bits=function(D,v,_,x){var O=_.l3_enc,F=c.IXMAX_VAL/p.IPOW20(_.global_gain);if(_.xrpow_max>F)return c.LARGE_BITS;if(b(v,O,p.IPOW20(_.global_gain),_,x),(D.substep_shaping&2)!=0)for(var Q=0,X=_.global_gain+_.scalefac_scale,W=.634521682242439/p.IPOW20(X),se=0;se<_.sfbmax;se++){var le=_.width[se];if(s(le>=0),D.pseudohalf[se]==0)Q+=le;else{var be;for(be=Q,Q+=le;be<Q;++be)O[be]=v[be]>=W?O[be]:0}}return this.noquant_count_bits(D,_,x)};function U(D,v,_,x,O,F,Q){for(var X=v.big_values,W=0;W<=22;W++)x[W]=c.LARGE_BITS;for(var W=0;W<16;W++){var se=D.scalefac_band.l[W+1];if(se>=X)break;var le=0,be=new h(le),Ce=G(_,0,se,be);le=be.bits;for(var Te=0;Te<8;Te++){var je=D.scalefac_band.l[W+Te+2];if(je>=X)break;var Ue=le;be=new h(Ue);var lt=G(_,se,je,be);Ue=be.bits,x[W+Te]>Ue&&(x[W+Te]=Ue,O[W+Te]=W,F[W+Te]=Ce,Q[W+Te]=lt)}}}function $(D,v,_,x,O,F,Q,X){for(var W=v.big_values,se=2;se<o.SBMAX_l+1;se++){var le=D.scalefac_band.l[se];if(le>=W)break;var be=O[se-2]+v.count1bits;if(_.part2_3_length<=be)break;var Ce=new h(be),Te=G(x,le,W,Ce);be=Ce.bits,!(_.part2_3_length<=be)&&(_.assign(v),_.part2_3_length=be,_.region0_count=F[se-2],_.region1_count=se-2-F[se-2],_.table_select[0]=Q[se-2],_.table_select[1]=X[se-2],_.table_select[2]=Te)}}this.best_huffman_divide=function(D,v){var _=new u,x=v.l3_enc,O=n(23),F=n(23),Q=n(23),X=n(23);if(!(v.block_type==o.SHORT_TYPE&&D.mode_gr==1)){_.assign(v),v.block_type==o.NORM_TYPE&&(U(D,v,x,O,F,Q,X),$(D,_,v,x,O,F,Q,X));var W=_.big_values;if(!(W==0||(x[W-2]|x[W-1])>1)&&(W=v.count1+2,!(W>576))){_.assign(v),_.count1=W;var se=0,le=0;for(s(W<=576);W>_.big_values;W-=4){var be=((x[W-4]*2+x[W-3])*2+x[W-2])*2+x[W-1];se+=l.t32l[be],le+=l.t33l[be]}if(_.big_values=W,_.count1table_select=0,se>le&&(se=le,_.count1table_select=1),_.count1bits=se,_.block_type==o.NORM_TYPE)$(D,_,v,x,O,F,Q,X);else{if(_.part2_3_length=se,se=D.scalefac_band.l[8],se>W&&(se=W),se>0){var Ce=new h(_.part2_3_length);_.table_select[0]=G(x,0,se,Ce),_.part2_3_length=Ce.bits}if(W>se){var Ce=new h(_.part2_3_length);_.table_select[1]=G(x,se,W,Ce),_.part2_3_length=Ce.bits}v.part2_3_length>_.part2_3_length&&v.assign(_)}}}};var ee=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],ie=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],re=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],z=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];f.slen1_tab=re,f.slen2_tab=z;function ve(D,v){for(var _,x=v.tt[1][D],O=v.tt[0][D],F=0;F<l.scfsi_band.length-1;F++){for(_=l.scfsi_band[F];_<l.scfsi_band[F+1]&&!(O.scalefac[_]!=x.scalefac[_]&&x.scalefac[_]>=0);_++);if(_==l.scfsi_band[F+1]){for(_=l.scfsi_band[F];_<l.scfsi_band[F+1];_++)x.scalefac[_]=-1;v.scfsi[D][F]=1}}var Q=0,X=0;for(_=0;_<11;_++)x.scalefac[_]!=-1&&(X++,Q<x.scalefac[_]&&(Q=x.scalefac[_]));for(var W=0,se=0;_<o.SBPSY_l;_++)x.scalefac[_]!=-1&&(se++,W<x.scalefac[_]&&(W=x.scalefac[_]));for(var F=0;F<16;F++)if(Q<ee[F]&&W<ie[F]){var le=re[F]*X+z[F]*se;x.part2_length>le&&(x.part2_length=le,x.scalefac_compress=F)}}this.best_scalefac_store=function(D,v,_,x){var O=x.tt[v][_],F,Q,X,W,se=0;for(X=0,F=0;F<O.sfbmax;F++){var le=O.width[F];for(s(le>=0),X+=le,W=-le;W<0&&O.l3_enc[W+X]==0;W++);W==0&&(O.scalefac[F]=se=-2)}if(O.scalefac_scale==0&&O.preflag==0){var be=0;for(F=0;F<O.sfbmax;F++)O.scalefac[F]>0&&(be|=O.scalefac[F]);if((be&1)==0&&be!=0){for(F=0;F<O.sfbmax;F++)O.scalefac[F]>0&&(O.scalefac[F]>>=1);O.scalefac_scale=se=1}}if(O.preflag==0&&O.block_type!=o.SHORT_TYPE&&D.mode_gr==2){for(F=11;F<o.SBPSY_l&&!(O.scalefac[F]<p.pretab[F]&&O.scalefac[F]!=-2);F++);if(F==o.SBPSY_l){for(F=11;F<o.SBPSY_l;F++)O.scalefac[F]>0&&(O.scalefac[F]-=p.pretab[F]);O.preflag=se=1}}for(Q=0;Q<4;Q++)x.scfsi[_][Q]=0;for(D.mode_gr==2&&v==1&&x.tt[0][_].block_type!=o.SHORT_TYPE&&x.tt[1][_].block_type!=o.SHORT_TYPE&&(ve(_,x),se=0),F=0;F<O.sfbmax;F++)O.scalefac[F]==-2&&(O.scalefac[F]=0);se!=0&&(D.mode_gr==2?this.scale_bitcount(O):this.scale_bitcount_lsf(D,O))};function K(D,v){for(var _=0;_<v;++_)if(D[_]<0)return!1;return!0}var B=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],k=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],I=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(D){var v,_,x=0,O=0,F,Q=D.scalefac;if(s(K(Q,D.sfbmax)),D.block_type==o.SHORT_TYPE)F=B,D.mixed_block_flag!=0&&(F=k);else if(F=I,D.preflag==0){for(_=11;_<o.SBPSY_l&&!(Q[_]<p.pretab[_]);_++);if(_==o.SBPSY_l)for(D.preflag=1,_=11;_<o.SBPSY_l;_++)Q[_]-=p.pretab[_]}for(_=0;_<D.sfbdivide;_++)x<Q[_]&&(x=Q[_]);for(;_<D.sfbmax;_++)O<Q[_]&&(O=Q[_]);for(D.part2_length=c.LARGE_BITS,v=0;v<16;v++)x<ee[v]&&O<ie[v]&&D.part2_length>F[v]&&(D.part2_length=F[v],D.scalefac_compress=v);return D.part2_length==c.LARGE_BITS};var M=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(D,v){var _,x,O,F,Q,X,W,se,le=n(4),be=v.scalefac;for(v.preflag!=0?_=2:_=0,W=0;W<4;W++)le[W]=0;if(v.block_type==o.SHORT_TYPE){x=1;var Ce=p.nr_of_sfb_block[_][x];for(se=0,O=0;O<4;O++)for(F=Ce[O]/3,W=0;W<F;W++,se++)for(Q=0;Q<3;Q++)be[se*3+Q]>le[O]&&(le[O]=be[se*3+Q])}else{x=0;var Ce=p.nr_of_sfb_block[_][x];for(se=0,O=0;O<4;O++)for(F=Ce[O],W=0;W<F;W++,se++)be[se]>le[O]&&(le[O]=be[se])}for(X=!1,O=0;O<4;O++)le[O]>M[_][O]&&(X=!0);if(!X){var Te,je,Ue,lt;for(v.sfb_partition_table=p.nr_of_sfb_block[_][x],O=0;O<4;O++)v.slen[O]=H[le[O]];switch(Te=v.slen[0],je=v.slen[1],Ue=v.slen[2],lt=v.slen[3],_){case 0:v.scalefac_compress=(Te*5+je<<4)+(Ue<<2)+lt;break;case 1:v.scalefac_compress=400+(Te*5+je<<2)+Ue;break;case 2:v.scalefac_compress=500+Te*3+je;break;default:e.err.printf(`intensity stereo not implemented yet
`);break}}if(!X)for(s(v.sfb_partition_table!=null),v.part2_length=0,O=0;O<4;O++)v.part2_length+=v.slen[O]*v.sfb_partition_table[O];return X};var H=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(D){for(var v=2;v<=576;v+=2){for(var _=0,x;D.scalefac_band.l[++_]<v;);for(x=g[_][0];D.scalefac_band.l[x+1]>v;)x--;for(x<0&&(x=g[_][0]),D.bv_scf[v-2]=x,x=g[_][1];D.scalefac_band.l[x+D.bv_scf[v-2]+2]>v;)x--;x<0&&(x=g[_][1]),D.bv_scf[v-1]=x}}}return Z0=f,Z0}var J0,wb;function q8(){if(wb)return J0;wb=1;var t=Xt(),e=t.System;t.VbrMode,t.Float,t.ShortBlock,t.Util;var r=t.Arrays;t.new_array_n;var n=t.new_byte;t.new_double,t.new_float;var s=t.new_float_n,o=t.new_int;t.new_int_n;var l=t.assert,u=W8(),c=X1(),f=zr(),p=Kd();h.EQ=function(g,w){return Math.abs(g)>Math.abs(w)?Math.abs(g-w)<=Math.abs(g)*1e-6:Math.abs(g-w)<=Math.abs(w)*1e-6},h.NEQ=function(g,w){return!h.EQ(g,w)};function h(){var g=this,w=32773,R=32,b=null,S=null,E=null,P=null;this.setModules=function(v,_,x,O){b=v,S=_,E=x,P=O};var y=null,j=0,L=0,G=0;this.getframebits=function(v){var _=v.internal_flags,x;_.bitrate_index!=0?x=c.bitrate_table[v.version][_.bitrate_index]:x=v.brate,l(8<=x&&x<=640);var O=0|(v.version+1)*72e3*x/v.out_samplerate+_.padding;return 8*O};function U(v){e.arraycopy(v.header[v.w_ptr].buf,0,y,L,v.sideinfo_len),L+=v.sideinfo_len,j+=v.sideinfo_len*8,v.w_ptr=v.w_ptr+1&p.MAX_HEADER_BUF-1}function $(v,_,x){for(l(x<R-2);x>0;){var O;G==0&&(G=8,L++,l(L<Lame.LAME_MAXMP3BUFFER),l(v.header[v.w_ptr].write_timing>=j),v.header[v.w_ptr].write_timing==j&&U(v),y[L]=0),O=Math.min(x,G),x-=O,G-=O,l(x<R),l(G<R),y[L]|=_>>x<<G,j+=O}}function ee(v,_,x){for(l(x<R-2);x>0;){var O;G==0&&(G=8,L++,l(L<Lame.LAME_MAXMP3BUFFER),y[L]=0),O=Math.min(x,G),x-=O,G-=O,l(x<R),l(G<R),y[L]|=_>>x<<G,j+=O}}function ie(v,_){var x=v.internal_flags,O;if(l(_>=0),_>=8&&($(x,76,8),_-=8),_>=8&&($(x,65,8),_-=8),_>=8&&($(x,77,8),_-=8),_>=8&&($(x,69,8),_-=8),_>=32){var F=E.getLameShortVersion();if(_>=32)for(O=0;O<F.length&&_>=8;++O)_-=8,$(x,F.charAt(O),8)}for(;_>=1;_-=1)$(x,x.ancillary_flag,1),x.ancillary_flag^=v.disable_reservoir?0:1;l(_==0)}function re(v,_,x){for(var O=v.header[v.h_ptr].ptr;x>0;){var F=Math.min(x,8-(O&7));x-=F,l(x<R),v.header[v.h_ptr].buf[O>>3]|=_>>x<<8-(O&7)-F,O+=F}v.header[v.h_ptr].ptr=O}function z(v,_){v<<=8;for(var x=0;x<8;x++)v<<=1,_<<=1,((_^v)&65536)!=0&&(_^=w);return _}this.CRC_writeheader=function(v,_){var x=65535;x=z(_[2]&255,x),x=z(_[3]&255,x);for(var O=6;O<v.sideinfo_len;O++)x=z(_[O]&255,x);_[4]=byte(x>>8),_[5]=byte(x&255)};function ve(v,_){var x=v.internal_flags,O,F,Q;if(O=x.l3_side,x.header[x.h_ptr].ptr=0,r.fill(x.header[x.h_ptr].buf,0,x.sideinfo_len,0),v.out_samplerate<16e3?re(x,4094,12):re(x,4095,12),re(x,v.version,1),re(x,1,2),re(x,v.error_protection?0:1,1),re(x,x.bitrate_index,4),re(x,x.samplerate_index,2),re(x,x.padding,1),re(x,v.extension,1),re(x,v.mode.ordinal(),2),re(x,x.mode_ext,2),re(x,v.copyright,1),re(x,v.original,1),re(x,v.emphasis,2),v.error_protection&&re(x,0,16),v.version==1){for(l(O.main_data_begin>=0),re(x,O.main_data_begin,9),x.channels_out==2?re(x,O.private_bits,3):re(x,O.private_bits,5),Q=0;Q<x.channels_out;Q++){var X;for(X=0;X<4;X++)re(x,O.scfsi[Q][X],1)}for(F=0;F<2;F++)for(Q=0;Q<x.channels_out;Q++){var W=O.tt[F][Q];re(x,W.part2_3_length+W.part2_length,12),re(x,W.big_values/2,9),re(x,W.global_gain,8),re(x,W.scalefac_compress,4),W.block_type!=f.NORM_TYPE?(re(x,1,1),re(x,W.block_type,2),re(x,W.mixed_block_flag,1),W.table_select[0]==14&&(W.table_select[0]=16),re(x,W.table_select[0],5),W.table_select[1]==14&&(W.table_select[1]=16),re(x,W.table_select[1],5),re(x,W.subblock_gain[0],3),re(x,W.subblock_gain[1],3),re(x,W.subblock_gain[2],3)):(re(x,0,1),W.table_select[0]==14&&(W.table_select[0]=16),re(x,W.table_select[0],5),W.table_select[1]==14&&(W.table_select[1]=16),re(x,W.table_select[1],5),W.table_select[2]==14&&(W.table_select[2]=16),re(x,W.table_select[2],5),l(0<=W.region0_count&&W.region0_count<16),l(0<=W.region1_count&&W.region1_count<8),re(x,W.region0_count,4),re(x,W.region1_count,3)),re(x,W.preflag,1),re(x,W.scalefac_scale,1),re(x,W.count1table_select,1)}}else for(l(O.main_data_begin>=0),re(x,O.main_data_begin,8),re(x,O.private_bits,x.channels_out),F=0,Q=0;Q<x.channels_out;Q++){var W=O.tt[F][Q];re(x,W.part2_3_length+W.part2_length,12),re(x,W.big_values/2,9),re(x,W.global_gain,8),re(x,W.scalefac_compress,9),W.block_type!=f.NORM_TYPE?(re(x,1,1),re(x,W.block_type,2),re(x,W.mixed_block_flag,1),W.table_select[0]==14&&(W.table_select[0]=16),re(x,W.table_select[0],5),W.table_select[1]==14&&(W.table_select[1]=16),re(x,W.table_select[1],5),re(x,W.subblock_gain[0],3),re(x,W.subblock_gain[1],3),re(x,W.subblock_gain[2],3)):(re(x,0,1),W.table_select[0]==14&&(W.table_select[0]=16),re(x,W.table_select[0],5),W.table_select[1]==14&&(W.table_select[1]=16),re(x,W.table_select[1],5),W.table_select[2]==14&&(W.table_select[2]=16),re(x,W.table_select[2],5),l(0<=W.region0_count&&W.region0_count<16),l(0<=W.region1_count&&W.region1_count<8),re(x,W.region0_count,4),re(x,W.region1_count,3)),re(x,W.scalefac_scale,1),re(x,W.count1table_select,1)}v.error_protection&&CRC_writeheader(x,x.header[x.h_ptr].buf);{var se=x.h_ptr;l(x.header[se].ptr==x.sideinfo_len*8),x.h_ptr=se+1&p.MAX_HEADER_BUF-1,x.header[x.h_ptr].write_timing=x.header[se].write_timing+_,x.h_ptr==x.w_ptr&&e.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function K(v,_){var x=c.ht[_.count1table_select+32],O,F=0,Q=_.big_values,X=_.big_values;for(l(_.count1table_select<2),O=(_.count1-_.big_values)/4;O>0;--O){var W=0,se=0,le;le=_.l3_enc[Q+0],le!=0&&(se+=8,_.xr[X+0]<0&&W++,l(le<=1)),le=_.l3_enc[Q+1],le!=0&&(se+=4,W*=2,_.xr[X+1]<0&&W++,l(le<=1)),le=_.l3_enc[Q+2],le!=0&&(se+=2,W*=2,_.xr[X+2]<0&&W++,l(le<=1)),le=_.l3_enc[Q+3],le!=0&&(se++,W*=2,_.xr[X+3]<0&&W++,l(le<=1)),Q+=4,X+=4,$(v,W+x.table[se],x.hlen[se]),F+=x.hlen[se]}return F}function B(v,_,x,O,F){var Q=c.ht[_],X=0;if(l(_<32),_==0)return X;for(var W=x;W<O;W+=2){var se=0,le=0,be=Q.xlen,Ce=Q.xlen,Te=0,je=F.l3_enc[W],Ue=F.l3_enc[W+1];if(je!=0&&(F.xr[W]<0&&Te++,se--),_>15){if(je>14){var lt=je-15;l(lt<=Q.linmax),Te|=lt<<1,le=be,je=15}if(Ue>14){var Et=Ue-15;l(Et<=Q.linmax),Te<<=be,Te|=Et,le+=be,Ue=15}Ce=16}Ue!=0&&(Te<<=1,F.xr[W+1]<0&&Te++,se--),l((je|Ue)<16),je=je*Ce+Ue,le-=se,se+=Q.hlen[je],l(se<=R),l(le<=R),$(v,Q.table[je],se),$(v,Te,le),X+=se+le}return X}function k(v,_){var x=3*v.scalefac_band.s[3];x>_.big_values&&(x=_.big_values);var O=B(v,_.table_select[0],0,x,_);return O+=B(v,_.table_select[1],x,_.big_values,_),O}function I(v,_){var x,O,F,Q;x=_.big_values,l(0<=x&&x<=576);var X=_.region0_count+1;return l(0<=X),l(X<v.scalefac_band.l.length),F=v.scalefac_band.l[X],X+=_.region1_count+1,l(0<=X),l(X<v.scalefac_band.l.length),Q=v.scalefac_band.l[X],F>x&&(F=x),Q>x&&(Q=x),O=B(v,_.table_select[0],0,F,_),O+=B(v,_.table_select[1],F,Q,_),O+=B(v,_.table_select[2],Q,x,_),O}function M(v){var _,x,O,F,Q=0,X=v.internal_flags,W=X.l3_side;if(v.version==1)for(_=0;_<2;_++)for(x=0;x<X.channels_out;x++){var se=W.tt[_][x],le=u.slen1_tab[se.scalefac_compress],be=u.slen2_tab[se.scalefac_compress];for(F=0,O=0;O<se.sfbdivide;O++)se.scalefac[O]!=-1&&($(X,se.scalefac[O],le),F+=le);for(;O<se.sfbmax;O++)se.scalefac[O]!=-1&&($(X,se.scalefac[O],be),F+=be);l(F==se.part2_length),se.block_type==f.SHORT_TYPE?F+=k(X,se):F+=I(X,se),F+=K(X,se),l(F==se.part2_3_length+se.part2_length),Q+=F}else for(_=0,x=0;x<X.channels_out;x++){var se=W.tt[_][x],Ce,Te,je=0;if(l(se.sfb_partition_table!=null),F=0,O=0,Te=0,se.block_type==f.SHORT_TYPE){for(;Te<4;Te++){var Ue=se.sfb_partition_table[Te]/3,lt=se.slen[Te];for(Ce=0;Ce<Ue;Ce++,O++)$(X,Math.max(se.scalefac[O*3+0],0),lt),$(X,Math.max(se.scalefac[O*3+1],0),lt),$(X,Math.max(se.scalefac[O*3+2],0),lt),je+=3*lt}F+=k(X,se)}else{for(;Te<4;Te++){var Ue=se.sfb_partition_table[Te],lt=se.slen[Te];for(Ce=0;Ce<Ue;Ce++,O++)$(X,Math.max(se.scalefac[O],0),lt),je+=lt}F+=I(X,se)}F+=K(X,se),l(F==se.part2_3_length),l(je==se.part2_length),Q+=je+F}return Q}function H(){this.total=0}function D(v,_){var x=v.internal_flags,O,F,Q,X,W;return W=x.w_ptr,X=x.h_ptr-1,X==-1&&(X=p.MAX_HEADER_BUF-1),O=x.header[X].write_timing-j,_.total=O,O>=0&&(F=1+X-W,X<W&&(F=1+X-W+p.MAX_HEADER_BUF),O-=F*8*x.sideinfo_len),Q=g.getframebits(v),O+=Q,_.total+=Q,_.total%8!=0?_.total=1+_.total/8:_.total=_.total/8,_.total+=L+1,O<0&&e.err.println(`strange error flushing buffer ... 
`),O}this.flush_bitstream=function(v){var _=v.internal_flags,x,O,F=_.h_ptr-1;if(F==-1&&(F=p.MAX_HEADER_BUF-1),x=_.l3_side,!((O=D(v,new H))<0)){if(ie(v,O),l(_.header[F].write_timing+this.getframebits(v)==j),_.ResvSize=0,x.main_data_begin=0,_.findReplayGain){var Q=b.GetTitleGain(_.rgdata);l(NEQ(Q,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),_.RadioGain=Math.floor(Q*10+.5)|0}_.findPeakSample&&(_.noclipGainChange=Math.ceil(Math.log10(_.PeakSample/32767)*20*10)|0,_.noclipGainChange>0&&(EQ(v.scale,1)||EQ(v.scale,0))?_.noclipScale=Math.floor(32767/_.PeakSample*100)/100:_.noclipScale=-1)}},this.add_dummy_byte=function(v,_,x){for(var O=v.internal_flags,F;x-- >0;)for(ee(O,_,8),F=0;F<p.MAX_HEADER_BUF;++F)O.header[F].write_timing+=8},this.format_bitstream=function(v){var _=v.internal_flags,x;x=_.l3_side;var O=this.getframebits(v);ie(v,x.resvDrain_pre),ve(v,O);var F=8*_.sideinfo_len;if(F+=M(v),ie(v,x.resvDrain_post),F+=x.resvDrain_post,x.main_data_begin+=(O-F)/8,D(v,new H)!=_.ResvSize&&e.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),x.main_data_begin*8!=_.ResvSize&&(e.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*x.main_data_begin,_.ResvSize,x.resvDrain_post,x.resvDrain_pre,8*_.sideinfo_len,F-x.resvDrain_post-8*_.sideinfo_len,F,F%8,O),e.err.println("This is a fatal error.  It has several possible causes:"),e.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),e.err.println(" 9%%  Your system is overclocked"),e.err.println(" 1%%  bug in LAME encoding library"),_.ResvSize=x.main_data_begin*8),l(j%8==0),j>1e9){var Q;for(Q=0;Q<p.MAX_HEADER_BUF;++Q)_.header[Q].write_timing-=j;j=0}return 0},this.copy_buffer=function(v,_,x,O,F){var Q=L+1;if(Q<=0)return 0;if(O!=0&&Q>O)return-1;if(e.arraycopy(y,0,_,x,Q),L=-1,G=0,F!=0){var X=o(1);if(X[0]=v.nMusicCRC,P.updateMusicCRC(X,_,x,Q),v.nMusicCRC=X[0],Q>0&&(v.VBR_seek_table.nBytesWritten+=Q),v.decode_on_the_fly){for(var W=s([2,1152]),se=Q,le=-1,be;le!=0;)if(le=S.hip_decode1_unclipped(v.hip,_,x,se,W[0],W[1]),se=0,le==-1&&(le=0),le>0){if(l(le<=1152),v.findPeakSample){for(be=0;be<le;be++)W[0][be]>v.PeakSample?v.PeakSample=W[0][be]:-W[0][be]>v.PeakSample&&(v.PeakSample=-W[0][be]);if(v.channels_out>1)for(be=0;be<le;be++)W[1][be]>v.PeakSample?v.PeakSample=W[1][be]:-W[1][be]>v.PeakSample&&(v.PeakSample=-W[1][be])}if(v.findReplayGain&&b.AnalyzeSamples(v.rgdata,W[0],0,W[1],0,le,v.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return Q},this.init_bit_stream_w=function(v){y=n(Lame.LAME_MAXMP3BUFFER),v.h_ptr=v.w_ptr=0,v.header[v.h_ptr].write_timing=0,L=-1,G=0,j=0}}return J0=h,J0}var ep,bb;function Z$(){if(bb)return ep;bb=1;var t=Xt(),e=t.System,r=t.VbrMode;t.Float;var n=t.ShortBlock;t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var s=t.new_float;t.new_float_n,t.new_int;var o=t.new_int_n,l=t.new_short_n,u=t.assert,c=z$(),f=W$(),p=Kd(),h=Y$(),g=X$(),w=Q$(),R=q8(),b=X1(),S=zr();function E(){var P=this,y=128*1024;E.V9=410,E.V8=420,E.V7=430,E.V6=440,E.V5=450,E.V4=460,E.V3=470,E.V2=480,E.V1=490,E.V0=500,E.R3MIX=1e3,E.STANDARD=1001,E.EXTREME=1002,E.INSANE=1003,E.STANDARD_FAST=1004,E.EXTREME_FAST=1005,E.MEDIUM=1006,E.MEDIUM_FAST=1007;var j=16384+y;E.LAME_MAXMP3BUFFER=j;var L,G,U,$,ee,ie=new c,re,z,ve;this.enc=new S,this.setModules=function(V,Y,Le,Be,We,Ge,he,Ie,nt){L=V,G=Y,U=Le,$=Be,ee=We,re=Ge,z=Ie,ve=nt,this.enc.setModules(G,ie,$,re)};function K(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=s(S.SBMAX_l),this.bo_s_weight=s(S.SBMAX_s)}function B(){this.lowerlimit=0}function k(V,Y){this.lowpass=Y}var I=4294479419;function M(V){var Y;return V.class_id=I,Y=V.internal_flags=new p,V.mode=MPEGMode.NOT_SET,V.original=1,V.in_samplerate=44100,V.num_channels=2,V.num_samples=-1,V.bWriteVbrTag=!0,V.quality=-1,V.short_blocks=null,Y.subblock_gain=-1,V.lowpassfreq=0,V.highpassfreq=0,V.lowpasswidth=-1,V.highpasswidth=-1,V.VBR=r.vbr_off,V.VBR_q=4,V.ATHcurve=-1,V.VBR_mean_bitrate_kbps=128,V.VBR_min_bitrate_kbps=0,V.VBR_max_bitrate_kbps=0,V.VBR_hard_min=0,Y.VBR_min_bitrate=1,Y.VBR_max_bitrate=13,V.quant_comp=-1,V.quant_comp_short=-1,V.msfix=-1,Y.resample_ratio=1,Y.OldValue[0]=180,Y.OldValue[1]=180,Y.CurrentStep[0]=4,Y.CurrentStep[1]=4,Y.masking_lower=1,Y.nsPsy.attackthre=-1,Y.nsPsy.attackthre_s=-1,V.scale=-1,V.athaa_type=-1,V.ATHtype=-1,V.athaa_loudapprox=-1,V.athaa_sensitivity=0,V.useTemporal=null,V.interChRatio=-1,Y.mf_samples_to_encode=S.ENCDELAY+S.POSTDELAY,V.encoder_padding=0,Y.mf_size=S.ENCDELAY-S.MDCTDELAY,V.findReplayGain=!1,V.decode_on_the_fly=!1,Y.decode_on_the_fly=!1,Y.findReplayGain=!1,Y.findPeakSample=!1,Y.RadioGain=0,Y.AudiophileGain=0,Y.noclipGainChange=0,Y.noclipScale=-1,V.preset=0,V.write_id3tag_automatic=!0,0}this.lame_init=function(){var V=new f;return M(V),V.lame_allocated_gfp=1,V};function H(V){return V>1?0:V<=0?1:Math.cos(Math.PI/2*V)}this.nearestBitrateFullIndex=function(V){var Y=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],Le=0,Be=0,We=0,Ge=0;Ge=Y[16],We=16,Be=Y[16],Le=16;for(var he=0;he<16;he++)if(Math.max(V,Y[he+1])!=V){Ge=Y[he+1],We=he+1,Be=Y[he],Le=he;break}return Ge-V>V-Be?Le:We};function D(V,Y){var Le=44100;return Y>=48e3?Le=48e3:Y>=44100?Le=44100:Y>=32e3?Le=32e3:Y>=24e3?Le=24e3:Y>=22050?Le=22050:Y>=16e3?Le=16e3:Y>=12e3?Le=12e3:Y>=11025?Le=11025:Y>=8e3&&(Le=8e3),V==-1?Le:(V<=15960&&(Le=44100),V<=15250&&(Le=32e3),V<=11220&&(Le=24e3),V<=9970&&(Le=22050),V<=7230&&(Le=16e3),V<=5420&&(Le=12e3),V<=4510&&(Le=11025),V<=3970&&(Le=8e3),Y<Le?Y>44100?48e3:Y>32e3?44100:Y>24e3?32e3:Y>22050?24e3:Y>16e3?22050:Y>12e3?16e3:Y>11025?12e3:Y>8e3?11025:8e3:Le)}function v(V,Y){switch(V){case 44100:return Y.version=1,0;case 48e3:return Y.version=1,1;case 32e3:return Y.version=1,2;case 22050:return Y.version=0,0;case 24e3:return Y.version=0,1;case 16e3:return Y.version=0,2;case 11025:return Y.version=0,0;case 12e3:return Y.version=0,1;case 8e3:return Y.version=0,2;default:return Y.version=0,-1}}function _(V,Y,Le){Le<16e3&&(Y=2);for(var Be=b.bitrate_table[Y][1],We=2;We<=14;We++)b.bitrate_table[Y][We]>0&&Math.abs(b.bitrate_table[Y][We]-V)<Math.abs(Be-V)&&(Be=b.bitrate_table[Y][We]);return Be}function x(V,Y,Le){Le<16e3&&(Y=2);for(var Be=0;Be<=14;Be++)if(b.bitrate_table[Y][Be]>0&&b.bitrate_table[Y][Be]==V)return Be;return-1}function O(V,Y){var Le=[new k(8,2e3),new k(16,3700),new k(24,3900),new k(32,5500),new k(40,7e3),new k(48,7500),new k(56,1e4),new k(64,11e3),new k(80,13500),new k(96,15100),new k(112,15600),new k(128,17e3),new k(160,17500),new k(192,18600),new k(224,19400),new k(256,19700),new k(320,20500)],Be=P.nearestBitrateFullIndex(Y);V.lowerlimit=Le[Be].lowpass}function F(V){var Y=V.internal_flags,Le=32,Be=-1;if(Y.lowpass1>0){for(var We=999,Ge=0;Ge<=31;Ge++){var he=Ge/31;he>=Y.lowpass2&&(Le=Math.min(Le,Ge)),Y.lowpass1<he&&he<Y.lowpass2&&(We=Math.min(We,Ge))}We==999?Y.lowpass1=(Le-.75)/31:Y.lowpass1=(We-.75)/31,Y.lowpass2=Le/31}if(Y.highpass2>0&&Y.highpass2<.9*(.75/31)&&(Y.highpass1=0,Y.highpass2=0,e.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),Y.highpass2>0){for(var Ie=-1,Ge=0;Ge<=31;Ge++){var he=Ge/31;he<=Y.highpass1&&(Be=Math.max(Be,Ge)),Y.highpass1<he&&he<Y.highpass2&&(Ie=Math.max(Ie,Ge))}Y.highpass1=Be/31,Ie==-1?Y.highpass2=(Be+.75)/31:Y.highpass2=(Ie+.75)/31}for(var Ge=0;Ge<32;Ge++){var nt,qe,he=Ge/31;Y.highpass2>Y.highpass1?nt=H((Y.highpass2-he)/(Y.highpass2-Y.highpass1+1e-20)):nt=1,Y.lowpass2>Y.lowpass1?qe=H((he-Y.lowpass1)/(Y.lowpass2-Y.lowpass1+1e-20)):qe=1,Y.amp_filter[Ge]=nt*qe}}function Q(V){var Y=V.internal_flags;switch(V.quality){default:case 9:Y.psymodel=0,Y.noise_shaping=0,Y.noise_shaping_amp=0,Y.noise_shaping_stop=0,Y.use_best_huffman=0,Y.full_outer_loop=0;break;case 8:V.quality=7;case 7:Y.psymodel=1,Y.noise_shaping=0,Y.noise_shaping_amp=0,Y.noise_shaping_stop=0,Y.use_best_huffman=0,Y.full_outer_loop=0;break;case 6:Y.psymodel=1,Y.noise_shaping==0&&(Y.noise_shaping=1),Y.noise_shaping_amp=0,Y.noise_shaping_stop=0,Y.subblock_gain==-1&&(Y.subblock_gain=1),Y.use_best_huffman=0,Y.full_outer_loop=0;break;case 5:Y.psymodel=1,Y.noise_shaping==0&&(Y.noise_shaping=1),Y.noise_shaping_amp=0,Y.noise_shaping_stop=0,Y.subblock_gain==-1&&(Y.subblock_gain=1),Y.use_best_huffman=0,Y.full_outer_loop=0;break;case 4:Y.psymodel=1,Y.noise_shaping==0&&(Y.noise_shaping=1),Y.noise_shaping_amp=0,Y.noise_shaping_stop=0,Y.subblock_gain==-1&&(Y.subblock_gain=1),Y.use_best_huffman=1,Y.full_outer_loop=0;break;case 3:Y.psymodel=1,Y.noise_shaping==0&&(Y.noise_shaping=1),Y.noise_shaping_amp=1,Y.noise_shaping_stop=1,Y.subblock_gain==-1&&(Y.subblock_gain=1),Y.use_best_huffman=1,Y.full_outer_loop=0;break;case 2:Y.psymodel=1,Y.noise_shaping==0&&(Y.noise_shaping=1),Y.substep_shaping==0&&(Y.substep_shaping=2),Y.noise_shaping_amp=1,Y.noise_shaping_stop=1,Y.subblock_gain==-1&&(Y.subblock_gain=1),Y.use_best_huffman=1,Y.full_outer_loop=0;break;case 1:Y.psymodel=1,Y.noise_shaping==0&&(Y.noise_shaping=1),Y.substep_shaping==0&&(Y.substep_shaping=2),Y.noise_shaping_amp=2,Y.noise_shaping_stop=1,Y.subblock_gain==-1&&(Y.subblock_gain=1),Y.use_best_huffman=1,Y.full_outer_loop=0;break;case 0:Y.psymodel=1,Y.noise_shaping==0&&(Y.noise_shaping=1),Y.substep_shaping==0&&(Y.substep_shaping=2),Y.noise_shaping_amp=2,Y.noise_shaping_stop=1,Y.subblock_gain==-1&&(Y.subblock_gain=1),Y.use_best_huffman=1,Y.full_outer_loop=0;break}}function X(V){var Y=V.internal_flags;V.frameNum=0,V.write_id3tag_automatic&&z.id3tag_write_v2(V),Y.bitrate_stereoMode_Hist=o([16,5]),Y.bitrate_blockType_Hist=o([16,6]),Y.PeakSample=0,V.bWriteVbrTag&&re.InitVbrTag(V)}this.lame_init_params=function(V){var Y=V.internal_flags;if(Y.Class_ID=0,Y.ATH==null&&(Y.ATH=new h),Y.PSY==null&&(Y.PSY=new K),Y.rgdata==null&&(Y.rgdata=new g),Y.channels_in=V.num_channels,Y.channels_in==1&&(V.mode=MPEGMode.MONO),Y.channels_out=V.mode==MPEGMode.MONO?1:2,Y.mode_ext=S.MPG_MD_MS_LR,V.mode==MPEGMode.MONO&&(V.force_ms=!1),V.VBR==r.vbr_off&&V.VBR_mean_bitrate_kbps!=128&&V.brate==0&&(V.brate=V.VBR_mean_bitrate_kbps),V.VBR==r.vbr_off||V.VBR==r.vbr_mtrh||V.VBR==r.vbr_mt||(V.free_format=!1),V.VBR==r.vbr_off&&V.brate==0&&R.EQ(V.compression_ratio,0)&&(V.compression_ratio=11.025),V.VBR==r.vbr_off&&V.compression_ratio>0&&(V.out_samplerate==0&&(V.out_samplerate=map2MP3Frequency(int(.97*V.in_samplerate))),V.brate=0|V.out_samplerate*16*Y.channels_out/(1e3*V.compression_ratio),Y.samplerate_index=v(V.out_samplerate,V),V.free_format||(V.brate=_(V.brate,V.version,V.out_samplerate))),V.out_samplerate!=0&&(V.out_samplerate<16e3?(V.VBR_mean_bitrate_kbps=Math.max(V.VBR_mean_bitrate_kbps,8),V.VBR_mean_bitrate_kbps=Math.min(V.VBR_mean_bitrate_kbps,64)):V.out_samplerate<32e3?(V.VBR_mean_bitrate_kbps=Math.max(V.VBR_mean_bitrate_kbps,8),V.VBR_mean_bitrate_kbps=Math.min(V.VBR_mean_bitrate_kbps,160)):(V.VBR_mean_bitrate_kbps=Math.max(V.VBR_mean_bitrate_kbps,32),V.VBR_mean_bitrate_kbps=Math.min(V.VBR_mean_bitrate_kbps,320))),V.lowpassfreq==0){var Le=16e3;switch(V.VBR){case r.vbr_off:{var Be=new B;O(Be,V.brate),Le=Be.lowerlimit;break}case r.vbr_abr:{var Be=new B;O(Be,V.VBR_mean_bitrate_kbps),Le=Be.lowerlimit;break}case r.vbr_rh:{var We=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=V.VBR_q&&V.VBR_q<=9){var Ge=We[V.VBR_q],he=We[V.VBR_q+1],Ie=V.VBR_q_frac;Le=linear_int(Ge,he,Ie)}else Le=19500;break}default:{var We=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=V.VBR_q&&V.VBR_q<=9){var Ge=We[V.VBR_q],he=We[V.VBR_q+1],Ie=V.VBR_q_frac;Le=linear_int(Ge,he,Ie)}else Le=19500}}V.mode==MPEGMode.MONO&&(V.VBR==r.vbr_off||V.VBR==r.vbr_abr)&&(Le*=1.5),V.lowpassfreq=Le|0}if(V.out_samplerate==0&&(2*V.lowpassfreq>V.in_samplerate&&(V.lowpassfreq=V.in_samplerate/2),V.out_samplerate=D(V.lowpassfreq|0,V.in_samplerate)),V.lowpassfreq=Math.min(20500,V.lowpassfreq),V.lowpassfreq=Math.min(V.out_samplerate/2,V.lowpassfreq),V.VBR==r.vbr_off&&(V.compression_ratio=V.out_samplerate*16*Y.channels_out/(1e3*V.brate)),V.VBR==r.vbr_abr&&(V.compression_ratio=V.out_samplerate*16*Y.channels_out/(1e3*V.VBR_mean_bitrate_kbps)),V.bWriteVbrTag||(V.findReplayGain=!1,V.decode_on_the_fly=!1,Y.findPeakSample=!1),Y.findReplayGain=V.findReplayGain,Y.decode_on_the_fly=V.decode_on_the_fly,Y.decode_on_the_fly&&(Y.findPeakSample=!0),Y.findReplayGain&&L.InitGainAnalysis(Y.rgdata,V.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return V.internal_flags=null,-6;switch(Y.decode_on_the_fly&&!V.decode_only&&(Y.hip!=null&&ve.hip_decode_exit(Y.hip),Y.hip=ve.hip_decode_init()),Y.mode_gr=V.out_samplerate<=24e3?1:2,V.framesize=576*Y.mode_gr,V.encoder_delay=S.ENCDELAY,Y.resample_ratio=V.in_samplerate/V.out_samplerate,V.VBR){case r.vbr_mt:case r.vbr_rh:case r.vbr_mtrh:{var nt=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];V.compression_ratio=nt[V.VBR_q]}break;case r.vbr_abr:V.compression_ratio=V.out_samplerate*16*Y.channels_out/(1e3*V.VBR_mean_bitrate_kbps);break;default:V.compression_ratio=V.out_samplerate*16*Y.channels_out/(1e3*V.brate);break}if(V.mode==MPEGMode.NOT_SET&&(V.mode=MPEGMode.JOINT_STEREO),V.highpassfreq>0?(Y.highpass1=2*V.highpassfreq,V.highpasswidth>=0?Y.highpass2=2*(V.highpassfreq+V.highpasswidth):Y.highpass2=2*V.highpassfreq,Y.highpass1/=V.out_samplerate,Y.highpass2/=V.out_samplerate):(Y.highpass1=0,Y.highpass2=0),V.lowpassfreq>0?(Y.lowpass2=2*V.lowpassfreq,V.lowpasswidth>=0?(Y.lowpass1=2*(V.lowpassfreq-V.lowpasswidth),Y.lowpass1<0&&(Y.lowpass1=0)):Y.lowpass1=2*V.lowpassfreq,Y.lowpass1/=V.out_samplerate,Y.lowpass2/=V.out_samplerate):(Y.lowpass1=0,Y.lowpass2=0),F(V),Y.samplerate_index=v(V.out_samplerate,V),Y.samplerate_index<0)return V.internal_flags=null,-1;if(V.VBR==r.vbr_off){if(V.free_format)Y.bitrate_index=0;else if(V.brate=_(V.brate,V.version,V.out_samplerate),Y.bitrate_index=x(V.brate,V.version,V.out_samplerate),Y.bitrate_index<=0)return V.internal_flags=null,-1}else Y.bitrate_index=1;V.analysis&&(V.bWriteVbrTag=!1),Y.pinfo!=null&&(V.bWriteVbrTag=!1),G.init_bit_stream_w(Y);for(var qe=Y.samplerate_index+3*V.version+6*(V.out_samplerate<16e3?1:0),Ne=0;Ne<S.SBMAX_l+1;Ne++)Y.scalefac_band.l[Ne]=$.sfBandIndex[qe].l[Ne];for(var Ne=0;Ne<S.PSFB21+1;Ne++){var yt=(Y.scalefac_band.l[22]-Y.scalefac_band.l[21])/S.PSFB21,xt=Y.scalefac_band.l[21]+Ne*yt;Y.scalefac_band.psfb21[Ne]=xt}Y.scalefac_band.psfb21[S.PSFB21]=576;for(var Ne=0;Ne<S.SBMAX_s+1;Ne++)Y.scalefac_band.s[Ne]=$.sfBandIndex[qe].s[Ne];for(var Ne=0;Ne<S.PSFB12+1;Ne++){var yt=(Y.scalefac_band.s[13]-Y.scalefac_band.s[12])/S.PSFB12,xt=Y.scalefac_band.s[12]+Ne*yt;Y.scalefac_band.psfb12[Ne]=xt}Y.scalefac_band.psfb12[S.PSFB12]=192,V.version==1?Y.sideinfo_len=Y.channels_out==1?21:36:Y.sideinfo_len=Y.channels_out==1?13:21,V.error_protection&&(Y.sideinfo_len+=2),X(V),Y.Class_ID=I;{var bt;for(bt=0;bt<19;bt++)Y.nsPsy.pefirbuf[bt]=700*Y.mode_gr*Y.channels_out;V.ATHtype==-1&&(V.ATHtype=4)}switch(u(V.VBR_q<=9),u(V.VBR_q>=0),V.VBR){case r.vbr_mt:V.VBR=r.vbr_mtrh;case r.vbr_mtrh:{V.useTemporal==null&&(V.useTemporal=!1),U.apply_preset(V,500-V.VBR_q*10,0),V.quality<0&&(V.quality=LAME_DEFAULT_QUALITY),V.quality<5&&(V.quality=0),V.quality>5&&(V.quality=5),Y.PSY.mask_adjust=V.maskingadjust,Y.PSY.mask_adjust_short=V.maskingadjust_short,V.experimentalY?Y.sfb21_extra=!1:Y.sfb21_extra=V.out_samplerate>44e3,Y.iteration_loop=new VBRNewIterationLoop(ee);break}case r.vbr_rh:{U.apply_preset(V,500-V.VBR_q*10,0),Y.PSY.mask_adjust=V.maskingadjust,Y.PSY.mask_adjust_short=V.maskingadjust_short,V.experimentalY?Y.sfb21_extra=!1:Y.sfb21_extra=V.out_samplerate>44e3,V.quality>6&&(V.quality=6),V.quality<0&&(V.quality=LAME_DEFAULT_QUALITY),Y.iteration_loop=new VBROldIterationLoop(ee);break}default:{var At;Y.sfb21_extra=!1,V.quality<0&&(V.quality=LAME_DEFAULT_QUALITY),At=V.VBR,At==r.vbr_off&&(V.VBR_mean_bitrate_kbps=V.brate),U.apply_preset(V,V.VBR_mean_bitrate_kbps,0),V.VBR=At,Y.PSY.mask_adjust=V.maskingadjust,Y.PSY.mask_adjust_short=V.maskingadjust_short,At==r.vbr_off?Y.iteration_loop=new w(ee):Y.iteration_loop=new ABRIterationLoop(ee);break}}if(u(V.scale>=0),V.VBR!=r.vbr_off){if(Y.VBR_min_bitrate=1,Y.VBR_max_bitrate=14,V.out_samplerate<16e3&&(Y.VBR_max_bitrate=8),V.VBR_min_bitrate_kbps!=0&&(V.VBR_min_bitrate_kbps=_(V.VBR_min_bitrate_kbps,V.version,V.out_samplerate),Y.VBR_min_bitrate=x(V.VBR_min_bitrate_kbps,V.version,V.out_samplerate),Y.VBR_min_bitrate<0)||V.VBR_max_bitrate_kbps!=0&&(V.VBR_max_bitrate_kbps=_(V.VBR_max_bitrate_kbps,V.version,V.out_samplerate),Y.VBR_max_bitrate=x(V.VBR_max_bitrate_kbps,V.version,V.out_samplerate),Y.VBR_max_bitrate<0))return-1;V.VBR_min_bitrate_kbps=b.bitrate_table[V.version][Y.VBR_min_bitrate],V.VBR_max_bitrate_kbps=b.bitrate_table[V.version][Y.VBR_max_bitrate],V.VBR_mean_bitrate_kbps=Math.min(b.bitrate_table[V.version][Y.VBR_max_bitrate],V.VBR_mean_bitrate_kbps),V.VBR_mean_bitrate_kbps=Math.max(b.bitrate_table[V.version][Y.VBR_min_bitrate],V.VBR_mean_bitrate_kbps)}return V.tune&&(Y.PSY.mask_adjust+=V.tune_value_a,Y.PSY.mask_adjust_short+=V.tune_value_a),Q(V),u(V.scale>=0),V.athaa_type<0?Y.ATH.useAdjust=3:Y.ATH.useAdjust=V.athaa_type,Y.ATH.aaSensitivityP=Math.pow(10,V.athaa_sensitivity/-10),V.short_blocks==null&&(V.short_blocks=n.short_block_allowed),V.short_blocks==n.short_block_allowed&&(V.mode==MPEGMode.JOINT_STEREO||V.mode==MPEGMode.STEREO)&&(V.short_blocks=n.short_block_coupled),V.quant_comp<0&&(V.quant_comp=1),V.quant_comp_short<0&&(V.quant_comp_short=0),V.msfix<0&&(V.msfix=0),V.exp_nspsytune=V.exp_nspsytune|1,V.internal_flags.nsPsy.attackthre<0&&(V.internal_flags.nsPsy.attackthre=c.NSATTACKTHRE),V.internal_flags.nsPsy.attackthre_s<0&&(V.internal_flags.nsPsy.attackthre_s=c.NSATTACKTHRE_S),u(V.scale>=0),V.scale<0&&(V.scale=1),V.ATHtype<0&&(V.ATHtype=4),V.ATHcurve<0&&(V.ATHcurve=4),V.athaa_loudapprox<0&&(V.athaa_loudapprox=2),V.interChRatio<0&&(V.interChRatio=0),V.useTemporal==null&&(V.useTemporal=!0),Y.slot_lag=Y.frac_SpF=0,V.VBR==r.vbr_off&&(Y.slot_lag=Y.frac_SpF=(V.version+1)*72e3*V.brate%V.out_samplerate|0),$.iteration_init(V),ie.psymodel_init(V),u(V.scale>=0),0};function W(V,Y){(V.in_buffer_0==null||V.in_buffer_nsamples<Y)&&(V.in_buffer_0=s(Y),V.in_buffer_1=s(Y),V.in_buffer_nsamples=Y)}this.lame_encode_flush=function(V,Y,Le,Be){var We=V.internal_flags,Ge=l([2,1152]),he=0,Ie,nt,qe,Ne,yt=We.mf_samples_to_encode-S.POSTDELAY,xt=se(V);if(We.mf_samples_to_encode<1)return 0;for(Ie=0,V.in_samplerate!=V.out_samplerate&&(yt+=16*V.out_samplerate/V.in_samplerate),qe=V.framesize-yt%V.framesize,qe<576&&(qe+=V.framesize),V.encoder_padding=qe,Ne=(yt+qe)/V.framesize;Ne>0&&he>=0;){var bt=xt-We.mf_size,At=V.frameNum;bt*=V.in_samplerate,bt/=V.out_samplerate,bt>1152&&(bt=1152),bt<1&&(bt=1),nt=Be-Ie,Be==0&&(nt=0),he=this.lame_encode_buffer(V,Ge[0],Ge[1],bt,Y,Le,nt),Le+=he,Ie+=he,Ne-=At!=V.frameNum?1:0}if(We.mf_samples_to_encode=0,he<0||(nt=Be-Ie,Be==0&&(nt=0),G.flush_bitstream(V),he=G.copy_buffer(We,Y,Le,nt,1),he<0))return he;if(Le+=he,Ie+=he,nt=Be-Ie,Be==0&&(nt=0),V.write_id3tag_automatic){if(z.id3tag_write_v1(V),he=G.copy_buffer(We,Y,Le,nt,0),he<0)return he;Ie+=he}return Ie},this.lame_encode_buffer=function(V,Y,Le,Be,We,Ge,he){var Ie=V.internal_flags,nt=[null,null];if(Ie.Class_ID!=I)return-3;if(Be==0)return 0;W(Ie,Be),nt[0]=Ie.in_buffer_0,nt[1]=Ie.in_buffer_1;for(var qe=0;qe<Be;qe++)nt[0][qe]=Y[qe],Ie.channels_in>1&&(nt[1][qe]=Le[qe]);return le(V,nt[0],nt[1],Be,We,Ge,he)};function se(V){var Y=S.BLKSIZE+V.framesize-S.FFTOFFSET;return Y=Math.max(Y,512+V.framesize-32),u(p.MFSIZE>=Y),Y}function le(V,Y,Le,Be,We,Ge,he){var Ie=V.internal_flags,nt=0,qe,Ne,yt,xt,bt,At=[null,null],Lt=[null,null];if(Ie.Class_ID!=I)return-3;if(Be==0)return 0;if(bt=G.copy_buffer(Ie,We,Ge,he,0),bt<0)return bt;if(Ge+=bt,nt+=bt,Lt[0]=Y,Lt[1]=Le,R.NEQ(V.scale,0)&&R.NEQ(V.scale,1))for(Ne=0;Ne<Be;++Ne)Lt[0][Ne]*=V.scale,Ie.channels_out==2&&(Lt[1][Ne]*=V.scale);if(R.NEQ(V.scale_left,0)&&R.NEQ(V.scale_left,1))for(Ne=0;Ne<Be;++Ne)Lt[0][Ne]*=V.scale_left;if(R.NEQ(V.scale_right,0)&&R.NEQ(V.scale_right,1))for(Ne=0;Ne<Be;++Ne)Lt[1][Ne]*=V.scale_right;if(V.num_channels==2&&Ie.channels_out==1)for(Ne=0;Ne<Be;++Ne)Lt[0][Ne]=.5*(Lt[0][Ne]+Lt[1][Ne]),Lt[1][Ne]=0;xt=se(V),At[0]=Ie.mfbuf[0],At[1]=Ie.mfbuf[1];for(var Nt=0;Be>0;){var Bt=[null,null],ur=0,rr=0;Bt[0]=Lt[0],Bt[1]=Lt[1];var mr=new Ce;if(Et(V,At,Bt,Nt,Be,mr),ur=mr.n_in,rr=mr.n_out,Ie.findReplayGain&&!Ie.decode_on_the_fly&&L.AnalyzeSamples(Ie.rgdata,At[0],Ie.mf_size,At[1],Ie.mf_size,rr,Ie.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(Be-=ur,Nt+=ur,Ie.channels_out==2,Ie.mf_size+=rr,u(Ie.mf_size<=p.MFSIZE),Ie.mf_samples_to_encode<1&&(Ie.mf_samples_to_encode=S.ENCDELAY+S.POSTDELAY),Ie.mf_samples_to_encode+=rr,Ie.mf_size>=xt){var or=he-nt;if(he==0&&(or=0),qe=be(V,At[0],At[1],We,Ge,or),qe<0)return qe;for(Ge+=qe,nt+=qe,Ie.mf_size-=V.framesize,Ie.mf_samples_to_encode-=V.framesize,yt=0;yt<Ie.channels_out;yt++)for(Ne=0;Ne<Ie.mf_size;Ne++)At[yt][Ne]=At[yt][Ne+V.framesize]}}return u(Be==0),nt}function be(V,Y,Le,Be,We,Ge){var he=P.enc.lame_encode_mp3_frame(V,Y,Le,Be,We,Ge);return V.frameNum++,he}function Ce(){this.n_in=0,this.n_out=0}function Te(){this.num_used=0}function je(V,Y){return Y!=0?je(Y,V%Y):V}function Ue(V,Y,Le){var Be=Math.PI*Y;V/=Le,V<0&&(V=0),V>1&&(V=1);var We=V-.5,Ge=.42-.5*Math.cos(2*V*Math.PI)+.08*Math.cos(4*V*Math.PI);return Math.abs(We)<1e-9?Be/Math.PI:Ge*Math.sin(Le*Be*We)/(Math.PI*Le*We)}function lt(V,Y,Le,Be,We,Ge,he,Ie,nt){var qe=V.internal_flags,Ne,yt=0,xt,bt=V.out_samplerate/je(V.out_samplerate,V.in_samplerate);bt>p.BPC&&(bt=p.BPC);var At=Math.abs(qe.resample_ratio-Math.floor(.5+qe.resample_ratio))<1e-4?1:0,Lt=1/qe.resample_ratio;Lt>1&&(Lt=1);var Nt=31;Nt%2==0&&--Nt,Nt+=At;var Bt=Nt+1;if(qe.fill_buffer_resample_init==0){for(qe.inbuf_old[0]=s(Bt),qe.inbuf_old[1]=s(Bt),Ne=0;Ne<=2*bt;++Ne)qe.blackfilt[Ne]=s(Bt);for(qe.itime[0]=0,qe.itime[1]=0,yt=0;yt<=2*bt;yt++){var ur=0,rr=(yt-bt)/(2*bt);for(Ne=0;Ne<=Nt;Ne++)ur+=qe.blackfilt[yt][Ne]=Ue(Ne-rr,Lt,Nt);for(Ne=0;Ne<=Nt;Ne++)qe.blackfilt[yt][Ne]/=ur}qe.fill_buffer_resample_init=1}var mr=qe.inbuf_old[nt];for(xt=0;xt<Be;xt++){var or,kr;if(or=xt*qe.resample_ratio,yt=0|Math.floor(or-qe.itime[nt]),Nt+yt-Nt/2>=he)break;var rr=or-qe.itime[nt]-(yt+.5*(Nt%2));u(Math.abs(rr)<=.501),kr=0|Math.floor(rr*2*bt+bt+.5);var Kr=0;for(Ne=0;Ne<=Nt;++Ne){var xr=0|Ne+yt-Nt/2,Nn;u(xr<he),u(xr+Bt>=0),Nn=xr<0?mr[Bt+xr]:We[Ge+xr],Kr+=Nn*qe.blackfilt[kr][Ne]}Y[Le+xt]=Kr}if(Ie.num_used=Math.min(he,Nt+yt-Nt/2),qe.itime[nt]+=Ie.num_used-xt*qe.resample_ratio,Ie.num_used>=Bt)for(Ne=0;Ne<Bt;Ne++)mr[Ne]=We[Ge+Ie.num_used+Ne-Bt];else{var ut=Bt-Ie.num_used;for(Ne=0;Ne<ut;++Ne)mr[Ne]=mr[Ne+Ie.num_used];for(yt=0;Ne<Bt;++Ne,++yt)mr[Ne]=We[Ge+yt];u(yt==Ie.num_used)}return xt}function Et(V,Y,Le,Be,We,Ge){var he=V.internal_flags;if(he.resample_ratio<.9999||he.resample_ratio>1.0001)for(var Ie=0;Ie<he.channels_out;Ie++){var nt=new Te;Ge.n_out=lt(V,Y[Ie],he.mf_size,V.framesize,Le[Ie],Be,We,nt,Ie),Ge.n_in=nt.num_used}else{Ge.n_out=Math.min(V.framesize,We),Ge.n_in=Ge.n_out;for(var qe=0;qe<Ge.n_out;++qe)Y[0][he.mf_size+qe]=Le[0][Be+qe],he.channels_out==2&&(Y[1][he.mf_size+qe]=Le[1][Be+qe])}}}return ep=E,ep}var tp,xb;function J$(){if(xb)return tp;xb=1;var t=Xt();t.System;var e=t.VbrMode;t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double,t.new_float,t.new_float_n,t.new_int,t.new_int_n,t.assert;function r(){function n(g,w,R,b,S,E,P,y,j,L,G,U,$,ee,ie){this.vbr_q=g,this.quant_comp=w,this.quant_comp_s=R,this.expY=b,this.st_lrm=S,this.st_s=E,this.masking_adj=P,this.masking_adj_short=y,this.ath_lower=j,this.ath_curve=L,this.ath_sensitivity=G,this.interch=U,this.safejoint=$,this.sfb21mod=ee,this.msfix=ie}function s(g,w,R,b,S,E,P,y,j,L,G,U,$,ee){this.quant_comp=w,this.quant_comp_s=R,this.safejoint=b,this.nsmsfix=S,this.st_lrm=E,this.st_s=P,this.nsbass=y,this.scale=j,this.masking_adj=L,this.ath_lower=G,this.ath_curve=U,this.interch=$,this.sfscale=ee}var o;this.setModules=function(g){o=g};var l=[new n(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new n(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new n(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new n(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new n(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new n(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new n(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new n(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new n(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],u=[new n(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new n(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new n(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new n(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new n(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new n(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new n(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new n(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new n(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function c(g,w,R){var b=g.VBR==e.vbr_rh?l:u,S=g.VBR_q_frac,E=b[w],P=b[w+1],y=E;E.st_lrm=E.st_lrm+S*(P.st_lrm-E.st_lrm),E.st_s=E.st_s+S*(P.st_s-E.st_s),E.masking_adj=E.masking_adj+S*(P.masking_adj-E.masking_adj),E.masking_adj_short=E.masking_adj_short+S*(P.masking_adj_short-E.masking_adj_short),E.ath_lower=E.ath_lower+S*(P.ath_lower-E.ath_lower),E.ath_curve=E.ath_curve+S*(P.ath_curve-E.ath_curve),E.ath_sensitivity=E.ath_sensitivity+S*(P.ath_sensitivity-E.ath_sensitivity),E.interch=E.interch+S*(P.interch-E.interch),E.msfix=E.msfix+S*(P.msfix-E.msfix),h(g,y.vbr_q),R!=0?g.quant_comp=y.quant_comp:Math.abs(g.quant_comp- -1)>0||(g.quant_comp=y.quant_comp),R!=0?g.quant_comp_short=y.quant_comp_s:Math.abs(g.quant_comp_short- -1)>0||(g.quant_comp_short=y.quant_comp_s),y.expY!=0&&(g.experimentalY=y.expY!=0),R!=0?g.internal_flags.nsPsy.attackthre=y.st_lrm:Math.abs(g.internal_flags.nsPsy.attackthre- -1)>0||(g.internal_flags.nsPsy.attackthre=y.st_lrm),R!=0?g.internal_flags.nsPsy.attackthre_s=y.st_s:Math.abs(g.internal_flags.nsPsy.attackthre_s- -1)>0||(g.internal_flags.nsPsy.attackthre_s=y.st_s),R!=0?g.maskingadjust=y.masking_adj:Math.abs(g.maskingadjust-0)>0||(g.maskingadjust=y.masking_adj),R!=0?g.maskingadjust_short=y.masking_adj_short:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=y.masking_adj_short),R!=0?g.ATHlower=-y.ath_lower/10:Math.abs(-g.ATHlower*10-0)>0||(g.ATHlower=-y.ath_lower/10),R!=0?g.ATHcurve=y.ath_curve:Math.abs(g.ATHcurve- -1)>0||(g.ATHcurve=y.ath_curve),R!=0?g.athaa_sensitivity=y.ath_sensitivity:Math.abs(g.athaa_sensitivity- -1)>0||(g.athaa_sensitivity=y.ath_sensitivity),y.interch>0&&(R!=0?g.interChRatio=y.interch:Math.abs(g.interChRatio- -1)>0||(g.interChRatio=y.interch)),y.safejoint>0&&(g.exp_nspsytune=g.exp_nspsytune|y.safejoint),y.sfb21mod>0&&(g.exp_nspsytune=g.exp_nspsytune|y.sfb21mod<<20),R!=0?g.msfix=y.msfix:Math.abs(g.msfix- -1)>0||(g.msfix=y.msfix),R==0&&(g.VBR_q=w,g.VBR_q_frac=S)}var f=[new s(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new s(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new s(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new s(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new s(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new s(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new s(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new s(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new s(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new s(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new s(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new s(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new s(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new s(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new s(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new s(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new s(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function p(g,w,R){var b=w,S=o.nearestBitrateFullIndex(w);if(g.VBR=e.vbr_abr,g.VBR_mean_bitrate_kbps=b,g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,320),g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.brate=g.VBR_mean_bitrate_kbps,g.VBR_mean_bitrate_kbps>320&&(g.disable_reservoir=!0),f[S].safejoint>0&&(g.exp_nspsytune=g.exp_nspsytune|2),f[S].sfscale>0&&(g.internal_flags.noise_shaping=2),Math.abs(f[S].nsbass)>0){var E=int(f[S].nsbass*4);E<0&&(E+=64),g.exp_nspsytune=g.exp_nspsytune|E<<2}return R!=0?g.quant_comp=f[S].quant_comp:Math.abs(g.quant_comp- -1)>0||(g.quant_comp=f[S].quant_comp),R!=0?g.quant_comp_short=f[S].quant_comp_s:Math.abs(g.quant_comp_short- -1)>0||(g.quant_comp_short=f[S].quant_comp_s),R!=0?g.msfix=f[S].nsmsfix:Math.abs(g.msfix- -1)>0||(g.msfix=f[S].nsmsfix),R!=0?g.internal_flags.nsPsy.attackthre=f[S].st_lrm:Math.abs(g.internal_flags.nsPsy.attackthre- -1)>0||(g.internal_flags.nsPsy.attackthre=f[S].st_lrm),R!=0?g.internal_flags.nsPsy.attackthre_s=f[S].st_s:Math.abs(g.internal_flags.nsPsy.attackthre_s- -1)>0||(g.internal_flags.nsPsy.attackthre_s=f[S].st_s),R!=0?g.scale=f[S].scale:Math.abs(g.scale- -1)>0||(g.scale=f[S].scale),R!=0?g.maskingadjust=f[S].masking_adj:Math.abs(g.maskingadjust-0)>0||(g.maskingadjust=f[S].masking_adj),f[S].masking_adj>0?R!=0?g.maskingadjust_short=f[S].masking_adj*.9:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=f[S].masking_adj*.9):R!=0?g.maskingadjust_short=f[S].masking_adj*1.1:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=f[S].masking_adj*1.1),R!=0?g.ATHlower=-f[S].ath_lower/10:Math.abs(-g.ATHlower*10-0)>0||(g.ATHlower=-f[S].ath_lower/10),R!=0?g.ATHcurve=f[S].ath_curve:Math.abs(g.ATHcurve- -1)>0||(g.ATHcurve=f[S].ath_curve),R!=0?g.interChRatio=f[S].interch:Math.abs(g.interChRatio- -1)>0||(g.interChRatio=f[S].interch),w}this.apply_preset=function(g,w,R){switch(w){case Lame.R3MIX:{w=Lame.V3,g.VBR=e.vbr_mtrh;break}case Lame.MEDIUM:{w=Lame.V4,g.VBR=e.vbr_rh;break}case Lame.MEDIUM_FAST:{w=Lame.V4,g.VBR=e.vbr_mtrh;break}case Lame.STANDARD:{w=Lame.V2,g.VBR=e.vbr_rh;break}case Lame.STANDARD_FAST:{w=Lame.V2,g.VBR=e.vbr_mtrh;break}case Lame.EXTREME:{w=Lame.V0,g.VBR=e.vbr_rh;break}case Lame.EXTREME_FAST:{w=Lame.V0,g.VBR=e.vbr_mtrh;break}case Lame.INSANE:return w=320,g.preset=w,p(g,w,R),g.VBR=e.vbr_off,w}switch(g.preset=w,w){case Lame.V9:return c(g,9,R),w;case Lame.V8:return c(g,8,R),w;case Lame.V7:return c(g,7,R),w;case Lame.V6:return c(g,6,R),w;case Lame.V5:return c(g,5,R),w;case Lame.V4:return c(g,4,R),w;case Lame.V3:return c(g,3,R),w;case Lame.V2:return c(g,2,R),w;case Lame.V1:return c(g,1,R),w;case Lame.V0:return c(g,0,R),w}return 8<=w&&w<=320?p(g,w,R):(g.preset=0,w)};function h(g,w){var R=0;return 0>w&&(R=-1,w=0),9<w&&(R=-1,w=9),g.VBR_q=w,g.VBR_q_frac=0,R}}return tp=r,tp}var rp,Sb;function eU(){if(Sb)return rp;Sb=1;function t(){this.setModules=function(e,r){}}return rp=t,rp}var np,Eb;function tU(){if(Eb)return np;Eb=1;function t(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}return np=t,np}var sp,Cb;function rU(){if(Cb)return sp;Cb=1;var t=Xt(),e=t.new_float,r=t.new_int;t.assert;function n(){this.global_gain=0,this.sfb_count1=0,this.step=r(39),this.noise=e(39),this.noise_log=e(39)}return sp=n,sp}var ip,Tb;function nU(){if(Tb)return ip;Tb=1;var t=Xt(),e=t.System,r=t.VbrMode;t.Float,t.ShortBlock;var n=t.Util,s=t.Arrays;t.new_array_n,t.new_byte,t.new_double;var o=t.new_float;t.new_float_n,t.new_int,t.new_int_n;var l=t.assert,u=eU(),c=tU(),f=rU(),p=zr(),h=Y1(),g=Gd();function w(){var R;this.rv=null;var b;this.qupvt=null;var S,E=new u,P;this.setModules=function(B,k,I,M){R=B,b=k,this.rv=k,S=I,this.qupvt=I,P=M,E.setModules(S,P)},this.ms_convert=function(B,k){for(var I=0;I<576;++I){var M=B.tt[k][0].xr[I],H=B.tt[k][1].xr[I];B.tt[k][0].xr[I]=(M+H)*(n.SQRT2*.5),B.tt[k][1].xr[I]=(M-H)*(n.SQRT2*.5)}};function y(B,k,I,M){M=0;for(var H=0;H<=I;++H){var D=Math.abs(B.xr[H]);M+=D,k[H]=Math.sqrt(D*Math.sqrt(D)),k[H]>B.xrpow_max&&(B.xrpow_max=k[H])}return M}this.init_xrpow=function(B,k,I){var M=0,H=0|k.max_nonzero_coeff;if(l(I!=null),k.xrpow_max=0,l(0<=H&&H<=575),s.fill(I,H,576,0),M=y(k,I,H,M),M>1e-20){var D=0;(B.substep_shaping&2)!=0&&(D=1);for(var v=0;v<k.psymax;v++)B.pseudohalf[v]=D;return!0}return s.fill(k.l3_enc,0,576,0),!1};function j(B,k){var I=B.ATH,M=k.xr;if(k.block_type!=p.SHORT_TYPE)for(var H=!1,D=p.PSFB21-1;D>=0&&!H;D--){var v=B.scalefac_band.psfb21[D],_=B.scalefac_band.psfb21[D+1],x=S.athAdjust(I.adjust,I.psfb21[D],I.floor);B.nsPsy.longfact[21]>1e-12&&(x*=B.nsPsy.longfact[21]);for(var O=_-1;O>=v;O--)if(Math.abs(M[O])<x)M[O]=0;else{H=!0;break}}else for(var F=0;F<3;F++)for(var H=!1,D=p.PSFB12-1;D>=0&&!H;D--){var v=B.scalefac_band.s[12]*3+(B.scalefac_band.s[13]-B.scalefac_band.s[12])*F+(B.scalefac_band.psfb12[D]-B.scalefac_band.psfb12[0]),_=v+(B.scalefac_band.psfb12[D+1]-B.scalefac_band.psfb12[D]),Q=S.athAdjust(I.adjust,I.psfb12[D],I.floor);B.nsPsy.shortfact[12]>1e-12&&(Q*=B.nsPsy.shortfact[12]);for(var O=_-1;O>=v;O--)if(Math.abs(M[O])<Q)M[O]=0;else{H=!0;break}}}this.init_outer_loop=function(B,k){k.part2_3_length=0,k.big_values=0,k.count1=0,k.global_gain=210,k.scalefac_compress=0,k.table_select[0]=0,k.table_select[1]=0,k.table_select[2]=0,k.subblock_gain[0]=0,k.subblock_gain[1]=0,k.subblock_gain[2]=0,k.subblock_gain[3]=0,k.region0_count=0,k.region1_count=0,k.preflag=0,k.scalefac_scale=0,k.count1table_select=0,k.part2_length=0,k.sfb_lmax=p.SBPSY_l,k.sfb_smin=p.SBPSY_s,k.psy_lmax=B.sfb21_extra?p.SBMAX_l:p.SBPSY_l,k.psymax=k.psy_lmax,k.sfbmax=k.sfb_lmax,k.sfbdivide=11;for(var I=0;I<p.SBMAX_l;I++)k.width[I]=B.scalefac_band.l[I+1]-B.scalefac_band.l[I],k.window[I]=3;if(k.block_type==p.SHORT_TYPE){var M=o(576);k.sfb_smin=0,k.sfb_lmax=0,k.mixed_block_flag!=0&&(k.sfb_smin=3,k.sfb_lmax=B.mode_gr*2+4),k.psymax=k.sfb_lmax+3*((B.sfb21_extra?p.SBMAX_s:p.SBPSY_s)-k.sfb_smin),k.sfbmax=k.sfb_lmax+3*(p.SBPSY_s-k.sfb_smin),k.sfbdivide=k.sfbmax-18,k.psy_lmax=k.sfb_lmax;var H=B.scalefac_band.l[k.sfb_lmax];e.arraycopy(k.xr,0,M,0,576);for(var I=k.sfb_smin;I<p.SBMAX_s;I++)for(var D=B.scalefac_band.s[I],v=B.scalefac_band.s[I+1],_=0;_<3;_++)for(var x=D;x<v;x++)k.xr[H++]=M[3*x+_];for(var O=k.sfb_lmax,I=k.sfb_smin;I<p.SBMAX_s;I++)k.width[O]=k.width[O+1]=k.width[O+2]=B.scalefac_band.s[I+1]-B.scalefac_band.s[I],k.window[O]=0,k.window[O+1]=1,k.window[O+2]=2,O+=3}k.count1bits=0,k.sfb_partition_table=S.nr_of_sfb_block[0][0],k.slen[0]=0,k.slen[1]=0,k.slen[2]=0,k.slen[3]=0,k.max_nonzero_coeff=575,s.fill(k.scalefac,0),j(B,k)};function L(B){this.ordinal=B}L.BINSEARCH_NONE=new L(0),L.BINSEARCH_UP=new L(1),L.BINSEARCH_DOWN=new L(2);function G(B,k,I,M,H){var D,v=B.CurrentStep[M],_=!1,x=B.OldValue[M],O=L.BINSEARCH_NONE;for(k.global_gain=x,I-=k.part2_length,l(v!=0);;){var F;if(D=P.count_bits(B,H,k,null),v==1||D==I)break;D>I?(O==L.BINSEARCH_DOWN&&(_=!0),_&&(v/=2),O=L.BINSEARCH_UP,F=v):(O==L.BINSEARCH_UP&&(_=!0),_&&(v/=2),O=L.BINSEARCH_DOWN,F=-v),k.global_gain+=F,k.global_gain<0&&(k.global_gain=0,_=!0),k.global_gain>255&&(k.global_gain=255,_=!0)}for(l(k.global_gain>=0),l(k.global_gain<256);D>I&&k.global_gain<255;)k.global_gain++,D=P.count_bits(B,H,k,null);return B.CurrentStep[M]=x-k.global_gain>=4?4:2,B.OldValue[M]=k.global_gain,k.part2_3_length=D,D}this.trancate_smallspectrums=function(B,k,I,M){var H=o(g.SFBMAX);if(!((B.substep_shaping&4)==0&&k.block_type==p.SHORT_TYPE||(B.substep_shaping&128)!=0)){S.calc_noise(k,I,H,new c,null);for(var v=0;v<576;v++){var D=0;k.l3_enc[v]!=0&&(D=Math.abs(k.xr[v])),M[v]=D}var v=0,_=8;k.block_type==p.SHORT_TYPE&&(_=6);do{var x,O,F,Q,X=k.width[_];if(v+=X,!(H[_]>=1)&&(s.sort(M,v-X,X),!BitStream.EQ(M[v-1],0))){x=(1-H[_])*I[_],O=0,Q=0;do{var W;for(F=1;Q+F<X&&!BitStream.NEQ(M[Q+v-X],M[Q+v+F-X]);F++);if(W=M[Q+v-X]*M[Q+v-X]*F,x<W){Q!=0&&(O=M[Q+v-X-1]);break}x-=W,Q+=F}while(Q<X);if(!BitStream.EQ(O,0))do Math.abs(k.xr[v-X])<=O&&(k.l3_enc[v-X]=0);while(--X>0)}}while(++_<k.psymax);k.part2_3_length=P.noquant_count_bits(B,k,null)}};function U(B){for(var k=0;k<B.sfbmax;k++)if(B.scalefac[k]+B.subblock_gain[B.window[k]]==0)return!1;return!0}function $(B){return n.FAST_LOG10(.368+.632*B*B*B)}function ee(B,k){for(var I=1e-37,M=0;M<k.psymax;M++)I+=$(B[M]);return Math.max(1e-20,I)}function ie(B,k,I,M,H){var D;switch(B){default:case 9:{k.over_count>0?(D=I.over_SSD<=k.over_SSD,I.over_SSD==k.over_SSD&&(D=I.bits<k.bits)):D=I.max_noise<0&&I.max_noise*10+I.bits<=k.max_noise*10+k.bits;break}case 0:D=I.over_count<k.over_count||I.over_count==k.over_count&&I.over_noise<k.over_noise||I.over_count==k.over_count&&BitStream.EQ(I.over_noise,k.over_noise)&&I.tot_noise<k.tot_noise;break;case 8:I.max_noise=ee(H,M);case 1:D=I.max_noise<k.max_noise;break;case 2:D=I.tot_noise<k.tot_noise;break;case 3:D=I.tot_noise<k.tot_noise&&I.max_noise<k.max_noise;break;case 4:D=I.max_noise<=0&&k.max_noise>.2||I.max_noise<=0&&k.max_noise<0&&k.max_noise>I.max_noise-.2&&I.tot_noise<k.tot_noise||I.max_noise<=0&&k.max_noise>0&&k.max_noise>I.max_noise-.2&&I.tot_noise<k.tot_noise+k.over_noise||I.max_noise>0&&k.max_noise>-.05&&k.max_noise>I.max_noise-.1&&I.tot_noise+I.over_noise<k.tot_noise+k.over_noise||I.max_noise>0&&k.max_noise>-.1&&k.max_noise>I.max_noise-.15&&I.tot_noise+I.over_noise+I.over_noise<k.tot_noise+k.over_noise+k.over_noise;break;case 5:D=I.over_noise<k.over_noise||BitStream.EQ(I.over_noise,k.over_noise)&&I.tot_noise<k.tot_noise;break;case 6:D=I.over_noise<k.over_noise||BitStream.EQ(I.over_noise,k.over_noise)&&(I.max_noise<k.max_noise||BitStream.EQ(I.max_noise,k.max_noise)&&I.tot_noise<=k.tot_noise);break;case 7:D=I.over_count<k.over_count||I.over_noise<k.over_noise;break}return k.over_count==0&&(D=D&&I.bits<k.bits),D}function re(B,k,I,M,H){var D=B.internal_flags,v;k.scalefac_scale==0?v=1.2968395546510096:v=1.6817928305074292;for(var _=0,x=0;x<k.sfbmax;x++)_<I[x]&&(_=I[x]);var O=D.noise_shaping_amp;switch(O==3&&(H?O=2:O=1),O){case 2:break;case 1:_>1?_=Math.pow(_,.5):_*=.95;break;case 0:default:_>1?_=1:_*=.95;break}for(var F=0,x=0;x<k.sfbmax;x++){var Q=k.width[x],X;if(F+=Q,!(I[x]<_)){if((D.substep_shaping&2)!=0&&(D.pseudohalf[x]=D.pseudohalf[x]==0?1:0,D.pseudohalf[x]==0&&D.noise_shaping_amp==2))return;for(k.scalefac[x]++,X=-Q;X<0;X++)M[F+X]*=v,M[F+X]>k.xrpow_max&&(k.xrpow_max=M[F+X]);if(D.noise_shaping_amp==2)return}}}function z(B,k){for(var I=1.2968395546510096,M=0,H=0;H<B.sfbmax;H++){var D=B.width[H],v=B.scalefac[H];if(B.preflag!=0&&(v+=S.pretab[H]),M+=D,(v&1)!=0){v++;for(var _=-D;_<0;_++)k[M+_]*=I,k[M+_]>B.xrpow_max&&(B.xrpow_max=k[M+_])}B.scalefac[H]=v>>1}B.preflag=0,B.scalefac_scale=1}function ve(B,k,I){var M,H=k.scalefac;for(M=0;M<k.sfb_lmax;M++)if(H[M]>=16)return!0;for(var D=0;D<3;D++){var v=0,_=0;for(M=k.sfb_lmax+D;M<k.sfbdivide;M+=3)v<H[M]&&(v=H[M]);for(;M<k.sfbmax;M+=3)_<H[M]&&(_=H[M]);if(!(v<16&&_<8)){if(k.subblock_gain[D]>=7)return!0;k.subblock_gain[D]++;var x=B.scalefac_band.l[k.sfb_lmax];for(M=k.sfb_lmax+D;M<k.sfbmax;M+=3){var O,F=k.width[M],Q=H[M];if(l(Q>=0),Q=Q-(4>>k.scalefac_scale),Q>=0){H[M]=Q,x+=F*3;continue}H[M]=0;{var X=210+(Q<<k.scalefac_scale+1);O=S.IPOW20(X)}x+=F*(D+1);for(var W=-F;W<0;W++)I[x+W]*=O,I[x+W]>k.xrpow_max&&(k.xrpow_max=I[x+W]);x+=F*(3-D-1)}{var O=S.IPOW20(202);x+=k.width[M]*(D+1);for(var W=-k.width[M];W<0;W++)I[x+W]*=O,I[x+W]>k.xrpow_max&&(k.xrpow_max=I[x+W])}}}return!1}function K(B,k,I,M,H){var D=B.internal_flags;re(B,k,I,M,H);var v=U(k);return v?!1:(D.mode_gr==2?v=P.scale_bitcount(k):v=P.scale_bitcount_lsf(D,k),v?(D.noise_shaping>1&&(s.fill(D.pseudohalf,0),k.scalefac_scale==0?(z(k,M),v=!1):k.block_type==p.SHORT_TYPE&&D.subblock_gain>0&&(v=ve(D,k,M)||U(k))),v||(D.mode_gr==2?v=P.scale_bitcount(k):v=P.scale_bitcount_lsf(D,k)),!v):!0)}this.outer_loop=function(B,k,I,M,H,D){var v=B.internal_flags,_=new h,x=o(576),O=o(g.SFBMAX),F=new c,Q,X=new f,W=9999999,se=!1,le=!1,be=0;if(G(v,k,D,H,M),v.noise_shaping==0)return 100;S.calc_noise(k,I,O,F,X),F.bits=k.part2_3_length,_.assign(k);var Ce=0;for(e.arraycopy(M,0,x,0,576);!se;){do{var Te=new c,je,Ue=255;if((v.substep_shaping&2)!=0?je=20:je=3,v.sfb21_extra&&(O[_.sfbmax]>1||_.block_type==p.SHORT_TYPE&&(O[_.sfbmax+1]>1||O[_.sfbmax+2]>1))||!K(B,_,O,M,le))break;_.scalefac_scale!=0&&(Ue=254);var lt=D-_.part2_length;if(lt<=0)break;for(;(_.part2_3_length=P.count_bits(v,M,_,X))>lt&&_.global_gain<=Ue;)_.global_gain++;if(_.global_gain>Ue)break;if(F.over_count==0){for(;(_.part2_3_length=P.count_bits(v,M,_,X))>W&&_.global_gain<=Ue;)_.global_gain++;if(_.global_gain>Ue)break}if(S.calc_noise(_,I,O,Te,X),Te.bits=_.part2_3_length,k.block_type!=p.SHORT_TYPE?Q=B.quant_comp:Q=B.quant_comp_short,Q=ie(Q,F,Te,_,O)?1:0,Q!=0)W=k.part2_3_length,F=Te,k.assign(_),Ce=0,e.arraycopy(M,0,x,0,576);else if(v.full_outer_loop==0&&(++Ce>je&&F.over_count==0||v.noise_shaping_amp==3&&le&&Ce>30||v.noise_shaping_amp==3&&le&&_.global_gain-be>15))break}while(_.global_gain+_.scalefac_scale<255);v.noise_shaping_amp==3?le?se=!0:(_.assign(k),e.arraycopy(x,0,M,0,576),Ce=0,be=_.global_gain,le=!0):se=!0}return l(k.global_gain+k.scalefac_scale<=255),B.VBR==r.vbr_rh||B.VBR==r.vbr_mtrh?e.arraycopy(x,0,M,0,576):(v.substep_shaping&1)!=0&&trancate_smallspectrums(v,k,I,M),F.over_count},this.iteration_finish_one=function(B,k,I){var M=B.l3_side,H=M.tt[k][I];P.best_scalefac_store(B,k,I,M),B.use_best_huffman==1&&P.best_huffman_divide(B,H),b.ResvAdjust(B,H)},this.VBR_encode_granule=function(B,k,I,M,H,D,v){var _=B.internal_flags,x=new h,O=o(576),F=v,Q=v+1,X=(v+D)/2,W,se,le=0,be=_.sfb21_extra;l(F<=LameInternalFlags.MAX_BITS_PER_CHANNEL),s.fill(x.l3_enc,0);do l(X>=D),l(X<=v),l(D<=v),X>F-42?_.sfb21_extra=!1:_.sfb21_extra=be,se=outer_loop(B,k,I,M,H,X),se<=0?(le=1,Q=k.part2_3_length,x.assign(k),e.arraycopy(M,0,O,0,576),v=Q-32,W=v-D,X=(v+D)/2):(D=X+32,W=v-D,X=(v+D)/2,le!=0&&(le=2,k.assign(x),e.arraycopy(O,0,M,0,576)));while(W>12);_.sfb21_extra=be,le==2&&e.arraycopy(x.l3_enc,0,k.l3_enc,0,576),l(k.part2_3_length<=F)},this.get_framebits=function(B,k){var I=B.internal_flags;I.bitrate_index=I.VBR_min_bitrate;var M=R.getframebits(B);I.bitrate_index=1,M=R.getframebits(B);for(var H=1;H<=I.VBR_max_bitrate;H++){I.bitrate_index=H;var D=new MeanBits(M);k[H]=b.ResvFrameBegin(B,D),M=D.bits}},this.VBR_old_prepare=function(B,k,I,M,H,D,v,_,x){var O=B.internal_flags,F,Q=0,X=1,W=0;O.bitrate_index=O.VBR_max_bitrate;var se=b.ResvFrameBegin(B,new MeanBits(0))/O.mode_gr;get_framebits(B,D);for(var le=0;le<O.mode_gr;le++){var be=S.on_pe(B,k,_[le],se,le,0);O.mode_ext==p.MPG_MD_MS_LR&&(ms_convert(O.l3_side,le),S.reduce_side(_[le],I[le],se,be));for(var Ce=0;Ce<O.channels_out;++Ce){var Te=O.l3_side.tt[le][Ce];Te.block_type!=p.SHORT_TYPE?(Q=1.28/(1+Math.exp(3.5-k[le][Ce]/300))-.05,F=O.PSY.mask_adjust-Q):(Q=2.56/(1+Math.exp(3.5-k[le][Ce]/300))-.14,F=O.PSY.mask_adjust_short-Q),O.masking_lower=Math.pow(10,F*.1),init_outer_loop(O,Te),x[le][Ce]=S.calc_xmin(B,M[le][Ce],Te,H[le][Ce]),x[le][Ce]!=0&&(X=0),v[le][Ce]=126,W+=_[le][Ce]}}for(var le=0;le<O.mode_gr;le++)for(var Ce=0;Ce<O.channels_out;Ce++)W>D[O.VBR_max_bitrate]&&(_[le][Ce]*=D[O.VBR_max_bitrate],_[le][Ce]/=W),v[le][Ce]>_[le][Ce]&&(v[le][Ce]=_[le][Ce]);return X},this.bitpressure_strategy=function(B,k,I,M){for(var H=0;H<B.mode_gr;H++)for(var D=0;D<B.channels_out;D++){for(var v=B.l3_side.tt[H][D],_=k[H][D],x=0,O=0;O<v.psy_lmax;O++)_[x++]*=1+.029*O*O/p.SBMAX_l/p.SBMAX_l;if(v.block_type==p.SHORT_TYPE)for(var O=v.sfb_smin;O<p.SBMAX_s;O++)_[x++]*=1+.029*O*O/p.SBMAX_s/p.SBMAX_s,_[x++]*=1+.029*O*O/p.SBMAX_s/p.SBMAX_s,_[x++]*=1+.029*O*O/p.SBMAX_s/p.SBMAX_s;M[H][D]=0|Math.max(I[H][D],.9*M[H][D])}},this.VBR_new_prepare=function(B,k,I,M,H,D){var v=B.internal_flags,_=1,x=0,O=0,F;if(B.free_format){v.bitrate_index=0;var Q=new MeanBits(x);F=b.ResvFrameBegin(B,Q),x=Q.bits,H[0]=F}else{v.bitrate_index=v.VBR_max_bitrate;var Q=new MeanBits(x);b.ResvFrameBegin(B,Q),x=Q.bits,get_framebits(B,H),F=H[v.VBR_max_bitrate]}for(var X=0;X<v.mode_gr;X++){S.on_pe(B,k,D[X],x,X,0),v.mode_ext==p.MPG_MD_MS_LR&&ms_convert(v.l3_side,X);for(var W=0;W<v.channels_out;++W){var se=v.l3_side.tt[X][W];v.masking_lower=Math.pow(10,v.PSY.mask_adjust*.1),init_outer_loop(v,se),S.calc_xmin(B,I[X][W],se,M[X][W])!=0&&(_=0),O+=D[X][W]}}for(var X=0;X<v.mode_gr;X++)for(var W=0;W<v.channels_out;W++)O>F&&(D[X][W]*=F,D[X][W]/=O);return _},this.calc_target_bits=function(B,k,I,M,H,D){var v=B.internal_flags,_=v.l3_side,x,O,F,Q,X=0;v.bitrate_index=v.VBR_max_bitrate;var W=new MeanBits(X);for(D[0]=b.ResvFrameBegin(B,W),X=W.bits,v.bitrate_index=1,X=R.getframebits(B)-v.sideinfo_len*8,H[0]=X/(v.mode_gr*v.channels_out),X=B.VBR_mean_bitrate_kbps*B.framesize*1e3,(v.substep_shaping&1)!=0&&(X*=1.09),X/=B.out_samplerate,X-=v.sideinfo_len*8,X/=v.mode_gr*v.channels_out,x=.93+.07*(11-B.compression_ratio)/(11-5.5),x<.9&&(x=.9),x>1&&(x=1),O=0;O<v.mode_gr;O++){var se=0;for(F=0;F<v.channels_out;F++){if(M[O][F]=int(x*X),k[O][F]>700){var le=int((k[O][F]-700)/1.4),be=_.tt[O][F];M[O][F]=int(x*X),be.block_type==p.SHORT_TYPE&&le<X/2&&(le=X/2),le>X*3/2?le=X*3/2:le<0&&(le=0),M[O][F]+=le}M[O][F]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(M[O][F]=LameInternalFlags.MAX_BITS_PER_CHANNEL),se+=M[O][F]}if(se>LameInternalFlags.MAX_BITS_PER_GRANULE)for(F=0;F<v.channels_out;++F)M[O][F]*=LameInternalFlags.MAX_BITS_PER_GRANULE,M[O][F]/=se}if(v.mode_ext==p.MPG_MD_MS_LR)for(O=0;O<v.mode_gr;O++)S.reduce_side(M[O],I[O],X*v.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(Q=0,O=0;O<v.mode_gr;O++)for(F=0;F<v.channels_out;F++)M[O][F]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(M[O][F]=LameInternalFlags.MAX_BITS_PER_CHANNEL),Q+=M[O][F];if(Q>D[0])for(O=0;O<v.mode_gr;O++)for(F=0;F<v.channels_out;F++)M[O][F]*=D[0],M[O][F]/=Q}}return ip=w,ip}var op,Rb;function sU(){if(Rb)return op;Rb=1;var t=Xt(),e=t.assert;function r(){var n;this.setModules=function(s){n=s},this.ResvFrameBegin=function(s,o){var l=s.internal_flags,u,c=l.l3_side,f=n.getframebits(s);o.bits=(f-l.sideinfo_len*8)/l.mode_gr;var p=8*256*l.mode_gr-8;s.brate>320?u=8*int(s.brate*1e3/(s.out_samplerate/1152)/8+.5):(u=8*1440,s.strict_ISO&&(u=8*int(32e4/(s.out_samplerate/1152)/8+.5))),l.ResvMax=u-f,l.ResvMax>p&&(l.ResvMax=p),(l.ResvMax<0||s.disable_reservoir)&&(l.ResvMax=0);var h=o.bits*l.mode_gr+Math.min(l.ResvSize,l.ResvMax);return h>u&&(h=u),e(l.ResvMax%8==0),e(l.ResvMax>=0),c.resvDrain_pre=0,l.pinfo!=null&&(l.pinfo.mean_bits=o.bits/2,l.pinfo.resvsize=l.ResvSize),h},this.ResvMaxBits=function(s,o,l,u){var c=s.internal_flags,f,p=c.ResvSize,h=c.ResvMax;u!=0&&(p+=o),(c.substep_shaping&1)!=0&&(h*=.9),l.bits=o,p*10>h*9?(f=p-h*9/10,l.bits+=f,c.substep_shaping|=128):(f=0,c.substep_shaping&=127,!s.disable_reservoir&&(c.substep_shaping&1)==0&&(l.bits-=.1*o));var g=p<c.ResvMax*6/10?p:c.ResvMax*6/10;return g-=f,g<0&&(g=0),g},this.ResvAdjust=function(s,o){s.ResvSize-=o.part2_3_length+o.part2_length},this.ResvFrameEnd=function(s,o){var l,u=s.l3_side;s.ResvSize+=o*s.mode_gr;var c=0;u.resvDrain_post=0,u.resvDrain_pre=0,(l=s.ResvSize%8)!=0&&(c+=l),l=s.ResvSize-c-s.ResvMax,l>0&&(e(l%8==0),e(l>=0),c+=l);{var f=Math.min(u.main_data_begin*8,c)/8;u.resvDrain_pre+=8*f,c-=8*f,s.ResvSize-=8*f,u.main_data_begin-=f}u.resvDrain_post+=c,s.ResvSize-=c}}return op=r,op}var ap,kb;function iU(){if(kb)return ap;kb=1;function t(){var e="http://www.mp3dev.org/",r=3,n=98,s=4,o=0,l=93;this.getLameVersion=function(){return r+"."+n+"."+s},this.getLameShortVersion=function(){return r+"."+n+"."+s},this.getLameVeryShortVersion=function(){return"LAME"+r+"."+n+"r"},this.getPsyVersion=function(){return o+"."+l},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}return ap=t,ap}var lp,Ab;function oU(){if(Ab)return lp;Ab=1;var t=Xt(),e=t.System,r=t.VbrMode;t.Float;var n=t.ShortBlock;t.Util;var s=t.Arrays;t.new_array_n;var o=t.new_byte;t.new_double,t.new_float,t.new_float_n,t.new_int,t.new_int_n;var l=t.assert;u.NUMTOCENTRIES=100,u.MAXFRAMESIZE=2880;function u(){var c,f,p;this.setModules=function(v,_,x){c=v,f=_,p=x};var h=1,g=2,w=4,R=8,b=u.NUMTOCENTRIES,S=u.MAXFRAMESIZE,E=b+4+4+4+4+4,P=E+9+1+1+8+1+1+3+1+1+2+4+2+2,y=128,j=64,L=32,G=null,U="Xing",$="Info",ee=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function ie(v,_){if(v.nVbrNumFrames++,v.sum+=_,v.seen++,!(v.seen<v.want)&&(v.pos<v.size&&(v.bag[v.pos]=v.sum,v.pos++,v.seen=0),v.pos==v.size)){for(var x=1;x<v.size;x+=2)v.bag[x/2]=v.bag[x];v.want*=2,v.pos/=2}}function re(v,_){if(!(v.pos<=0))for(var x=1;x<b;++x){var O=x/b,F,Q,X=0|Math.floor(O*v.pos);X>v.pos-1&&(X=v.pos-1),F=v.bag[X],Q=v.sum;var W=0|256*F/Q;W>255&&(W=255),_[x]=255&W}}this.addVbrFrame=function(v){var _=v.internal_flags,x=Tables.bitrate_table[v.version][_.bitrate_index];l(_.VBR_seek_table.bag!=null),ie(_.VBR_seek_table,x)};function z(v,_){var x=v[_+0]&255;return x<<=8,x|=v[_+1]&255,x<<=8,x|=v[_+2]&255,x<<=8,x|=v[_+3]&255,x}function ve(v,_,x){v[_+0]=255&(x>>24&255),v[_+1]=255&(x>>16&255),v[_+2]=255&(x>>8&255),v[_+3]=255&(x&255)}function K(v,_,x){v[_+0]=255&(x>>8&255),v[_+1]=255&(x&255)}function B(v,_){return new String(v,_,U.length(),G).equals(U)||new String(v,_,$.length(),G).equals($)}function k(v,_,x){return 255&(v<<_|x&~(-1<<_))}function I(v,_){var x=v.internal_flags;_[0]=k(_[0],8,255),_[1]=k(_[1],3,7),_[1]=k(_[1],1,v.out_samplerate<16e3?0:1),_[1]=k(_[1],1,v.version),_[1]=k(_[1],2,1),_[1]=k(_[1],1,v.error_protection?0:1),_[2]=k(_[2],4,x.bitrate_index),_[2]=k(_[2],2,x.samplerate_index),_[2]=k(_[2],1,0),_[2]=k(_[2],1,v.extension),_[3]=k(_[3],2,v.mode.ordinal()),_[3]=k(_[3],2,x.mode_ext),_[3]=k(_[3],1,v.copyright),_[3]=k(_[3],1,v.original),_[3]=k(_[3],2,v.emphasis),_[0]=255;var O=255&(_[1]&241),F;v.version==1?F=y:v.out_samplerate<16e3?F=L:F=j,v.VBR==r.vbr_off&&(F=v.brate);var Q;v.free_format?Q=0:Q=255&16*c.BitrateIndex(F,v.version,v.out_samplerate),v.version==1?(_[1]=255&(O|10),O=255&(_[2]&13),_[2]=255&(Q|O)):(_[1]=255&(O|2),O=255&(_[2]&13),_[2]=255&(Q|O))}this.getVbrTag=function(v){var _=new VBRTagData,x=0;_.flags=0;var O=v[x+1]>>3&1,F=v[x+2]>>2&3,Q=v[x+3]>>6&3,X=v[x+2]>>4&15;if(X=Tables.bitrate_table[O][X],v[x+1]>>4==14?_.samprate=Tables.samplerate_table[2][F]:_.samprate=Tables.samplerate_table[O][F],O!=0?Q!=3?x+=36:x+=21:Q!=3?x+=21:x+=13,!B(v,x))return null;x+=4,_.hId=O;var W=_.flags=z(v,x);if(x+=4,(W&h)!=0&&(_.frames=z(v,x),x+=4),(W&g)!=0&&(_.bytes=z(v,x),x+=4),(W&w)!=0){if(_.toc!=null)for(var se=0;se<b;se++)_.toc[se]=v[x+se];x+=b}_.vbrScale=-1,(W&R)!=0&&(_.vbrScale=z(v,x),x+=4),_.headersize=(O+1)*72e3*X/_.samprate,x+=21;var le=v[x+0]<<4;le+=v[x+1]>>4;var be=(v[x+1]&15)<<8;return be+=v[x+2]&255,(le<0||le>3e3)&&(le=-1),(be<0||be>3e3)&&(be=-1),_.encDelay=le,_.encPadding=be,_},this.InitVbrTag=function(v){var _=v.internal_flags,x;v.version==1?x=y:v.out_samplerate<16e3?x=L:x=j,v.VBR==r.vbr_off&&(x=v.brate);var O=(v.version+1)*72e3*x/v.out_samplerate,F=_.sideinfo_len+P;if(_.VBR_seek_table.TotalFrameSize=O,O<F||O>S){v.bWriteVbrTag=!1;return}_.VBR_seek_table.nVbrNumFrames=0,_.VBR_seek_table.nBytesWritten=0,_.VBR_seek_table.sum=0,_.VBR_seek_table.seen=0,_.VBR_seek_table.want=1,_.VBR_seek_table.pos=0,_.VBR_seek_table.bag==null&&(_.VBR_seek_table.bag=new int[400],_.VBR_seek_table.size=400);var Q=o(S);I(v,Q);for(var X=_.VBR_seek_table.TotalFrameSize,W=0;W<X;++W)f.add_dummy_byte(v,Q[W]&255,1)};function M(v,_){var x=_^v;return _=_>>8^ee[x&255],_}this.updateMusicCRC=function(v,_,x,O){for(var F=0;F<O;++F)v[0]=M(_[x+F],v[0])};function H(v,_,x,O,F){var Q=v.internal_flags,X=0,W=v.encoder_delay,se=v.encoder_padding,le=100-10*v.VBR_q-v.quality,be=p.getLameVeryShortVersion(),Ce,Te=0,je,Ue=[1,5,3,2,4,0,3],lt=0|(v.lowpassfreq/100+.5>255?255:v.lowpassfreq/100+.5),Et=0,V=0,Y=0,Le=v.internal_flags.noise_shaping,Be=0,We=0,Ge=0,he=0,Ie=0,nt=(v.exp_nspsytune&1)!=0,qe=(v.exp_nspsytune&2)!=0,Ne=!1,yt=!1,xt=v.internal_flags.nogap_total,bt=v.internal_flags.nogap_current,At=v.ATHtype,Lt=0,Nt;switch(v.VBR){case vbr_abr:Nt=v.VBR_mean_bitrate_kbps;break;case vbr_off:Nt=v.brate;break;default:Nt=v.VBR_min_bitrate_kbps}switch(v.VBR.ordinal()<Ue.length?Ce=Ue[v.VBR.ordinal()]:Ce=0,je=16*Te+Ce,Q.findReplayGain&&(Q.RadioGain>510&&(Q.RadioGain=510),Q.RadioGain<-510&&(Q.RadioGain=-510),V=8192,V|=3072,Q.RadioGain>=0?V|=Q.RadioGain:(V|=512,V|=-Q.RadioGain)),Q.findPeakSample&&(Et=Math.abs(0|Q.PeakSample/32767*Math.pow(2,23)+.5)),xt!=-1&&(bt>0&&(yt=!0),bt<xt-1&&(Ne=!0)),Lt=At+((nt?1:0)<<4)+((qe?1:0)<<5)+((Ne?1:0)<<6)+((yt?1:0)<<7),le<0&&(le=0),v.mode){case MONO:Be=0;break;case STEREO:Be=1;break;case DUAL_CHANNEL:Be=2;break;case JOINT_STEREO:v.force_ms?Be=4:Be=3;break;case NOT_SET:default:Be=7;break}v.in_samplerate<=32e3?Ge=0:v.in_samplerate==48e3?Ge=2:v.in_samplerate>48e3?Ge=3:Ge=1,(v.short_blocks==n.short_block_forced||v.short_blocks==n.short_block_dispensed||v.lowpassfreq==-1&&v.highpassfreq==-1||v.scale_left<v.scale_right||v.scale_left>v.scale_right||v.disable_reservoir&&v.brate<320||v.noATH||v.ATHonly||At==0||v.in_samplerate<=32e3)&&(We=1),he=Le+(Be<<2)+(We<<5)+(Ge<<6),Ie=Q.nMusicCRC,ve(x,O+X,le),X+=4;for(var Bt=0;Bt<9;Bt++)x[O+X+Bt]=255&be.charAt(Bt);X+=9,x[O+X]=255&je,X++,x[O+X]=255&lt,X++,ve(x,O+X,Et),X+=4,K(x,O+X,V),X+=2,K(x,O+X,Y),X+=2,x[O+X]=255&Lt,X++,Nt>=255?x[O+X]=255:x[O+X]=255&Nt,X++,x[O+X]=255&W>>4,x[O+X+1]=255&(W<<4)+(se>>8),x[O+X+2]=255&se,X+=3,x[O+X]=255&he,X++,x[O+X++]=0,K(x,O+X,v.preset),X+=2,ve(x,O+X,_),X+=4,K(x,O+X,Ie),X+=2;for(var ur=0;ur<X;ur++)F=M(x[O+ur],F);return K(x,O+X,F),X+=2,X}function D(v){v.seek(0);var _=o(10);v.readFully(_);var x;return new String(_,"ISO-8859-1").startsWith("ID3")?x=0:x=((_[6]&127)<<21|(_[7]&127)<<14|(_[8]&127)<<7|_[9]&127)+_.length,x}this.getLameTagFrame=function(v,_){var x=v.internal_flags;if(!v.bWriteVbrTag||x.Class_ID!=Lame.LAME_ID||x.VBR_seek_table.pos<=0)return 0;if(_.length<x.VBR_seek_table.TotalFrameSize)return x.VBR_seek_table.TotalFrameSize;s.fill(_,0,x.VBR_seek_table.TotalFrameSize,0),I(v,_);var O=o(b);if(v.free_format)for(var F=1;F<b;++F)O[F]=255&255*F/100;else re(x.VBR_seek_table,O);var Q=x.sideinfo_len;v.error_protection&&(Q-=2),v.VBR==r.vbr_off?(_[Q++]=255&$.charAt(0),_[Q++]=255&$.charAt(1),_[Q++]=255&$.charAt(2),_[Q++]=255&$.charAt(3)):(_[Q++]=255&U.charAt(0),_[Q++]=255&U.charAt(1),_[Q++]=255&U.charAt(2),_[Q++]=255&U.charAt(3)),ve(_,Q,h+g+w+R),Q+=4,ve(_,Q,x.VBR_seek_table.nVbrNumFrames),Q+=4;var X=x.VBR_seek_table.nBytesWritten+x.VBR_seek_table.TotalFrameSize;ve(_,Q,0|X),Q+=4,e.arraycopy(O,0,_,Q,O.length),Q+=O.length,v.error_protection&&f.CRC_writeheader(x,_);for(var W=0,F=0;F<Q;F++)W=M(_[F],W);return Q+=H(v,X,_,Q,W),x.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(v,_){var x=v.internal_flags;if(x.VBR_seek_table.pos<=0||(_.seek(_.length()),_.length()==0))return-1;var O=D(_);_.seek(O);var F=o(S),Q=getLameTagFrame(v,F);return Q>F.length?-1:(Q<1||_.write(F,0,Q),0)}}return lp=u,lp}var Ob;function aU(){if(Ob)return Sc;Ob=1;var t=Xt();t.System,t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n;var e=t.new_byte;t.new_double,t.new_float,t.new_float_n,t.new_int,t.new_int_n;var r=t.assert,n=Z$(),s=J$(),o=U8(),l=z8(),u=nU(),c=W8(),f=sU(),p=V8(),h=q8();zr();var g=iU(),w=oU();function R(){this.setModules=function(L,G){}}function b(){this.setModules=function(L,G,U){}}function S(){}function E(){this.setModules=function(L,G){}}function P(L,G,U){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),L=1,G=44100,U=128);var $=new n,ee=new R,ie=new o,re=new h,z=new s,ve=new l,K=new u,B=new w,k=new g,I=new E,M=new f,H=new c,D=new b,v=new S;$.setModules(ie,re,z,ve,K,B,k,I,v),re.setModules(ie,v,k,B),I.setModules(re,k),z.setModules($),K.setModules(re,M,ve,H),ve.setModules(H,M,$.enc.psy),M.setModules(re),H.setModules(ve),B.setModules($,re,k),ee.setModules(D,v),D.setModules(k,I,z);var _=$.lame_init();_.num_channels=L,_.in_samplerate=G,_.brate=U,_.mode=p.STEREO,_.quality=3,_.bWriteVbrTag=!1,_.disable_reservoir=!0,_.write_id3tag_automatic=!1;var x=$.lame_init_params(_);r(x==0);var O=1152,F=0|1.25*O+7200,Q=e(F);this.encodeBuffer=function(X,W){L==1&&(W=X),r(X.length==W.length),X.length>O&&(O=X.length,F=0|1.25*O+7200,Q=e(F));var se=$.lame_encode_buffer(_,X,W,X.length,Q,0,F);return new Int8Array(Q.subarray(0,se))},this.flush=function(){var X=$.lame_encode_flush(_,Q,0,F);return new Int8Array(Q.subarray(0,X))}}function y(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function j(L){return L.charCodeAt(0)<<24|L.charCodeAt(1)<<16|L.charCodeAt(2)<<8|L.charCodeAt(3)}return y.RIFF=j("RIFF"),y.WAVE=j("WAVE"),y.fmt_=j("fmt "),y.data=j("data"),y.readHeader=function(L){var G=new y,U=L.getUint32(0,!1);if(y.RIFF==U&&(L.getUint32(4,!0),y.WAVE==L.getUint32(8,!1)&&y.fmt_==L.getUint32(12,!1))){var $=L.getUint32(16,!0),ee=20;switch($){case 16:case 18:G.channels=L.getUint16(ee+2,!0),G.sampleRate=L.getUint32(ee+4,!0);break;default:throw"extended fmt chunk not implemented"}ee+=$;for(var ie=y.data,re=0;ie!=U&&(U=L.getUint32(ee,!1),re=L.getUint32(ee+4,!0),ie!=U);)ee+=re+8;return G.dataLen=re,G.dataOffset=ee+8,G}},Sc.Mp3Encoder=P,Sc.WavHeader=y,Sc}var lU=aU();async function uU(t){if(t.size<1024*500&&t.type==="audio/mpeg")return t;try{const e=await t.arrayBuffer(),r=window.AudioContext||window.webkitAudioContext,s=await new r().decodeAudioData(e),o=1,l=s.sampleRate,u=128,c=new lU.Mp3Encoder(o,l,u),f=s.getChannelData(0),p=new Int16Array(f.length);if(s.numberOfChannels>1){const S=s.getChannelData(1);for(let E=0;E<f.length;E++){const P=(f[E]+S[E])/2,y=Math.max(-1,Math.min(1,P));p[E]=y<0?y*32768:y*32767}}else for(let S=0;S<f.length;S++){const E=f[S],P=Math.max(-1,Math.min(1,E));p[S]=P<0?P*32768:P*32767}const h=[],g=c.encodeBuffer(p);g.length>0&&h.push(g);const w=c.flush();w.length>0&&h.push(w);const R=new Blob(h,{type:"audio/mp3"}),b=t.name.replace(/\.[^/.]+$/,"")+".mp3";return new File([R],b,{type:"audio/mp3",lastModified:Date.now()})}catch(e){return _t.error("Compression failed:",e),t}}const cU=5*1024*1024,dU=({user:t,setSounds:e,loadStorageUsage:r,setIsSignInModalOpen:n})=>{const{t:s}=Pn(),o=A.useRef(null),l=A.useRef("header");return{fileInputRef:o,handleFileUpload:async f=>{const p=f.target.files;if(p){if(!t){n(!0),o.current&&(o.current.value="");return}for(const h of Array.from(p)){let g;try{if(h.size>cU){Tt.error(s("toast.fileTooLargeWithName",{name:h.name})),Ut({name:"event_fail_upload_sound",params:{file_ext:h.name.split(".").pop()||"",error_code:"File too large (client check)",file_size:h.size}});continue}g=Tt.loading(s("toast.processing",{name:h.name}));let R=h;try{R=await uU(h),_t.log(`Sound optimized: ${h.size} -> ${R.size} bytes`)}catch(E){_t.warn("Compression skipped due to error, using original file",E)}Tt.loading(s("toast.uploading",{name:R.name}),{id:g});const b=await PM(R),S=new Audio(b.fileUrl);await new Promise((E,P)=>{S.onloadedmetadata=()=>{const y={id:b.id,title:h.name.replace(/\.[^/.]+$/,""),fileUrl:b.fileUrl,duration:S.duration||0,hotkey:"",volume:.5,fileName:b.fileName,isDefault:!1};e(j=>[...j,y]),Tt.success(s("toast.addedSound",{title:y.title}),{id:g}),Ut({name:"event_upload_sound",params:{file_ext:h.name.split(".").pop()||"",file_size:h.size}}),E(null)},S.onerror=()=>{Tt.error(s("toast.failedToLoadAudio",{name:R.name}),{id:g}),P(new Error("Failed to load audio"))},S.load()}),await r()}catch(w){_t.error("Upload error:",w);let R="";w instanceof Error?R=w.message:typeof w=="object"&&w!==null&&"message"in w&&(R=String(w.message));const b=g?{id:g}:{};R.includes("Storage limit exceeded")||R.includes("privelege")?Tt.error(s("toast.storageLimitExceeded"),b):R.includes("File too large")||R.includes("payload")?Tt.error(s("toast.fileTooLarge"),b):Tt.error(s("toast.uploadFailed",{name:h.name,error:R}),b),Ut({name:"event_fail_upload_sound",params:{file_ext:h.name.split(".").pop()||"",error_code:R,file_size:h.size}})}}o.current&&(o.current.value="")}},handleAddAudioClick:(f="header")=>{if(!t){Ut({name:"click_signup",params:{trigger_source:"Save_popup"}}),n(!0);return}l.current=f,o.current?.click()}}},fU=t=>{A.useEffect(()=>{const e=r=>{if(document.body.hasAttribute("data-waveform-editor-open")||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey)return;const n=r.code,s=t.find(o=>o.hotkey===n);s&&window.dispatchEvent(new CustomEvent(`play-sound-${s.id}`,{detail:{method:"hotkey"}}))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t])},hU=()=>{const{t}=Pn(),[e,r]=A.useState(null),[n,s]=A.useState(!1),[o,l]=A.useState(!1),[u,c]=A.useState(!1),{sounds:f,setSounds:p,masterVolume:h,isDarkMode:g,toggleTheme:w,storageUsage:R,isLoading:b,loadUserData:S,moveCard:E,updateVolume:P,updateSound:y,deleteSound:j,resetToDefaults:L,resetLocalState:G,handleMasterVolumeChange:U,loadStorageUsage:$,isInitialLoadRef:ee}=V$(e),{signInWithGoogle:ie,signOut:re}=F$({user:e,setUser:r,onSignIn:De.useCallback(_=>S(_),[S]),onSignOut:De.useCallback(()=>G(),[G]),isInitialLoadRef:ee}),{fileInputRef:z,handleFileUpload:ve,handleAddAudioClick:K}=dU({user:e,setSounds:p,loadStorageUsage:$,setIsSignInModalOpen:s});fU(f),De.useEffect(()=>{g?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[g]);const[B,k]=A.useState(!1);De.useEffect(()=>{const _=()=>{k(window.scrollY>0)};return window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)},[]);const I=async()=>{if(e)try{Tt.loading(t("toast.deletingAccount"),{id:"delete-account"}),await IM(),G(),await ci.auth.signOut(),r(null),Tt.success(t("toast.accountDeleted"),{id:"delete-account"}),e?.id&&Ut({name:"event_delete_account",params:{user_id:e.id}})}catch(_){_t.error("Error deleting account:",_),Tt.error(t("toast.failedToDeleteAccount"),{id:"delete-account"})}},M=async()=>{await L(),l(!1)},[H,D]=A.useState(""),v=f.filter(_=>_.title.toLowerCase().includes(H.toLowerCase()));return T.jsx("div",{className:g?"dark":"",children:T.jsxs("div",{className:"min-h-screen transition-colors duration-300 bg-background text-foreground w-full",children:[T.jsx(r1,{isScrolled:B,isDarkMode:g,toggleTheme:w,user:e,masterVolume:h,onMasterVolumeChange:U,searchQuery:H,onSearchQueryChange:D,storageUsage:R,onSignIn:ie,onSignOut:re,onResetToDefaults:()=>l(!0),onDeleteAccount:()=>c(!0),fileInputRef:z,onFileUpload:ve,onAddAudioClick:K}),T.jsx(D$,{isLoading:b,sounds:f,filteredSounds:v,searchQuery:H,masterVolume:h,moveCard:E,deleteSound:j,updateVolume:P,updateSound:y,handleAddAudio:K}),T.jsx(B$,{isOpen:n,onClose:()=>s(!1),onSignIn:ie}),T.jsx(j$,{isOpen:o,onClose:()=>l(!1),onConfirm:M,title:t("confirmModal.resetTitle"),description:t("confirmModal.resetDescription"),confirmText:t("header.resetToDefaults"),cancelText:t("confirmModal.cancel"),variant:"destructive"}),T.jsx(L$,{isOpen:u,onClose:()=>c(!1),onConfirm:I,storageUsageStr:pl(R?.currentUsage||0)})]})})},pU=()=>T.jsxs(T.Fragment,{children:[T.jsx(r1,{}),T.jsx("div",{className:"min-h-screen bg-background text-foreground-primary p-6 md:p-12",children:T.jsxs("div",{className:"max-w-3xl mx-auto",children:[T.jsx("div",{className:"mb-8",children:T.jsx(ia,{to:"/",children:T.jsxs(Pt,{variant:"ghost",className:"gap-2 pl-0 -ml-6 hover:bg-transparent hover:text-primary",children:[T.jsx(nx,{size:16}),"Back to Soundeck"]})})}),T.jsx("h1",{className:"text-3xl font-bold mb-2 font-['Sora']",children:"Privacy Policy"}),T.jsx("p",{className:"text-sm text-foreground-tertiary mb-8",children:"Effective Date: December 7, 2025"}),T.jsxs("div",{className:"space-y-6 text-sm md:text-base text-foreground-secondary leading-relaxed",children:[T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"1. Introduction"}),T.jsx("p",{children:'Soundeck ("we", "our", or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your information when you use our soundboard application.'})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"2. Information We Collect"}),T.jsx("p",{className:"mb-2",children:"We collect the following types of information:"}),T.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Account Information:"})," When you sign in with Google, we collect your email address and profile picture to identify you and personalize your experience."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"User Content:"})," We store the audio files you upload to our service."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Usage Data & Local Storage:"})," We store your soundboard configuration (settings, hotkeys, layout) and use Local Storage technologies on your device to ensure zero-latency performance and remember your preferences."]})]})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"3. How We Use Your Information"}),T.jsx("p",{children:"We use the collected information solely to provide and improve the Soundeck service. Specifically:"}),T.jsxs("ul",{className:"list-disc pl-5 space-y-1 mt-2",children:[T.jsx("li",{children:"To create and manage your account."}),T.jsx("li",{children:"To store and retrieve your custom soundboard configuration."}),T.jsx("li",{children:"To process and store your uploaded audio files."})]})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"4. Data Storage and Security"}),T.jsx("p",{children:"Your data is stored securely using Supabase. We implement appropriate technical measures to protect your personal information. However, please note that no method of transmission over the internet is 100% secure."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"5. User Uploaded Content"}),T.jsx("p",{children:"You are responsible for the audio content you upload. We do not monitor all user content, but we reserve the right to remove any content that violates our Terms of Service or applicable laws."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"6. User Rights & Data Deletion"}),T.jsx("p",{children:"You have the right to access, update, or delete your personal information at any time. You can delete your account and all associated data (including uploaded audio files) directly through the 'Delete Account' feature located in the settings page of the Service. Once initiated, this action is irreversible and your data will be permanently removed from our servers immediately."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"7. Changes to This Policy"}),T.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."})]})]})]})})]}),mU=()=>T.jsxs(T.Fragment,{children:[T.jsx(r1,{}),T.jsx("div",{className:"min-h-screen bg-background text-foreground-primary p-6 md:p-12",children:T.jsxs("div",{className:"max-w-3xl mx-auto",children:[T.jsx("div",{className:"mb-8",children:T.jsx(ia,{to:"/",children:T.jsxs(Pt,{variant:"ghost",className:"gap-2 pl-0 -ml-6 hover:bg-transparent hover:text-primary",children:[T.jsx(nx,{size:16}),"Back to Soundeck"]})})}),T.jsx("h1",{className:"text-3xl font-bold mb-2 font-['Sora']",children:"Terms of Service"}),T.jsx("p",{className:"text-sm text-foreground-tertiary mb-8",children:"Effective Date: December 7, 2025"}),T.jsxs("div",{className:"space-y-6 text-sm md:text-base text-foreground-secondary leading-relaxed",children:[T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"1. Acceptance of Terms"}),T.jsx("p",{children:"By accessing and using Soundeck, you agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our service. By using the Service, you represent and warrant that you are at least 14 years of age (or the age of digital consent in your jurisdiction)."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"2. Description of Service"}),T.jsx("p",{children:"Soundeck provides a web-based soundboard application for streamers and content creators. We offer both a free tier and storage capabilities for custom audio files."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"3. User Accounts"}),T.jsx("p",{children:"You must create an account via Google Sign-In to access certain features. You are responsible for maintaining the confidentiality of your account and for all activities that occur under your account."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"4. User Content and Conduct"}),T.jsx("p",{className:"mb-2",children:"You retain all rights to the audio files you upload to Soundeck. By uploading content, you represent and warrant that:"}),T.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[T.jsx("li",{children:"You own the content or have the necessary rights to use and share it."}),T.jsx("li",{children:"The content does not violate any third-party rights, including copyright, trademark, or privacy rights."}),T.jsx("li",{children:"The content is not illegal, offensive, or harmful."})]}),T.jsx("p",{className:"mt-2",children:"We reserve the right to remove any content that violates these terms or for any other reason at our sole discretion."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"5. Storage Limits"}),T.jsx("p",{children:"We provide a limited amount of storage for your custom audio files. The specific storage limits are described in the Service interface and may be changed by us at any time without prior notice."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"6. Termination"}),T.jsx("p",{children:"We may terminate or suspend your account and access to the Service immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms. Upon termination, your right to use the Service will immediately cease."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"7. Disclaimer of Warranties"}),T.jsx("p",{children:'The service is provided "as is" and "as available" without any warranties of any kind, either express or implied. We do not guarantee that the service will be uninterrupted, secure, or error-free.'})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"8. Limitation of Liability"}),T.jsx("p",{children:"In no event shall Soundeck be liable for any indirect, incidental, special, consequential, or punitive damages arising out of or relating to your use of the service."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold text-foreground-primary mb-3",children:"9. Governing Law"}),T.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of the Republic of Korea, without regard to its conflict of law provisions. Any legal action or proceeding arising under these Terms will be brought exclusively in the courts located in the Republic of Korea."})]})]})]})})]}),gU=()=>{const{t}=Pn();return T.jsx("footer",{className:"w-full border-t border-surface-border bg-background mt-auto",children:T.jsxs("div",{className:"container mx-auto py-8 px-4 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-foreground-secondary",children:[T.jsxs("div",{className:"flex items-center gap-6 text-[12px]",children:[T.jsx(ia,{to:"/privacy",className:"hover:text-foreground-primary transition-colors",children:t("footer.privacyPolicy")}),T.jsx(ia,{to:"/terms",className:"hover:text-foreground-primary transition-colors",children:t("footer.termsOfService")}),T.jsx("a",{href:"https://www.buymeacoffee.com/hbhb",target:"_blank",rel:"noopener noreferrer",className:"hover:text-foreground-primary transition-colors",children:t("common.buyMeACoffee")})]}),T.jsxs("div",{className:"text-xs text-foreground-tertiary",children:[" ",new Date().getFullYear()," ",t("footer.rights")]})]})})},vU=()=>{const t=Ms(),e=A.useRef(!1);return A.useEffect(()=>{e.current||(bd(),e.current=!0)},[]),A.useEffect(()=>{SC()},[t]),null};bd();const yU=()=>{const{pathname:t}=Ms();return A.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.scrollTo(0,0)},[t]),null};function _U(){return T.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-foreground-primary",children:[T.jsx(vU,{}),T.jsx(yU,{}),T.jsx("div",{className:"flex-1 w-full",children:T.jsxs(B9,{children:[T.jsx(Ec,{path:"/",element:T.jsx(hU,{})}),T.jsx(Ec,{path:"/privacy",element:T.jsx(pU,{})}),T.jsx(Ec,{path:"/terms",element:T.jsx(mU,{})})]})}),T.jsx(gU,{}),T.jsx(SM,{position:"bottom-right",theme:"dark"})]})}function wU(){return T.jsx(aC,{children:T.jsx(_U,{})})}const{slice:bU,forEach:xU}=[];function SU(t){return xU.call(bU.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function EU(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const Pb=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,CU=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let o=`${t}=${s}`;if(n.maxAge>0){const l=n.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(n.domain){if(!Pb.test(n.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${n.domain}`}if(n.path){if(!Pb.test(n.path))throw new TypeError("option path is invalid");o+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(o+="; Partitioned"),o},Nb={create(t,e,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),n&&(s.domain=n),document.cookie=CU(t,e,s)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let s=r[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var TU={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Nb.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:s,cookieOptions:o}=e;r&&typeof document<"u"&&Nb.create(r,t,n,s,o)}},RU={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const o=n.substring(1).split("&");for(let l=0;l<o.length;l++){const u=o[l].indexOf("=");u>0&&o[l].substring(0,u)===e&&(r=o[l].substring(u+1))}}return r}},kU={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const o=s.substring(1);if(e){const l=o.split("&");for(let u=0;u<l.length;u++){const c=l[u].indexOf("=");c>0&&l[u].substring(0,c)===e&&(n=l[u].substring(c+1))}}if(n)return n;if(!n&&r>-1){const l=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let $o=null;const Mb=()=>{if($o!==null)return $o;try{if($o=typeof window<"u"&&window.localStorage!==null,!$o)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{$o=!1}return $o};var AU={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Mb())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&Mb()&&window.localStorage.setItem(r,t)}};let Uo=null;const Ib=()=>{if(Uo!==null)return Uo;try{if(Uo=typeof window<"u"&&window.sessionStorage!==null,!Uo)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Uo=!1}return Uo};var OU={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Ib())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&Ib()&&window.sessionStorage.setItem(r,t)}},PU={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:s}=navigator;if(r)for(let o=0;o<r.length;o++)e.push(r[o]);n&&e.push(n),s&&e.push(s)}return e.length>0?e:void 0}},NU={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},MU={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof e=="number"?e:0]?.replace("/",""):void 0}},IU={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let G8=!1;try{document.cookie,G8=!0}catch{}const K8=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];G8||K8.splice(1,1);const DU=()=>({order:K8,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Y8{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=SU(r,this.options||{},DU()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(TU),this.addDetector(RU),this.addDetector(AU),this.addDetector(OU),this.addDetector(PU),this.addDetector(NU),this.addDetector(MU),this.addDetector(IU),this.addDetector(kU)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let s=this.detectors[n].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(r=r.concat(s))}}),r=r.filter(n=>n!=null&&!EU(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}Y8.type="languageDetector";const jU={searchPlaceholder:"Search sounds...",signInWithGoogle:"Sign in with Google",signOut:"Sign Out",signedInAs:"Signed in as",storage:"Storage",resetToDefaults:"Reset to defaults",deleteAccount:"Delete Account",addAudio:"Add sound",masterVolume:"Master Volume",theme:"Theme",themeDark:"Dark",themeLight:"Light",cancel:"Cancel",language:"Language"},LU={title:"My own free web soundboard",description:`Just open Soundeck and youre ready!
Drag to arrange your board and use hotkeys or click to play sounds.`},BU={play:"Play",stop:"Stop",loop:"Loop",volume:"Volume"},FU={volume:"Volume",editInfo:"Edit info",trimRange:"Trim range",delete:"Delete",play:"Play",pause:"Pause",stop:"Stop",trimmed:"(Trimmed)",defaultSound:"Default Sound",unknownSize:"Unknown Size",storageUsage:"Storage Usage"},VU={title:"Edit sound info",labelEmoji:"Emoji",labelTitle:"Title",labelHotkey:"Hotkey",hotkeyPlaceholder:"Click to set hotkey",hotkeyLoop:"Press any key...",pressEc:"Press ESC to cancel",done:"Done",clearHotkey:"Clear hotkey"},$U={title:"Set Hotkey",description:'Press any key to set a hotkey for "{{title}}"',current:"Current Hotkey",clickToSet:"Click above to set or change hotkey"},UU={dragToSelect:"Drag to select playback range",total:"Total",play:"Play",pause:"Pause",clear:"Clear",saveRange:"Save Range"},HU={confirm:"Confirm",cancel:"Cancel",resetTitle:"Reset to Defaults?",resetDescription:`This action will:

 Delete all uploaded audio files
 Remove all custom settings
 Restore default soundboard

This action cannot be undone.`,deleteSoundTitle:"Are you sure?",deleteSoundDescription:"This action cannot be undone. This will permanently delete the sound."},zU={title:"Delete Account?",description1:"Are you sure you want to delete your account?",description2:"This will permanently delete:",item1:"All uploaded audio files ({{size}})",item2:"All custom settings",item3:"Your account information",warning:"This action CANNOT be undone.",typeToConfirm:"Type <bold>{{text}}</bold> to confirm",button:"Delete Account",confirmText:"DELETE ACCOUNT"},WU={loading:"Loading...",buyMeACoffee:"Buy me a coffee"},qU={failedToLoadData:"Failed to load your data",settingsAutoSaved:"Settings auto-saved",soundsAutoSaved:"Sounds auto-saved",soundRemoved:"Sound removed",deletingSound:"Deleting sound...",soundDeleted:"Sound deleted",failedToDeleteSound:"Failed to delete sound",resettingToDefaults:"Resetting to defaults...",resetToDefaultsSuccess:"Successfully reset to defaults",resetToDefaultsFailed:"Failed to reset to defaults",hotkeyCaptureCancelled:"Hotkey capture cancelled",hotkeySet:"Hotkey set to: {{hotkey}}",signedInSuccess:"Successfully signed in!",signedOut:"Sign out",signInFailed:"Sign in failed: {{error}}",processing:"Processing {{name}}...",uploading:"Uploading {{name}}...",addedSound:"Added {{title}}",failedToLoadAudio:"Failed to load {{name}}",storageLimitExceeded:"Storage limit exceeded",fileTooLarge:"File is too large (>5MB)",fileTooLargeWithName:"{{name}} is too large (>5MB)",uploadFailed:"Failed to upload {{name}}: {{error}}",deletingAccount:"Deleting account...",accountDeleted:"Account deleted successfully",failedToDeleteAccount:"Failed to delete account",hotkeyCleared:"Hotkey cleared",trimCleared:"Trim range cleared",trimSaved:"Trim range saved"},GU={privacyPolicy:"Privacy Policy",termsOfService:"Terms Of Service",rights:"Soundeck. All rights reserved."},KU={header:jU,hero:LU,dashboard:BU,soundCard:FU,editModal:VU,hotkeyDialog:$U,waveEditor:UU,confirmModal:HU,deleteAccountModal:zU,common:WU,toast:qU,footer:GU},YU={searchPlaceholder:" ",signInWithGoogle:"Google ",signOut:"",signedInAs:" ",storage:" ",resetToDefaults:" ",deleteAccount:" ",addAudio:" ",masterVolume:" ",theme:"",themeDark:"",themeLight:"",cancel:"",language:""},XU={title:"   ",description:`Soundeck   !
  ,     .`},QU={play:"",stop:"",loop:"",volume:""},ZU={volume:"",editInfo:" ",trimRange:" ",delete:"",play:"",pause:"",stop:"",trimmed:"()",defaultSound:" ",unknownSize:"  ",storageUsage:" "},JU={title:"  ",labelEmoji:"",labelTitle:"",labelHotkey:"",hotkeyPlaceholder:" ",hotkeyLoop:" .",pressEc:" ESC",done:"",clearHotkey:" "},eH={title:" ",description:'"{{title}}"    .',current:" ",clickToSet:"    ."},tH={dragToSelect:"   .",total:"",play:"",pause:"",clear:"",saveRange:" "},rH={confirm:"",cancel:"",resetTitle:" ?",resetDescription:`    :

    
   
   

    .`,deleteSoundTitle:" ?",deleteSoundDescription:"    .   ."},nH={title:" ?",description1:"  ?",description2:"   :",item1:"    ({{size}})",item2:"  ",item3:" ",warning:"    .",typeToConfirm:"<bold>{{text}}</bold>  .",button:" ",confirmText:" ."},sH={loading:" ...",buyMeACoffee:""},iH={failedToLoadData:"  .",settingsAutoSaved:"  .",soundsAutoSaved:"  .",soundRemoved:" .",deletingSound:"  ...",soundDeleted:" .",failedToDeleteSound:"  ",resettingToDefaults:"  ...",resetToDefaultsSuccess:" .",resetToDefaultsFailed:" .",hotkeyCaptureCancelled:"  .",hotkeySet:" : {{hotkey}}.",signedInSuccess:" !",signedOut:".",signInFailed:" : {{error}}",processing:"{{name}}  ...",uploading:"{{name}}  ...",addedSound:"{{title}} ",failedToLoadAudio:"{{name}}  ",storageLimitExceeded:"  ",fileTooLarge:"   (>5MB)",fileTooLargeWithName:"{{name}}    (>5MB)",uploadFailed:"{{name}}  : {{error}}",deletingAccount:"  ...",accountDeleted:" .",failedToDeleteAccount:"  ",hotkeyCleared:" .",trimCleared:"  .",trimSaved:"  ."},oH={privacyPolicy:"  ",termsOfService:"",rights:"Soundeck. All rights reserved."},aH={header:YU,hero:XU,dashboard:QU,soundCard:ZU,editModal:JU,hotkeyDialog:eH,waveEditor:tH,confirmModal:rH,deleteAccountModal:nH,common:sH,toast:iH,footer:oH};Dr.use(Y8).use(ZT).init({resources:{en:{translation:KU},ko:{translation:aH}},fallbackLng:"en",interpolation:{escapeValue:!1}});document.documentElement.lang=Dr.language||"en";Dr.on("languageChanged",t=>{document.documentElement.lang=t});DE.createRoot(document.getElementById("root")).render(T.jsxs(T.Fragment,{children:[T.jsx(wU,{}),T.jsx(WE,{})]}));
